issuekey,created,title,description,storypoints
25326678,2019-09-26 03:22:02.733,XSRF Prevention Middleware,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
25326658,2019-09-26 03:20:48.471,Admin Middleware,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
25326650,2019-09-26 03:20:15.836,Logged-in Middleware (Disallow anonymous access to certain endpoints),Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
25326638,2019-09-26 03:18:55.495,Catch unhandled exception on route map handlers. Build a response and ping Sentry,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
25326456,2019-09-26 03:16:52.086,Allow module route maps to specify groups with common middleware (as children routes),Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
25326449,2019-09-26 03:15:40.574,Allow module route maps to specify one or more middleware,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
25326433,2019-09-26 03:13:36.085,Allow modules to map explicit routes handled via DI bindings,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
25325960,2019-09-26 03:09:49.488,Move pre-PSR-7 router to it's class and create a fallback middleware,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
25325940,2019-09-26 03:07:22.912,Request handler prototype,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
25325773,2019-09-26 02:58:16.678,Recurring Pro subscription payments using multi-currency wire,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
25325725,2019-09-26 02:55:44.389,Pro channels should have Plus benefits,`isPlus()` should return true if `isPro()` is true,1
25321566,2019-09-25 23:22:01.024,Error: Call to a member function isOwner() on null when trying to read deleted group's review queue,"Sentry Issue: [ENGINE-4Y](https://sentry.io/organizations/minds-inc/issues/1195076403/?referrer=gitlab_integration)

```
Error: Call to a member function isOwner() on null
  File ""/Controllers/api/v1/groups/review.php"", line 22, in Minds\Controllers\api\v1\groups\review::get
    if (!$group->isOwner($user) && !$group->isModerator($user)) {
  File ""/Api/Factory.php"", line 70, in Minds\Api\Factory::build
    return $handler->$method($pages);
  File ""/Controllers/api/api.php"", line 76, in Minds\Controllers\api\api::get
    return Factory::build($pages, $this->request, $this->response);
  File ""/Core/Router.php"", line 138, in Minds\Core\Router::route
    return $handler->$method($pages);
  File ""/index.php"", line 9
    $router->route();
```",1
25321532,2019-09-25 23:15:42.348,Error: Call to undefined function elgg_normalize_url() when building SEO image tag URL,"Sentry Issue: [ENGINE-49](https://sentry.io/organizations/minds-inc/issues/1192152261/?referrer=gitlab_integration)

```
Error: Call to undefined function elgg_normalize_url()
  File ""/classes/ElggEntity.php"", line 1005, in ElggEntity::getIconURL
    return elgg_normalize_url($url);
  File ""/Core/Media/SEO.php"", line 80, in Minds\Core\Media\SEO::viewHandler
    'og:image' => $entity->getIconUrl('xlarge'),
  File ""[internal]"", line 0, in call_user_func_array
  File ""/Core/SEO/Manager.php"", line 69, in Minds\Core\SEO\Manager::get
    $meta = call_user_func_array(self::$routes[$route], [array_reverse($slugs)]) ?: [];
  File ""/var/www/Minds/front/dist/en/index.php"", line 2, in include
    $meta = Minds\Core\SEO\Manager::get();
...
(3 additional frame(s) were not displayed)
```",2
25321504,2019-09-25 23:12:45.775,Error: Call to a member function getEmail() on null when reading settings,"Sentry Issue: [ENGINE-26](https://sentry.io/organizations/minds-inc/issues/1179022582/?referrer=gitlab_integration)

```
Error: Call to a member function getEmail() on null
  File ""/Controllers/api/v2/settings/emails.php"", line 41, in Minds\Controllers\Api\v2\settings\emails::get
    'email' => $user->getEmail(),
  File ""/Api/Factory.php"", line 70, in Minds\Api\Factory::build
    return $handler->$method($pages);
  File ""/Controllers/api/api.php"", line 76, in Minds\Controllers\api\api::get
    return Factory::build($pages, $this->request, $this->response);
  File ""/Core/Router.php"", line 138, in Minds\Core\Router::route
    return $handler->$method($pages);
  File ""/index.php"", line 9
    $router->route();
```",2
25321471,2019-09-25 23:09:05.235,Exception: user_guid be be sent when getting Update Markers,"Sentry Issue: [ENGINE-D](https://sentry.io/organizations/minds-inc/issues/1177469648/?referrer=gitlab_integration)

```
Exception: user_guid be be sent
  File ""/Core/Notification/UpdateMarkers/Repository.php"", line 34, in Minds\Core\Notification\UpdateMarkers\Repository::getList
    throw new \Exception('user_guid be be sent');
  File ""/Core/Notification/UpdateMarkers/Manager.php"", line 28, in Minds\Core\Notification\UpdateMarkers\Manager::getList
    return $this->repository->getList($opts);
  File ""/Core/Groups/Membership.php"", line 649, in Minds\Core\Groups\Membership::getGroupsByMember
    'limit' => 1000,
  File ""/Controllers/api/v1/groups.php"", line 52, in Minds\Controllers\api\v1\groups::get
    'offset' => (int) $_GET['offset'],
  File ""/Api/Factory.php"", line 70, in Minds\Api\Factory::build
    return $handler->$method($pages);
...
(3 additional frame(s) were not displayed)
```
We need to check to make sure that we check for an authenticated user before we request update markers",3
25304162,2019-09-25 15:25:27.328,(feature) replace admin check with permissions,"Everywhere we check admin permissions on the backend, we need to feature flag check the new permissions flags",2
25302105,2019-09-25 14:33:35.306,(bug): Disallow /pro/channel on non-Pro channels,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
25299914,2019-09-25 13:38:12.967,(chore): Investigate ban reasons inconsistencies.,See https://gitlab.com/minds/engine/merge_requests/328#note_221820226,3
25249801,2019-09-24 15:11:07.650,(bug): Switch ban email to another address,Currently it tells the user to reply to no-reply.,1
25133150,2019-09-23 20:02:02.326,(bug): Ensure Contributions\Repository handles faulty $rows values,"Sentry Issue: [ENGINE-J](https://sentry.io/organizations/minds-inc/issues/1177479145/?referrer=gitlab_integration)

```
Error: Call to a member function pagingStateToken() on boolean
  File ""/Core/Rewards/Contributions/Repository.php"", line 124, in Minds\Core\Rewards\Contributions\Repository::getList
    'token' => $rows->pagingStateToken()
  File ""/Controllers/api/v2/blockchain/contributions.php"", line 36, in Minds\Controllers\api\v2\blockchain\contributions::get
    'offset' => $offset
  File ""/Api/Factory.php"", line 69, in Minds\Api\Factory::build
    return $handler->$method($pages);
  File ""/Controllers/api/api.php"", line 76, in Minds\Controllers\api\api::get
    return Factory::build($pages, $this->request, $this->response);
  File ""/Core/Router.php"", line 137, in Minds\Core\Router::route
    return $handler->$method($pages);
...
(1 additional frame(s) were not displayed)
```",2
25131549,2019-09-23 19:35:03.018,(bug): Wire\Thresholds should handle NULL users (logged-out),"Sentry Issue: [ENGINE-1T](https://sentry.io/organizations/minds-inc/issues/1178004156/?referrer=gitlab_integration)

```
Cassandra\Exception\InvalidArgumentException: num must be a long, double, numeric string or a Cassandra\Varint instance,  given
  File ""/Core/Wire/Sums.php"", line 114, in Cassandra\Varint::__construct
    new \Cassandra\Varint($this->sender_guid),
  File ""/Core/Wire/Sums.php"", line 114, in Minds\Core\Wire\Sums::getSent
    new \Cassandra\Varint($this->sender_guid),
  File ""/Core/Wire/Thresholds.php"", line 63, in Minds\Core\Wire\Thresholds::isAllowed
    $amount = $sums->getSent();
  File ""/Core/Media/Thumbnails.php"", line 26, in Minds\Core\Media\Thumbnails::get
    if (!Di::_()->get('Wire\Thresholds')->isAllowed($loggedInUser, $entity)) {
  File ""/Controllers/fs/v1/thumbnail.php"", line 36, in Minds\Controllers\fs\v1\thumbnail::get
    $thumbnail = $mediaThumbnails->get($pages[0], $size);
...
(4 additional frame(s) were not displayed)
```",2
25113452,2019-09-23 12:20:01.695,Full test plan for destkop,,3
25097825,2019-09-23 02:26:56.326,(feat): Implement referral system to Pro Domain,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
25090455,2019-09-22 16:58:11.425,(bug): videos not playing when webtorrent enabled,"It seems that reminded videos do not render a working ""play"" button. Multiple users have reported this, but I've not been able to replicate.

* https://www.minds.com/newsfeed/1022536967470239744 <br>
* https://www.minds.com/newsfeed/1022434607589212160 <br>
* https://www.minds.com/newsfeed/1022400200341803008 <br>
* https://www.minds.com/newsfeed/1022045056894849024 <br>
* https://www.minds.com/newsfeed/1022855418898337792 <br>
* https://www.minds.com/newsfeed/1022863137753997312 <br>",3
25048836,2019-09-20 15:39:22.241,(feat): Turn on feature flags when staging cookie present.,"Clients should be able to set `staging-features=<base64_encoded_JSON>` along with `staging=1`

Base64 Encoded JSON, when decoded, should have the following structure:
```JSON
{ ""pro"": true, ""es-feeds"": true }
```

That cookie should affect the outcome of `Features\Manager::has()` and `Features::Manager::export()`",2
25044245,2019-09-20 13:04:20.417,"(chore): Follow-up from ""(feat): Minds Pro""","The following discussions from !308 should be addressed:

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_218633043): 

    > This is using legacy JWT library. We should be using the new JWT library used by Core/Sessions/Manager, Core/Security/SignedUri.php etc. The new one is the `Lcobucci\JWT` library

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219735047): 

    > Please remove this block. This should be for registration only and also not at the controller level. The `from` parameter is also not very clear and potentially insecure.

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219735624): 

    > This should be done via the referral cookie. Please remove from the controllers.

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219735826): 

    > Why is this added in here?

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219738230): 

    > remove from here. There is already referral logic.

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219738679): 

    > This should be set in the constructor

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219738923): 

    > Why is this no longer set?

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219739965): 

    > and here?

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219740651): 

    > This should be injected

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219741300): 

    > return type `:void`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744604): 

    > return type `: Jwt`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744606): 

    > return type `: array`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744607): 

    > return type `: string`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744608): 

    > return type `: string`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744610): 

    > return type `: array`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744611): 

    > return type `: Manager`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744612): 

    > return type `: array`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744613): 

    > return type `: HydrateSettingsDelegate`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744614): 

    > return type `: InitializeSettingsDelegate`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744615): 

    > docs and return type needed

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744616): 

    > return type `: ?Settings`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744618): 

    > return type `: string`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744619): 

    > return type `: string`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744622): 

    > return type `: void`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744624): 

    > return type `: string`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744625): 

    > return type `: Manager`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744627): 

    > return type `: Manager`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744629): 

    > return type `: bool`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744633): 

    > return type `: bool`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744635): 

    > return type `: bool`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744636): 

    > return type `: ?Settings`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744637): 

    > return type `: bool`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744639): 

    > return type `: Response`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744641): 

    > return types needed for this file

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744643): 

    > return type `: string`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744645): 

    > return type `: array`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744647): 

    > return type `: array`

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744648): 

    > Return types needed for this file

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744650): 

    > return types needed

- [x] @markeharding started a [discussion](https://gitlab.com/minds/engine/merge_requests/308#note_219744657): 

    > return types",2
24993236,2019-09-19 14:39:02.961,(fix): hashtag filters do not detect hashtags from posts with only text or outside links,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
24985364,2019-09-19 11:30:24.872,Kite user guid is not logged properly,"In Kite index some documents has short guid:

```
9126
36989
928292
87334836935
7623355377579362
21891019491592981
27667508119009771
29759722821258901
34209858267472015
37859586873321869
43862099460765620
47580495288740679
48383866281168139
50759326361202941
56403706515584002
58443165904275271
65681389729650860
78757476555697447
82352297385550137
83696497744413492
90167915953349636
91260549480632321
95117807210039571
```",2
24962728,2019-09-18 20:29:44.583,Docker structure for new frontend server,"- [ ] Replace front-init container with a front-server
- [ ] Hot reload in dev mode?",2
24962337,2019-09-18 20:13:00.754,Refactor SEO from backend to frontend,"Currently the SEO is handled by the backend. Moving to the frontend, once SSR is established (https://gitlab.com/minds/front/issues/1930) will lead to a unified environment with a single place for pages to be handled.",5
24959070,2019-09-18 18:18:30.568,(refactor): Use newest library for JWT token,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
24956222,2019-09-18 16:22:05.571,(bug): block does not work in groups,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

If user A blocks user B, user B will still appear in the group-feed of user A.

### Steps to reproduce

Unknown - it appears to happen rarely, but very randomly.

I have seen multiple reports and I and other team members have seen it happen first-hand.

### Platform information 

Cross-platform web.

### What is the current *bug* behavior?

Blocked users show up in feeds.

### What is the expected *correct* behavior?

Blocked users should not appear for the blocker.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)

/label ~""T \- Bug"" ~""S \- Triage:new"" 

Let's make sure
- [x] Banned users disappear from the UI on feeds
- [x] Banned users do not appear on reload
- [x] We need to make sure that admins can only see blocked users by explicitly going to their channel page. They should not be showing up in anyone's feeds.",4
24955442,2019-09-18 16:10:51.165,Framework Performance Optimisations,"* Autoloader and some of the Events registration callbacks are suboptimal
* Adds properly configured opcache for dev env",2
24945088,2019-09-18 13:19:07.034,(bug): Not auto-subbing when registering,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
24945060,2019-09-18 13:18:33.166,(bug): 500 when auto-subbing on login,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
24936218,2019-09-18 10:56:28.934,Issue referral cookie on channel and asset pages if not already set,,1
24932410,2019-09-18 09:05:27.592,Test User State Functionality in Review Sites,"The following need tested:
* Analytics cli run daily records correct user states and sends notifications when user state changes
* Analytics cli 'incremental' run tracks user state changes for the current day and sends notification if there is going to be a user state decline

The review site will need a number of users for this that can generate activities and be registered to receive token rewards (currently not working, assuming Twilio key is needed in config).

This will need to take place over a number of days unless there is an easy way of injecting fake user activity into the backend - Reliable way would be writing a cli to do this???",6
24922097,2019-09-17 23:05:02.194,(test): Engine spec tests,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
24918570,2019-09-17 20:28:16.759,Unable to fully cancel out of video upload,chrome on apple desktop,2
24909406,2019-09-17 16:46:30.687,(fix): issues when saving settings,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
24849977,2019-09-16 19:50:20.917,(feat): Configure Traefik frontends when saving Pro settings,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
24842948,2019-09-16 16:34:03.181,Case sensitivity on hashtags,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Case sensitivity on hashtags is detrimental to the users experience.

### Steps to reproduce
Compare the following two links and note the hashtag params difference in case.

* https://www.minds.com/newsfeed/global/top;hashtag=unfucktheworld;period=24h
* https://www.minds.com/newsfeed/global/top;hashtag=UnfuckTheWorld;period=24h

### Platform information 

Cross-platform web.

### What is the current *bug* behavior?

examples, #FOObar and #fooBAR are not showing the same hashtags.

### What is the expected *correct* behavior?

Case sensitivity shouldn't make a difference for hashtags.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
24765631,2019-09-13 13:51:39.600,(feat): Endpoint returning both Pro channel and current user,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
24740805,2019-09-12 20:33:36.754,(chore): Disallow Pro self-enable,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
24740780,2019-09-12 20:32:12.403,(feat): Allow admins to toggle Pro on channels,,2
24740714,2019-09-12 20:28:17.293,(feat): Add validations to Settings submissions,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
24733288,2019-09-12 14:35:13.823,"Wire emails use the @symbol but shows the display name, not username",,1
24700470,2019-09-11 17:44:07.273,(feat): Allow admins to submit <head> code for Pro Domain pages,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
24699621,2019-09-11 17:20:37.848,(feat): Allow admins to edit Pro settings,,2
24681496,2019-09-11 11:26:18.428,Efficient querying of views table,"- [ ] Copy to elasticsearch with hourly resolution
```json
{
  ""resolution"": ""day"",
  ""@timestamp"": 1568627843000,
  ""entity_urn"": ""urn:activity:123"",
  ""owner_guid"": ""456"",
  ""views"": 201
}
```
- [ ] Cli script to run over views and update hourly and update the aggregated number
- [ ] Forward plan reducing resolution on main `views` table",3
24681364,2019-09-11 11:23:03.017,Record owner_guid on views table,"| Column | Type |
| ------ | ------ |
| owner_guid | bigint |",1
24678870,2019-09-11 10:05:16.103,Opt-in endpoint to join partner program,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
24663007,2019-09-10 22:20:21.126,Unread messages should automatically go to top of messenger list,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Unread messages need to be displayed at the top of a user's messenger list so that they can easily find it and read it. Otherwise, the notification remains and it is confusing unless you scroll way down the list to find the unread message.

all platforms

### Relevant logs and/or screenshots

This video depicts the confusion it can cause. The video does not show this, but the reason the message marker remains there is because there was an unread message buried down the list.


![video-export](/uploads/ae00fcb5549760607954dd31e0a3b37e/video-export.mp4)",2
24661025,2019-09-10 21:08:21.892,"(fix): if editing, time_created should only be changed if it's different from entity time_created",,1
24634404,2019-09-10 10:31:00.397,(feat) Cli controller for triggering notifications,I'm finding testing notifications a chore so wrote a cli for quickly triggering notifications for quickly testing frontend and mobile changes.,2
24612942,2019-09-09 20:11:15.545,(chore) Remove static composer hash from setup script,"Instructions at https://getcomposer.org/doc/faqs/how-to-install-composer-programmatically.md

...indicate to wget the hash down eliminating the need for the hash to be static in the script",1
24603639,2019-09-09 15:38:23.594,Users not receiving points for jury duty,"* This user did not receive any points on 9/4: https://www.minds.com/wallet/tokens/transactions;remote=nexticeage
* User FoxFox has not been credited for their last 4 Jury Duties.
* Other reports are floating around.

https://www.minds.com/newsfeed/1034493384498917376 <br>
https://www.minds.com/newsfeed/1036946661790953472 <br>
https://www.minds.com/newsfeed/1037315249617113088",2
24601286,2019-09-09 14:52:47.926,Broken image placeholders,"# Questions
- Does this replace broken images bulb?
- Which error screens should be included?
- What is the text that should go along with this?

# More details
Created this image for errors.

Previous error message:

![index](/uploads/ac9f46f66234b504320c93233402d721/index.jpg)

New error message should be: ![sorry_light_bulb](/uploads/7b87539fbac9d1ec4259e0c31244833e/sorry_light_bulb.jpg)",2
24597821,2019-09-09 13:43:45.718,(chore): change filter to timestamp instead of time_created,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
24541585,2019-09-06 15:17:49.767,(feat) Add user states to wallet overview endpoint,Return the list of all current user states + multiplier values,2
24473177,2019-09-04 20:42:46.338,Chore: Improved feature flags,Maintaining our feature flags in helm / config is turning into a fragile chore. Moving them over to clearly defined classes in php,2
24466616,2019-09-04 15:50:51.639,(bug): error produced when reporting group for any reason,"Groups cannot be reported, there is an error.

![image](/uploads/ccd387e785c12f9dde89add9f320181d/image.png)

:update @benhayward.ben 
 
Request is 500ing throwing this into the nginx and php-fpm containers.
```
nginx_1          | 2019/09/12 17:07:53 [error] 6#6: *3362 FastCGI sent in stderr: ""PHP message: Exception #1568308073: Cassandra\Exception\InvalidArgumentException: value must be a long, a double, a numeric string or a Cassandra\Bigint,  given in /var/www/Minds/engine/Core/Reports/UserReports/Repository.php:60
nginx_1          | Stack trace:
nginx_1          | #0 /var/www/Minds/engine/Core/Reports/UserReports/Repository.php(60): Cassandra\Bigint->__construct(NULL)
nginx_1          | #1 /var/www/Minds/engine/Core/Reports/UserReports/Manager.php(96): Minds\Core\Reports\UserReports\Repository->add(Object(Minds\Core\Reports\UserReports\UserReport))
nginx_1          | #2 /var/www/Minds/engine/Controllers/api/v2/moderation/report.php(77): Minds\Core\Reports\UserReports\Manager->add(Object(Minds\Core\Reports\UserReports\UserReport))
nginx_1          | #3 /var/www/Minds/engine/Api/Factory.php(69): Minds\Controllers\api\v2\moderation\report->post(Array)
nginx_1          | #4 /var/www/Minds/engine/Controllers/api/api.php(81): Minds\Api\Factory::build(Array, Object(Zend\Diactoros\ServerRequest), Object(Zend\Diactoros\Response\JsonResponse))
nginx_1          | #5 /var/www/Minds/engine/Core/Router.php(137): Minds\Controllers\api\"" while reading response header from upstream, client: 172.19.0.1, server: _, request: ""POST /api/v2/moderation/report HTTP/1.1"", upstream: ""fastcgi://172.19.0.8:9000"", host: ""0.0.0.0"", referrer: ""http://0.0.0.0/groups/profile/1018930846406545413/feed""
elasticsearch_1  | [2019-09-12T17:08:08,994][INFO ][o.e.c.r.a.DiskThresholdMonitor] [HhjXpE-] low disk watermark [85%] exceeded on [Hh
```",2
24461580,2019-09-04 13:17:25.782,More specs test,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
24459172,2019-09-04 12:13:26.007,"(bug): As owner, I cannot view scheduled posts",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
24396788,2019-09-02 18:58:25.215,(feat): Use channel avatar as favicon,,2
24299741,2019-08-29 16:57:07.231,Introduce collapsible titles in Help Desk,"Currently all the choices in help desk are visible.  We need to have the titles collapsible for ease of use.  
![Screenshot__272_](/uploads/fd79c32a2dac13cc85a39b2825767738/Screenshot__272_.png)

![Screenshot__271_](/uploads/52930cee9b8271cd2a6ee3aef1fe1766/Screenshot__271_.png)

![Screenshot__273_](/uploads/f40f53af0766c851d9086cc4881dbd38/Screenshot__273_.png)

![Screenshot__275_](/uploads/f8983aa02e59e0dad3e57da0434bc123/Screenshot__275_.png)

![Screenshot__274_](/uploads/33aa437136493b8c59ebd3f5ba9f19f7/Screenshot__274_.png)",2
24293371,2019-08-29 13:59:44.722,(feat): Add filter to EntityGuidResolverDelegate to exclude future entities when not owner,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
24293253,2019-08-29 13:57:49.702,Exception: Entity is required - User cannot Boost old posts,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->
### Summary:

when boosting older articles like I get: Http failure response for https://www.minds.com/api/v2/boost/prepare/795065334607159300?: 500 Internal Server Error

i still have more than 50 000 tokens even not gotting some recently

### Steps to reproduce:

goto  https://www.minds.com/blog/view/795065334607159296 and try boost as user

### Browser and OS

FF under linux mint reported by: @lichtkind

### What is the current *bug* behavior?

User cannot boost older articles.

### What is the expected *correct* behavior?

User should be able to boost older articles.

### Relevant logs and/or screenshots

SENTRY
https://sentry.io/organizations/minds-inc/issues/1190687997/?project=1538020&query=boost

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)

Sentry Issue: [ENGINE-3T](https://sentry.io/organizations/minds-inc/issues/1190687997/?referrer=gitlab_integration)

```
Exception: Entity is required
  File ""/Core/Boost/Checksum.php"", line 58, in Minds\Core\Boost\Checksum::generate
    throw new \Exception('Entity is required');
  File ""/Controllers/api/v2/boost/prepare.php"", line 36, in Minds\Controllers\api\v2\boost\prepare::get
    ->generate();
  File ""/Api/Factory.php"", line 69, in Minds\Api\Factory::build
    return $handler->$method($pages);
  File ""/Controllers/api/api.php"", line 76, in Minds\Controllers\api\api::get
    return Factory::build($pages, $this->request, $this->response);
  File ""/Core/Router.php"", line 137, in Minds\Core\Router::route
    return $handler->$method($pages);
...
(1 additional frame(s) were not displayed)
```",1
24219799,2019-08-27 20:16:44.260,Update report options,We should update the report options and flow to this: https://docs.google.com/spreadsheets/d/1UOenCMZlBVHd2Ypip40MFN4KYeXCj8eJEBOvMIxYeVo/edit#gid=0,6
24102540,2019-08-23 17:18:49.927,(code review): Add PHP 7 return types to Core\Pro module methods,,2
24102524,2019-08-23 17:17:32.084,(code review): Make Router middleware PSR-15/PSR-7 compliant,,3
24102484,2019-08-23 17:14:59.108,(code review): Read root domain from Config on InitializeSettingsDelegate,Might need a new `settings.php` entry.,1
24102376,2019-08-23 17:08:27.735,(code review): Remove unnecesary features from v2/feeds/channel and move it to v2/pro/content,,2
24102323,2019-08-23 17:04:13.856,(code review): Detach Api/Factory Pro domain for existing flow,,1
24093278,2019-08-23 13:48:06.990,(fix): Adapt code as per review,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
24064612,2019-08-22 18:10:48.659,(feat): Implement a short-lived cache with homepage categories content,,1
24060254,2019-08-22 15:43:24.008,(chore): fixes for MVP internal demo,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,6
24057653,2019-08-22 15:24:20.556,(bug): Logout should provide $session value - Error: Call to a member function getUserGuid() on null,"Sentry Issue: [ENGINE-G](https://sentry.io/organizations/minds-inc/issues/1177477262/?referrer=gitlab_integration)

```
Error: Call to a member function getUserGuid() on null
  File ""/Core/Sessions/Repository.php"", line 94, in Minds\Core\Sessions\Repository::delete
    new Varint($session->getUserGuid()),
  File ""/Core/Sessions/Manager.php"", line 239, in Minds\Core\Sessions\Manager::destroy
    $this->repository->delete($this->session, $all);
  File ""/Controllers/api/v1/authenticate.php"", line 124, in Minds\Controllers\api\v1\authenticate::delete
    $sessions->destroy(false);
  File ""/Api/Factory.php"", line 69, in Minds\Api\Factory::build
    return $handler->$method($pages);
  File ""/Controllers/api/api.php"", line 91, in Minds\Controllers\api\api::delete
    return Factory::build($pages, $this->request, $this->response);
...
(2 additional frame(s) were not displayed)
```",2
24049926,2019-08-22 14:25:59.915,ImagickException: no decode delegate for this image format `' @ error/constitute.c/ReadImage/504,"Sentry Issue: [ENGINE-T](https://sentry.io/organizations/minds-inc/issues/1177515385/?referrer=gitlab_integration)

```
ImagickException: no decode delegate for this image format `' @ error/constitute.c/ReadImage/504
  File ""/Core/Media/Imagick/Manager.php"", line 60, in Imagick::__construct
    $this->image = new \Imagick($value);
  File ""/Core/Media/Imagick/Manager.php"", line 60, in Minds\Core\Media\Imagick\Manager::setImage
    $this->image = new \Imagick($value);
  File ""/Controllers/api/v1/blog.php"", line 330, in Minds\Controllers\api\v1\blog::post
    $manager->setImage($_FILES['file']['tmp_name'])
  File ""/Api/Factory.php"", line 69, in Minds\Api\Factory::build
    return $handler->$method($pages);
  File ""/Controllers/api/api.php"", line 81, in Minds\Controllers\api\api::post
    return Factory::build($pages, $this->request, $this->response);
...
(2 additional frame(s) were not displayed)
```

~""Type::Bug""",5
24046392,2019-08-22 13:48:59.460,(bug): Call to a member function getSubscriptionsCount() on null,"Sentry Issue: [ENGINE-C](https://sentry.io/organizations/minds-inc/issues/1177467733/?referrer=gitlab_integration)

```
Error: Call to a member function getSubscriptionsCount() on null
  File ""/Controllers/api/v2/suggestions.php"", line 19, in Minds\Controllers\api\v2\suggestions::get
    if ($loggedInUser->getSubscriptionsCount() >= 5000) {
  File ""/Api/Factory.php"", line 69, in Minds\Api\Factory::build
    return $handler->$method($pages);
  File ""/Controllers/api/api.php"", line 76, in Minds\Controllers\api\api::get
    return Factory::build($pages, $this->request, $this->response);
  File ""/Core/Router.php"", line 137, in Minds\Core\Router::route
    return $handler->$method($pages);
  File ""/index.php"", line 9
    $router->route();
```",3
24045492,2019-08-22 13:27:37.012,(bug): 3 strikes in firehose not marking channels,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

when any three post from a channel are marked NSFW, the channel should automatically be tagged with the corresponding tag.  This is not happening.  This channel https://www.minds.com/karlakush had 4 posts tagged in firehose as NSFW Porn and the channel has not addopted that tag.

### Steps to reproduce

use admin account, tag 3 post of a channel, see that the channel is not being tagged

### Platform information 

(Browser, device, system stats, screen size)

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",5
24013859,2019-08-21 15:57:42.496,(bug): reasons incorrect in banning email,![image](/uploads/6a1d4dd7842692bc2d51e4847ab19a2a/image.png),2
24007990,2019-08-21 12:52:29.680,(feat) update Surge endpoint for FCM,https://github.com/Minds/Surge/pull/4,1
23973276,2019-08-20 13:50:01.958,(feat) create new endpoint for scheduled activities,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,8
23950557,2019-08-20 02:27:19.675,Modal pager,"For MVP:
- [x] Allow reverse sorting taking in account timestamp constraints. Needed to fetch adjacent documents on time-based horizontal feeds.",6
23850426,2019-08-16 18:44:55.034,(feat): SEO for Pro Domains,"- [ ] Homepage
- [ ] Feed
- [ ] Videos
- [ ] Images
- [ ] Articles
- [ ] Groups
- [ ] Login/Signup
- [ ] Newsfeed single
- [ ] Blog
- [ ] Media (image/video)",8
23850373,2019-08-16 18:41:07.836,(feat): Validate JWT to prevent XSRF attacks on Pro Domains,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
23809501,2019-08-15 14:06:43.347,(bug) Firehose reporting not marking channel after three strikes,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
23791254,2019-08-14 20:41:03.196,(feat): Endpoint that gathers all Top Content for each Pro hashtag/category,,8
23789371,2019-08-14 18:55:12.150,(test): Scheduled posts spec tests,,8
23789341,2019-08-14 18:53:47.820,"(feat): When editing a scheduled blog, the linked activity should inherit time_created",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,6
23789317,2019-08-14 18:52:30.013,"(feat): When creating a scheduled blog, the automatically generated activity should inherit time_created",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
23759027,2019-08-14 01:49:46.688,"Replace ""Interact"" acl","When the environment has the permissions flag set, use permissions to calculate the existing ACL check for interacting",5
23759007,2019-08-14 01:47:12.063,Replace write acl,"When the environment has the permissions flag set, use permissions to calculate the existing ACL check for write",5
23758993,2019-08-14 01:45:01.490,"Replace ""Read"" Acl","When the environment has the permissions flag set, use permissions to calculate the existing ACL check for read",5
23758968,2019-08-14 01:42:50.748,(feature) Re-index the feeds for moderated channels,"When a user marks their channel moderated, reindex the feeds

We need to talk to Mark about this. How do we handle updating feeds when the user switches modes

Is the dynamic permissions check enough?",5
23758902,2019-08-14 01:40:42.663,(feature) Re-index feeds on channel open,"When a user marks their channel open, reindex the feeds 

We need to talk to Mark about this. How do we handle updating feeds when the user switches modes

Is the dynamic permissions check enough?",5
23758801,2019-08-14 01:30:01.296,(feature) Extend the individual entities to return the permissions object on videos,"When we get a specific image, we need to include its permissions so the front end can parse its flags",3
23758730,2019-08-14 01:26:26.751,(feature) Extend the individual entities to return the permissions object on images,"When we get a specific image, we need to include its permissions so the front end can parse its flags",3
23758720,2019-08-14 01:25:03.791,(feature) Extend the individual entities to return the permissions object on blogs,"When we get a specific blog, we need to include its permissions so the front end can parse its flags",3
20516262,2019-05-02 01:49:01.111,(test): Spec tests for ES Feeds features,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
20489313,2019-05-01 04:24:46.530,(fix): Groups not being show on discovery,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
20314677,2019-04-24 15:03:32.832,(feat): ES query for subscribed should use an ES sub-query with path (vs. read from Cassandra),Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,8
20314404,2019-04-24 15:01:59.029,(feat): Delete documents from ElasticSearch when its Cassandra entities are deleted,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
20314158,2019-04-24 15:00:14.761,(chore): Rename Feeds\Top to Feeds\Elastic,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
20299155,2019-04-24 10:30:43.594,(chore): Investigate memory leak with Email Batches,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,7
20289308,2019-04-24 04:40:34.613,(chore): Remove NSFW from /v2/container; add NSFW support to /v2/subscribed,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
20271682,2019-04-23 14:03:21.119,(feat)(proto): Subscribed feeds endpoint,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
20252384,2019-04-22 21:17:24.998,(fix): Blogs not being indexed correctly upon add/update,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
20187286,2019-04-19 05:23:06.680,"(bug); banned channels showing in ""Suggested channels"" box","banned channels should not be suggested to users to subscribe to.  They are currently showing up in the ""suggested Channels"" box![Screenshot__128__LI](/uploads/a36d1a5f30074cffd52dc48b0004fea2/Screenshot__128__LI.jpg)",2
20122646,2019-04-17 00:34:10.816,Create a back end for tagging content as reported,"When an admin moderates content, mark it with their guid so we can tell who tagged it.

Remove that content from all feeds where it would be in appropriate.

Research the feasibility of marking reminds as moderated as well / applying the same catergorization",20
20122604,2019-04-17 00:28:20.055,Reportable Hashtags,Create a backend and data schema for reporting hashtags,10
20119979,2019-04-16 20:52:36.063,(fix): Unlisted content only on /v2/container for its owner,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
20119974,2019-04-16 20:51:59.268,(): Ensure moderated groups content doesn't show on new feeds,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
70876528,2019-04-12 21:06:10.038,Push notifications for web app,"## **Note: This is a back-end task**

- [ ] Implement new Cassandra schema for storing push notifications ids per devices
- [ ] Subscribe to browser push notifications 
- [ ] Frontend abstracted module to allow to subscribe to push notifications
- [ ] Frontend notification settings to control what notifications are received
- [ ] Spec tests
- [ ] Implementation documentation",5
19994156,2019-04-12 11:59:53.325,(fix): help and support group appears duplicated,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
19863333,2019-04-09 00:06:55.495,(refactor): /v2/entities should try to inject urn property,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
19842408,2019-04-08 13:00:40.779,(chore): Snapshots feedback 4/05,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,8
19767076,2019-04-05 12:00:32.653,(feat): Isolated Imagemick service for image uploads,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,7
19751493,2019-04-04 20:04:04.234,(feat): Implement channel feed listing through elasticsearch,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
19751484,2019-04-04 20:03:33.422,(feat): Implement channel media listing through elasticsearch,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
19747417,2019-04-04 17:33:15.233,Launch experimental jitsi bridge for live streaming test,,10
19744039,2019-04-04 15:14:03.507,(feat): /v2/entities should support urn:boost:*,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
19744014,2019-04-04 15:13:28.892,(feat): /v2/boost/fetch with sync support,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
19724560,2019-04-04 14:06:28.980,(feat): Be able to edit display name directly from profile,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
21234132,2019-04-03 18:52:47.041,(bug): Retrospectively paywalled posts do not apply the paywall to attachements,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

The problem is they can access paywalled images, videos and blogs by simply clicking on the thumbnail in the gallery widget or by viewing the gallery and then clicking the thumbnail.

NOTE: Canary mode is turned on.

See for example on https://www.minds.com/bhayward
Image https://www.minds.com/media/977926766784184320 

### Steps to reproduce

1. Go to the channel for your primary account.
2. Click ""Attach"" and upload an image.
3. Click ""Post"".
4. Edit the post.
5. Put it behind a 1 token paywall.
6. Log out and log in to your secondary account.
7. Visit channel for your primary account.
8. Scroll down to the image gallery widget.
9. Click ""View More"".
10. Click on the thumbnail for the image.

### Platform information 

* Windows 10 / Chrome (Version 73.0.3683.86)
* replicated Manjaro / Chromium

### What is the current *bug* behavior?

When you post an image, video or blog and then put it behind a paywall, it is still visible in your image/video/blog gallery for other users.

### What is the expected *correct* behavior?

If you put an image/video/blog behind a paywall after you already posted it to your channel, it shouldn't be visible and accessible to users who do not meet the paywall threshold for that content. Either that or it should appear for other users but behind the paywall mask and I think both you and other users should be able to filter the image/video/blog gallery by paywalled content. Perhaps just add a button called ""Exclusive Content"" at the top of each gallery.

### Relevant logs and/or screenshots

![image](/uploads/6b5890d74df7595829d10792c4ba71ac/image.png)
![image](/uploads/9bcf1517a29d585f9121eb563079bd75/image.png)

##### Video
https://imgur.com/yRzqylz

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",3
19699409,2019-04-03 18:44:10.972,(feat): auto join help & support group when creating an account,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
19694738,2019-04-03 16:37:23.093,(fix): Onboarding hashtags returns empty list,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
19662484,2019-04-02 19:46:29.442,(chore): Export license on faux-activities,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
19650543,2019-04-02 13:09:34.275,(bug): Mature content control missing in Canary settings,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

### Steps to reproduce

The mature content setting seems to be missing in Canary.

### Platform information 

Platform independent

### What is the current *bug* behavior?

There is no option visible in Canary

### What is the expected *correct* behavior?

User should be able to change this setting

### Relevant logs and/or screenshots

**Canary**
![https://i.imgur.com/2HOiGoC.png](https://i.imgur.com/2HOiGoC.png)

**Non-Canary**
![https://i.imgur.com/s1cZaT6.png](https://i.imgur.com/s1cZaT6.png)
### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",4
19623215,2019-04-01 15:58:15.993,(bug): groups unable to be deleted,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Groups unable to be deleted in Canary mode.

https://www.minds.com/newsfeed/959471948341637120

### Steps to reproduce

1. Go to Canary Mode
2. Create a group
3. Delete the group (does not work)

### Platform information 

Replicated on Chrome

### Relevant logs and/or screenshots

https://www.minds.com/newsfeed/959471948341637120

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",4
19621941,2019-04-01 15:06:15.945,(refactor): Make Offchain Wire transactions to be sent in batch,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
19553427,2019-03-29 04:16:40.239,(test): Create spec tests for Posts delegate,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
19553422,2019-03-29 04:16:11.889,(test): Create spec tests for Elasticsearch Documents delegate,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
19538392,2019-03-28 14:12:50.171,"Send ""You received a Wire"" email","Send ""You received a Wire"" email when a user receives a wire

https://sketch.cloud/s/jj9eW/DPMn52y",5
19538284,2019-03-28 14:08:44.616,"Send ""Find great Minds channels"" email","Send  ""Find great Minds channels"" email

Confirm what topic/campaign they should be subscribed too

Weekly for users subscribed to receive these (Wednesday)

*do not send if user has received state change email this day

https://sketch.cloud/s/jj9eW/4an2Lwm",10
19538245,2019-03-28 14:06:59.602,Send a You have X notifications weekly on Mondays,"Send  ""You have X notifications"" email

Confirm what topic/campain they should be subscribed too

Weekly for users subscribed to receive these (Mondays)

*do not send if user has received state change email this day

https://sketch.cloud/s/jj9eW/eKnp9jp",10
19538177,2019-03-28 14:04:42.601,"Send a ""Your withdrawal is complete"" offer","Send a ""Your withdrawal is complete"" offer email when a user completes a withdrawal

https://sketch.cloud/s/jj9eW/09Mvq3W",1
19538124,2019-03-28 14:02:50.831,"Send ""You received a boost offer"" email","Send ""You received a boost offer"" email when the user receives a boost offer
 https://sketch.cloud/s/jj9eW/AxMDq21",5
19538089,2019-03-28 14:01:15.264,"Send ""Your Boost is Complete""","Send  ""Your boost is complete"" email when a user boost is completed.

https://sketch.cloud/s/jj9eW/agwk51z",5
19538040,2019-03-28 13:59:36.905,Create an email when a user sends a wire,"Send ""Your Wire Receipt"" when a user sends a wire

https://sketch.cloud/s/jj9eW/m1nEdGw",5
19537965,2019-03-28 13:57:14.871,Create a user email state schema,"In php, create a look up table for template id's and orders. This will determine which email a user sends when their state downgrades Core > Casual > Curious > Cold.

Create a cassandra table that has one entry per user notified

user_guid, date, template_id

Primary key, user_guid
Clustering index, user_guid, date

When we sent a user an email, upsert the email template email we sent. 
When we send the user a new email, check table and advance the rotation

Back end proposal for tracking emails sent with minimal data ",5
19475825,2019-03-26 22:34:33.835,(feat): Ban endpoint to use new Manager and queue runner to Snapshot+Delete artifacts / Restore artifacts,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
19475790,2019-03-26 22:32:38.101,(test): Create spec tests for Channels Manager and Artifacts delegates,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
19475782,2019-03-26 22:32:14.630,(test): Create spec tests for Snapshot classes,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
19475773,2019-03-26 22:31:47.095,(test): Fix Channels manager/entities spec tests,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
19475764,2019-03-26 22:31:13.391,(feat): Snapshot/delete/restore ElasticSearch documents by user_guid/owner_guid,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,7
19475758,2019-03-26 22:30:35.531,(chore): Ensure subscriptions/subscribers snapshot/restore works both ways,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
19475713,2019-03-26 22:27:00.189,(feat): Snapshotable trait for RepositoryEntity classes,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
19475702,2019-03-26 22:25:54.384,(refactor): Channel manager to use artifact delegates,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
19475695,2019-03-26 22:25:05.103,(feat): Snapshot+Delete / Restore CLI tool,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
19475693,2019-03-26 22:24:44.392,(refactor): Delete channel artifacts,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
19475671,2019-03-26 22:23:33.546,(feat): Restore channel from snapshots,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,7
19475679,2019-03-26 22:23:12.647,(feat): Create channel snapshots,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,7
19471754,2019-03-26 18:53:45.947,(feat): add better seo to helpdesk,"https://www.minds.com/help

use the banner and call it Helpdesk. Let's get in the habit of always doing this",1
19442784,2019-03-26 01:45:59.037,2X OnChain boost reward (up to 10k)  - Backend Changes,"The backend counterpart to https://gitlab.com/minds/front/merge_requests/210
Towards closing #160 ",5
19436755,2019-03-25 19:31:53.777,Thumbnail preview not posting if you press enter on a comment too quickly,"![thumbnail_bug](/uploads/cec17e4584658c3517411cb364dcf92a/thumbnail_bug.PNG)

just type a comment with link and press enter super fast. This happens to me ALL the time. ",4
19427152,2019-03-25 13:31:14.521,(feat): Introduce new lightweight app for video player that allows to show in iframe,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Context:
> I'm trying to embed Minds videos on my external pages using the minds-supplied <iframe> code from the Minds ""Share"" link.
> 
> When I try in Chrome I get an empty frame with the text: ""www.minds.com refused to connect."" Firefox simply gives an empty area the size of the iframe.
> 
> Running developer tools on Chrome and looking at the console, I see the following error:
> Refused to display 'xxxxxx' in a frame because it set 'X-Frame-Options' to 'deny'.

The issue here after discussing with @edgebal seems to be that a recent security change to prevent click-jacking, has broken video embedding.

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information 

Windows 10, Chrome and Firefox lastest versions

### What is the current *bug* behavior?

Video cannot be embedded

### What is the expected *correct* behavior?

We should ideally find a solution where we can mitigate the risk of click-jacking, whilst also allowing video embedding.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

Mark has mentioned that this could potentially be solved by either splitting the embedded links off onto a subdomain, or we may be able to remove the header for a specific endpoint.",15
19355667,2019-03-21 23:17:39.192,(feat) Add S -Triage (new) Label to 'Report a bug' posts to GitLab,https://gitlab.com/minds/engine/merge_requests/123/diffs,3
19354402,2019-03-21 21:54:40.051,(feat): Channel snapshots submodule,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
19348789,2019-03-21 17:10:15.732,(feat): ability to follow comment threads,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
19291156,2019-03-20 13:00:50.929,(bug): No confirmation email from site upon registration,">Steps:
>1. Go to: https://minds.com/canary
>2. Set Canary ON
>3. Fill in the registration details

>Actual results:

>Registration mail never received.

>Expected results:

>Registration (confirmation) mail should arrive


https://dashboard.ubertesters.com/projects/11810/issues/69?rids=135486",1
19287107,2019-03-20 11:32:03.765,(chore): Move ubertesters reports over to gitlab,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
19263230,2019-03-19 15:53:47.547,(fix): HTTP 500 being thrown on /v2/entities when logged-out,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
19263164,2019-03-19 15:51:58.842,(feat): Implement pagination limit for /v2/feeds,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
19155186,2019-03-15 14:45:42.449,(test): Spec tests for sync engine,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
19155082,2019-03-15 14:41:38.366,(feat): Implement Boost resolver on /v2/entities,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
19154858,2019-03-15 14:37:09.197,"(feat): Fetch boosts on /v2/feeds endpoint, both on sync and !sync modes",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
19154571,2019-03-15 14:28:23.824,(feat): Create Feed\Boost module,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
19112986,2019-03-14 13:07:14.113,(feat): Reduce all channels to 5k most recent interacted channels,"- [ ] Calculate a channels most interacted with channels
- [ ] Reset friends and friends of table to these channels
- [ ] Send email and notifications prompting user",10
19046023,2019-03-12 21:42:41.240,(feat): Entities resolver based on URN,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
18989806,2019-03-11 15:21:37.521,(test): Fix engine tests on PouchDB sync branch,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
18989644,2019-03-11 15:17:12.228,(fix): Latest sort should filter by hashtag (vs weighting),Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
18892294,2019-03-07 20:08:39.484,(bug): rate limited for suggested channels,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Just made a new channel and immediately got in 5 min jail for subscribing to the channel prompts.   We should only show as many ""suggested channels"" as are allowed by rate limits. 

### Steps to reproduce
make new channel
follow prompts
subscribe to ""suggested Channels""
hit subscribe rate limit


### Platform information 

all

### What is the current *bug* behavior?

hit rate limits for following prompted ""suggested channels""

### What is the expected *correct* behavior?
only show as many ""suggested channels"" as are allowed by rate limits

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)

/label ~""T \- Bug"" ~""S \- Triage:new"" 
",2
18858338,2019-03-06 22:27:02.702,(feat): Add endpoints allow sync'ing block list and top feeds,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,7
18858266,2019-03-06 22:20:55.208,(feat): Inject boosts to Discovery feed list,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
18844372,2019-03-06 16:48:36.087,(chore): Add legacy fallback read to User Hashtags,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
18842716,2019-03-06 15:45:33.035,Create an api endpoint to store user's sendwyre information,"Once a user goes through the onboarding for sendwyre

We need to use oauth to call an authenticated endpoint on the backend 

Store the sendwyre information in a cassandra table",15
18842679,2019-03-06 15:43:58.034,Create a Dockerized Checkout site,"Create a new web site that is

Running Express for backend / oauth integration

Running Vue to vet another javascript framework

Opens the Sendwyre widget and redirects to minds",10
18838484,2019-03-06 13:12:00.865,(feat): Require a banner to be uploaded before a blog can be published,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
18838124,2019-03-06 12:57:38.279,(fix): Images faux-activities should have height correctly set,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
18713406,2019-03-01 11:54:09.410,(feat): Top endpoint should also support search query parameters,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
18650986,2019-02-27 16:02:17.547,Integrate SendWyre on checkout.minds.com,"After meeting with SendWyre, we have a way forward

Create a small, separate website that is running nodejs in it's own docker container.

Allow oauth integration between the two sites

Enable the SendWyre widget and on confirmation, save the user's sendwyre account information on the backend",5
18521834,2019-02-22 17:32:53.054,Troubleshoot Redis filling up,"Redis cached ~20 gigs and started to bog down

Potential remedies 
1. Set TTL on all the redis caches that are currently not
2. Investigate the storing of private keys in redis for messenger
3. Look into implemented indexdb (client side caching) for feeds",15
18497198,2019-02-22 05:34:52.466,(feat): ability to turn off popup/toaster notifactions on web,,6
18496914,2019-02-22 05:03:51.213,Prioritize live gatherings to the top of your group navigation and global top groups,,3
18438177,2019-02-20 16:01:42.367,Send an email to a new user when their profile is not complete,"When a new user signs up, send them an email after two hours if their profile is incomplete.

Demasiado divertido para tener",5
18437953,2019-02-20 15:52:28.197,Send a user for a new user when they have a complete profile after two hours,"When a new user has a complete profile, send them an email to encourage them to use the platform

https://sketch.cloud/s/jj9eW/v8JQ0gb",5
18433713,2019-02-20 15:46:58.129,Send on the welcome to minds email two hours after a user signs up,"Right now, we send the welcome to minds email once a user logs in. With the new onboarding, we have two emails that require giving them some time to fill out their profile and explore.

So, instead, we're going to send emails 2 hours after they have created an account.

When we do, we need to check their onboarding status and determine if they have completed the onboarding and send an email for each case.",15
18427221,2019-02-20 15:22:43.081,Add Suggested Channels to Gone Gold Email,"https://sketch.cloud/s/jj9eW/eKJdQaj

Add the suggested feed to the gone cold email.

Use the new Suggestions module to add a list of channels from the feed

Do not include this section if we don't get any results",10
18334453,2019-02-18 17:14:41.059,(chore): Remove suggested groups from onboarding list,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
21534660,2019-02-15 13:25:02.996,(bug): User is not marked as blocked after blocking in messenger,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Reported by Ubertesters.

### Steps to reproduce

1. In messenger open a chat and choose block.
2. Close the chat window.
3. Open chat window again.

### Platform information 

Laptop windows 10, Chrome

Username: yahya94

### What is the current *bug* behavior?

1. Second party is not marked as blocked.
2. User is able to block second party again.
3. Second party is not receiving the messages.
4. User is unable to unblock second party.

### What is the expected *correct* behavior?

1. Second party should be marked as blocked.
2. User should not be able to block second party again.
3. User should not be able to send messages.
4. User should be able to unblock Second party.

### Relevant logs and/or screenshots

https://dashboard.ubertesters.com/uploads/8463/11810/issues/64/153839/deeshanib%20_%20Minds%20(1).mp4

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",4
18255651,2019-02-15 05:21:25.500,(refactor): Ability to check if user uploaded an avatar,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
18244513,2019-02-14 17:21:04.499,(test): Spec test onboarding progress tracker,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
18212625,2019-02-13 16:53:41.767,(feat): Onboarding progress tracker,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,7
18178429,2019-02-12 17:27:50.839,(bug): cannot delete replies to comments on your own posts,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

As the owner of a post, I am unable to delete a reply to another users comment on my own post.

### Steps to reproduce

1. Create a post
2. From another channel, comment on the post
3. From a third channel, reply to a comment on the post
4. From the original posting channel, try to delete the reply comment.

### Platform information 

Chrome, Macbook air, 12.1

### What is the expected *correct* behavior?

Post owners should be able to delete all comments and replies on their own posts. The comment owner should maintain the ability to delete the reply as well.",5
18133237,2019-02-11 12:57:56.451,(feat): Keep user hashtags in sync between new and legacy store,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
18083698,2019-02-08 20:33:54.976,(bug): seeing my username twice in gathering,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

keep seeing my username twice in other people's screens

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information 

(Browser, device, system stats, screen size)

ubuntu, firefox and chrome

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

![Screenshot_from_2019-02-08_15-30-38](/uploads/ab71171b994dff5114d3cf5cbf13a289/Screenshot_from_2019-02-08_15-30-38.png)![Screenshot_from_2019-02-06_14-34-36](/uploads/67f06f8e1ee79f7c72fc900e5255a533/Screenshot_from_2019-02-06_14-34-36.png)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",5
18058927,2019-02-08 03:28:29.058,(feat): Migration script for reports which are not in ES at switch over.,"There are many options to handle existing reports when we toggle ES on completely.
1. We may migrate all new reports and leave all old reports and resolutions alone.
2. We can migrate ALL report data so it is queryable in ES.
3. We can lose the reports which are unresolved at the time of the switch.

I prefer one or two. Three is obviously the cheapest.",10
18058903,2019-02-08 03:23:41.378,(feat): Appeals need implemented in a way that dovetails with the ES reporting work.,"Once reports are finished, appeals need to be converted into the new system.",0
34500895,2020-05-13 10:12:10.290,Stop writing blank strings to elasticsearch,We can not use `exists` when blank strings are indexed.,1
34500857,2020-05-13 10:11:15.099,Dual write the _type to minds_badger index,"`_type` is deprecated and not supported in ElasticSearch 7.x.

The `minds_badger` index currently makes use of `_type` for each type:subtype pair.

At the indexing stage, ensure that we are saving the `_type` to the body too.",1
34531463,2020-05-12 15:21:29.651,YouTube migrator bugs,"- [x] Transfer all videos button broken
- [x] Auto-import checkbox broken
- [x] 0 queued, 0 transferring headers do not update 
- [ ] Need a live x% complete next to 'transferring'
- [ ] Fix thumbnail issues
- [ ] Need some sort of prompt to let user know that we will automatically take 10/day and that they can walk away
- [x] Invalid date on Transferred tab
- [x] Fix newsfeed posts to reflect youtube upload date
- [ ] Implement alternative authentication option for adding link to youtube description",1
34426419,2020-05-12 04:13:43.674,"Allow filtering/searching subscribers, subscriptions and groups on Channels lists","Asked on https://gitlab.com/minds/front/-/issues/2956.

Will require a frontend component, to be tracked in this same issue.",2
34662161,2020-05-11 22:01:03.155,#animation and others show no discovery results,"Probably because of lack of engagement, but somehow we need to pull this in",1
34340820,2020-05-09 12:52:32.481,avatar should lead you back to @user channel -subscriptions/subscribers,"When viewing a user's subscriptions/subscribers list, the avatar image should be a link back to that @user's page.
(currently in canary)

1. visit users page
2. click on their subscriptions
3. click the avatar image to return to their main channel",1
34320734,2020-05-08 15:14:40.471,API endpoint to return a single support tier,- [x] Return a single support tier,1
34278153,2020-05-07 19:20:41.468,Suggested channels and groups for new user not working properly,"Steps to replicate:

1. Create a new account
2. Join Canary mode
3. Look at the Suggested Groups and Channels (see screenshot)

![Screen_Shot_2020-05-07_at_1.14.07_PM](/uploads/7fcb7944967488f663ddc9e41035caf6/Screen_Shot_2020-05-07_at_1.14.07_PM.png)

Suggested Channels should be based on who Minds has subscribed to for now. Suggested groups should be what groups those suggestions are joining.",2
34276691,2020-05-07 18:27:02.038,Don't fire welcome-complete or welcome-incomplete emails,These emails shouldn't be firing anymore because we're now sending the welcome text along with the email confirmation email. Also their contents are based off of the onboarding status of the old onboarding so the text isn't necessarily accurate anyway.,1
34275925,2020-05-07 17:57:09.239,Use auto tier name for new support tiers based upon hierarchy,"- [x] Make polyfill pass through to description instead of name
- [x] Use the below names

- Bronze
- Silver
- Gold
- Platinum
- Platinum+
- Platinum++",1
34272665,2020-05-07 16:09:43.107,Sync Support Tiers when wire_rewards is updated,"- [x] Run `UserWireRewardsMigrationDelegate::migrate` when `wire_rewards` is updated
- [x] Clear existing Support Tiers on migration
- [x] Ensure Support Tier GUID is persistent (based on currency and amount) when migrating

### Original implementation details
> - New delegate called whenever `wire_rewards` is modified
> - Read existing rewards. Create new ones, delete deprecated and modify existing.
> 
> Notes
> - A Support Tier should be created if there isn't another one with the same currency/amount values
> - A Support Tier should be deleted if there's no matching wire_rewards entry for it
> - A Support Tier should be modified if there's a difference in the wire_rewards description text (same currency/amount match)",2
34230302,2020-05-06 17:35:17.936,Email template footer spacing,"Need to add some padding after 'from' and '7681,'.  (They are in separate elements to control where the line wraps)

![image](/uploads/d565c5918d03069bf2459158fe125442/image.png)",1
34176864,2020-05-05 23:01:43.330,Set up feature flag for settings v2 referrals,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
34175226,2020-05-05 21:33:50.111,Banned channels showing in suggested channels,"Scrolling through suggested channels full feed view, i came across https://www.minds.com/laura999/ and when I clicked, they were banned.

Need to make sure deleted, banned or deactivated channels are not appearing in these suggestions. Eventually, we will want to make sure inactive channels do not appear either (or now if its a quick fix). 

Looking great overall!

@markeharding",1
34121638,2020-05-04 18:01:31.188,"Make right hand column sticky in newsfeed, discovery, channels","Per @michaelfbradley mockups and feedback from users about use of space on new design:

We need the right hand column to scroll independently of the middle column on Newsfeed, Discovery, Channels and Groups (eventually).

This will ensure that when a user is scrolling down the content feed, the right hand column does not go blank and create an illusion that we are not using space as well as we should. See Twitter UX behavior for reference if needed.

",2
34036400,2020-05-01 16:12:21.366,Unable to run YouTubeImporter cli,"* Video statistics returning null for several videos
* Fetch video URL when about to import, to avoid link expiration
* fix the following issue:
```
Minds.CRITICAL: TypeError: Argument 1 passed to Minds\Core\Media\YouTubeImporter\Manager::validateChannel() must be an instance of Minds\Entities\User, null given, called in /var/www/eggman/engine/Core/Media/YouTubeImporter/Manager.php on line 200 and defined in /var/www/eggman/engine/Core/Media/YouTubeImporter/Manager.php:726 Stack trace: #0 /var/www/eggman/engine/Core/Media/YouTubeImporter/Manager.php(200): Minds\Core\Media\YouTubeImporter\Manager->validateChannel(NULL, NULL) #1 /var/www/eggman/engine/Controllers/Cli/YouTubeImporter.php(34): Minds\Core\Media\YouTubeImporter\Manager->getVideos(Array) #2 /var/www/eggman/engine/cli.php(60): Minds\Controllers\Cli\YouTubeImporter->exec() #3 {main} {""exception"":""[object] (TypeError(code: 0): Argument 1 passed to Minds\\Core\\Media\\YouTubeImporter\\Manager::validateChannel() must be an instance of Minds\\Entities\\User, null given, called in /var/www/eggman/engine/Core/Media/YouTubeImporter/Manager.php on line 200 at /var/www/eggman/engine/Core/Media/YouTubeImporter/Manager.php:726)""} 
```",5
34003334,2020-04-30 14:44:42.353,Remove mobile settings that are not functional,"Many of the mobile settings do not function when tapped. We should hide them until they are functional.

Broken settings:
- Billing --> Payment Methods (does not work)
- Billing --> Recurring Payments (does not work)
- Other --> Reported content (white screen freezes app)
- Other --> Subscription tier management (does not work)
- Other --> Post preview (does not work)",1
33955591,2020-04-29 14:27:39.383,Use the date of the original YouTube video for the Minds activity post that is created when importing,"If someone backs up a YouTube video from September 23, 2018, then we should create an activity post on Minds with the same date. 

See post scheduler for reference on how to achieve this",1
33928569,2020-04-28 23:52:31.371,Endpoint for a single youtube video,"We need an endpoint to return a single youtube video, based on channelId & videoId as query params.  This is so I can accurately update the status of videos after a user clicks ""transfer"" or ""cancel"" 

![image](/uploads/385f9aa607f1606de320ca964095d170/image.png)",1
33928513,2020-04-28 23:50:23.950,Endpoint for counts of youtube videos by status,"We need an endpoint to return the total count of youtube videos, grouped by status.

![image](/uploads/7edcb9f5fe625a9578fdead0a161ef0e/image.png)",2
34226974,2020-04-28 18:49:39.782,"Random channel banner, if none present","- [ ] Channels\Banner core module
- [ ] /fs endpoints for banner should return a pseudo-random (`guid % numOfImages`) image",1
33915565,2020-04-28 17:40:39.729,1080 video not working on pro uploads,"https://www.minds.com/newsfeed/1101897488370221056

https://www.minds.com/newsfeed/1101883430935887872 I upload as a full 1080p capture, its is reduced to 1024
https://cdn.minds.com/fs/v1/thumbnail/1102183590279245824/xlarge/ is the largest it seems to go",3
33925003,2020-04-28 16:28:29.371,Log registration errors for Cloudwatch,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
33906730,2020-04-28 14:24:10.769,Use API key instead of oauth credentials,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
34041914,2020-04-27 13:59:49.279,Escaped HTML tags being displayed in v2 Title,"### Summary

Reports are coming in of Titles showing Escaped HTML `<p>` and `<br>` tags. Tags might be getting saved as title data by composer instead of being striped.

### Steps to reproduce

Has something to do with editing existing posts but having trouble replicating. 

Example post: https://www.minds.com/newsfeed/1100855661663576064

### Platform information 

Chrome

### What is the current *bug* behavior?

Escaped HTML appearing in title field

### What is the expected *correct* behavior?

(What you should see instead)

### Relevant logs and/or screenshots

![image](/uploads/612a97be8d5f6bea21bc25d18c7f3415/image.png) 

![image](/uploads/84ff6d579cc80549d30976973acca146/image.png)

![image](/uploads/11a7634369ce4f05c7a6b7983451f6c2/image.png)

I tried copying a title with HTML and pasting it into the v1 edit composer and the v2 edit composer but I could not replicate. I could get BR tags into the title field this way though.

![image](/uploads/b5b8c50bf43e1019866121a54ad8a190/image.png)",1
34169814,2020-04-22 16:20:18.913,Edits Only Show After Refresh,"### Summary

Edits to posts only show after you refresh the page.

### Steps to reproduce

1. Go to media post
2. Edit it
3. Observe no changes
4. Refresh
5. Edits stick

### Relevant logs and/or screenshots

https://www.minds.com/newsfeed/1099385712279797760",1
33630053,2020-04-22 14:17:32.989,Refactor backend for membership tiers,"- [x] Create new Cassandra schema for Wire support tiers
- [x] Create repository and manager classes
- [x] Create delegate and polyfill classes
- [x] Hook polyfill onto User export()
- [x] New endpoints to create/read/update/delete Support Tiers
- [x] Store selected Support Tier on Cassandra and ElasticSearch when creating/editing an entity",3
33627486,2020-04-22 13:25:07.429,youtube importer tweaks,"* [ ]  settings.php expects `yt-client-secret` but installer provides `yt-secret`
* [ ]  Olivia needs the video list to return duration and statistics (views, likes, dislikes, favorites)
* [ ]  Olivia needs to be able to cancel a video from getting imported",2
33583351,2020-04-21 17:08:54.482,"Implement ""Transfer all videos""  feature for YouTube Importer",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
33532703,2020-04-20 20:14:06.693,Determine automatic upload status of channel on youtube importer,"We need a way to determine how to populate the 'New Youtube Videos' checkbox on [this mockup](https://design.minds.com/hosted/web/michael/front%23-youtube-migration/#artboard7)

* [ ]  Add a new field to User entity

![image](/uploads/e14019cfa991d26a1660e4667757286f/image.png)

This should enable scraping of all the existing videos on the channel. It should also enable the web hook pub sub so that all new videos coming in get automatically imported.",4
33491947,2020-04-19 22:38:45.570,Search should start as soon as you start typing,"Right now it requires enter 

![Screenshot_20200419-183725_Minds](/uploads/d1f2292faa425d3c55808fc572bf3141/Screenshot_20200419-183725_Minds.jpg)",1
33284650,2020-04-14 19:10:57.919,Most recent token transaction not being counted towards running total,"See screenshot.

The most recent token transaction is not being counted towards the running balance.

![Screen_Shot_2020-04-14_at_1.09.54_PM](/uploads/2aeb9c1d75d47a88a25368b274182db7/Screen_Shot_2020-04-14_at_1.09.54_PM.png)",1
33284203,2020-04-14 18:53:03.981,Content type filters in search results is not working,"See video. You can see that I am getting results in a different content type than what I specified.

![Search_filters](/uploads/5442013dae6b367aaed0b8a3eb67e8d0/Search_filters.mov)",2
33283173,2020-04-14 18:17:26.202,Clicking on a notification should close the notification tab on mobile web,"iOS Safari, iPhone 7

Steps to replicate:

1. Go to Minds on mobile browser
2. Open notification drop down
3. Click notification
4. Hard to tell anything happened

It would be much better if the notification drop down minimized when you clicked something, but ONLY for mobile web. This is not an issue on regular web as you can see behind the drop down clearly.",1
33282630,2020-04-14 18:06:23.887,Sidebar navigation should close when clicking on a group on mobil web,"iOS Safari, iPhone 7

Currently when you open the sidebar navigation, and click to view a group, the sidebar navigation does not close, making it seem like nothing happened.

It should behave in the same way it does when you click anything in the main navigation items on top.",1
33857378,2020-04-14 16:42:52.852,Offchain limit being hit by onchain transaction,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Offchain limit causing onchain boosts to fail

https://www.minds.com/newsfeed/1096514796905795584?focusedCommentUrn=urn:comment:1096514796905795584:0:0:0:1096821918856290304

### Steps to reproduce

Will require some investigation but presumably:
1. Hit offchain limit
2. Try to boost onchain

It could be something to do with previous selections and state getting mixed up also.

### Platform information 

(Browser, device, system stats, screen size)

### What is the current *bug* behavior?

Error is shown

### What is the expected *correct* behavior?

Error should not be shown for onchain boosts

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

Probably something similar to https://gitlab.com/minds/engine/-/merge_requests/505/diffs",4
33225431,2020-04-13 18:15:59.395,Notifications count not clearing on web after checking on mobile,"When Bill looks on web, it says X number of notifications, despite clearing them on mobile",2
33147267,2020-04-10 16:42:24.342,Groups list inaccessible in canary,https://www.minds.com/groups/member,1
33108076,2020-04-09 15:43:12.926,Upgrade on dropdown and Upgrades page should display my subscription state,"@markeharding 


If you're pro, don't show the upgrade dropdown under your avatar

Plus users should see upgrade

All users should see ""Buy Tokens"" 



On the accounts screen under settings, don't show upgrade upgrade options for pro users

Plus users should still be able to upgrade to Pro

If they are pro, don't show the upgrade item
",4
100367446,2020-04-09 14:21:35.386,Non group members can't view public group descriptions,"### Summary

Unverified accounts can view groups but can not see group descriptions

### Steps to reproduce

1. Create a new unverified channel
2. View a group, group description will not display

### Platform information 

Chrome, firefox

### What is the current *bug* behavior?

Group descriptions are not displayed for unverified channels

### What is the expected *correct* behavior?

Any user should be able to see a group description

### Relevant logs and/or screenshots

![image](/uploads/9f1b3d74a2183f83c743871f157d8046/image.png)",2
33007476,2020-04-07 18:25:44.398,Give 90 days free Pro to YT creators over 1k subs,"We can very easily tell if a youtube user has over 1k subs. We just need to handle how that gets applied.

When a user links up their YT account (the first time and only one time per account), we need to give them a Pro subscription that expires a year out. 

For videos less than 1k subscribers who enable importing automatically, we need to award their account if they cross that threshold.

Need to create 2 emails. One that informs them they got it. One that gets them to buy at end of trial",2
33010136,2020-04-07 18:08:11.288,Rollout 2020 Top Discovery Feed Not working,"### Summary

Top Discovery Feed doesn't work on the 2020 Rollout

### Steps to reproduce

1. Go to discovery
2. Choose a trending tag
3. It defaults to top and never loads

### Platform information 

Browsers

### What is the current *bug* behavior?

Top discover feed is the default feed option in rollout2020, but it is broken

### What is the expected *correct* behavior?

Top discovery feed should work as the default option

### Relevant logs and/or screenshots

This query triggers the issue:
https://www.minds.com/discovery/search?q=%23coronavirus&f=top

![image](/uploads/39db030ec7d9ceb087716f1e8fcf584f/image.png)",4
32931929,2020-04-06 10:30:52.040,Group suggestions api for new discovery,See how suggested channels works and extend the `minds-graph` index on elasticsearch.,2
32931842,2020-04-06 10:28:57.820,Experiment with tagcloud algorithm to improve relevancy,eg: #food and #myphoto to not include #politics ?,2
32452241,2020-03-25 18:51:00.814,Remind notification should direct to that remind not your original post,"Currently when someone reminds your post, the notification directs to your post, but it should be theirs.

The notification says ""Username reminded ""your activity""""",4
32407192,2020-03-24 21:31:51.312,Infinite loading circle for older channel blogs,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Found at least one situation this error can occur. There may be others and 

All but one of these errors I think is relatedd to this issue:

https://sentry.io/organizations/minds-inc/issues/?end=2020-03-24T23%3A59%3A59&query=user.id%3A100000000000035825&start=2020-03-23T00%3A00%3A00&utc=true

### Steps to reproduce

1. Go to `https://www.minds.com/truth`.
2. Open XHRs.
3. Scroll right down.
3. Notice the loading hangs when at the bottom.
4. Wait for request to timeout, see 500.

### Platform information 

Chromium / Ubuntu

### What is the current *bug* behavior?

Infinite loading.

### What is the expected *correct* behavior?

Content should load.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

Sentry Issue: [ENGINE-HF](https://sentry.io/organizations/minds-inc/issues/1306731741/?referrer=gitlab_integration)

```
ErrorException: Maximum execution time of 30 seconds exceeded
  File ""/lib/elgglib.php"", line 951, in fatalErrorShutdownHandler
    \Sentry\captureLastError();
```",4
32347761,2020-03-23 18:11:32.164,Implement youtube pub sub for new videos,"On a user who has linked their youtube account and turned on auto import, we need to implement a listener for youtube webhooks

https://developers.google.com/youtube/v3/guides/push_notifications

When the user uploads a new video, it should get queued as if they had clicked transfer.

",8
32347523,2020-03-23 18:04:45.419,"When a user clicks transfer, register their YT video for transcoding","The api `api/v3/media/youtube-importer/transfer` should take ids and queue them up for transcoding. 

PUT should queue / requeue the video for transcoding (where each user can only have one video instance)

DELETE should Cancel / delete the underlying entity before it's transcoded
??? do we want to provide the user's ability to delete previously imported videos on this screen @markeharding 

When the user clicks all, this will need to be a batched job that creates video records for all videos on their channel and then queues them up for processing over (# of videos / 10) days

This will be a fixed daily limit of 10 at the MVP, but then be based on their number of subscribers later. 

When the user transfers all

We'll need to extend the video entity to track:

The Video string id for youtube
The transcoder status

Mapped to elastic search 

Then we should be able to query elastic search when the queue runner run.

A queue runner job should run to a give user and a give timespan. This one should run through the elastic search and find up to the user's daily transcode limit and queue them up for transcoding. It should create the video, set the status and then publish the video only when it's done transcoding (because a user could have many videos on their channel and scheduled them all for importing). Note it should only schedule up to the allowed daily allotment (oldest first).

Up to the configured limit, queue up transcoder requests.

For scale reasons, we don't want to write anything other than the video string and the transcoder status (so we know what needs to be processed)

When the video is transcoded, publish the video

Wht

### Warning: There is a youtube quota that is variable based on our usage.
I am hoping this won't be a problem because we can download the videos directly from the extracted information request
https://developers.google.com/youtube/v3/getting-started#calculating-quota-usage


- [x] `youtube_id` and `youtube_channel_id` flag on Entities/Video objects
- [ ] `youtube_id` and `youtube_channel_id` keyword field for elasticsearch (only index if exists, empty strings cause issues)
- [ ] Do a bulk terms query of the youtube_channel_id to get a list of all there transcoded videos
- [ ] Consider adding a `youtube_importer_queued` field for ease in running daily jobs?",16
32346619,2020-03-23 17:34:55.000,Implement the youtube oauth flow and store the auth tokens on the api,"The backend needs to be able to proxy requests to the youtube services for a user who authorizes their account

- [ ] Use the new PSR7 router
- [ ] Place as a new module under `Core/Media/YoutubeImporter`
- [ ] Provide an endpoint for ```/v3/media/youtube-importer/auth/:user_guid```

PUT Create or update the user object with their youtube authorization token
DELETE delete the token from the user's object",4
32342910,2020-03-23 15:54:13.211,Implement the youtube sdk on the backend,"https://developers.google.com/youtube/v3/quickstart/php

GET `/api/v3/media/youtube-importer/import/videos` should return a list of available videos from youtube and any videos that are in process / queued
Each video should return the title, created date, number of views from YT
The response should include the user's daily limit, the number of queued and the number of videos currently transferring. 


GET `/api/v3/media/youtube-importer/videos?status=transferred` should return videos that have been transferred. Probably a version of the user's channel feed with the video filter and an extension that allows for filtering on imported videos by source.

Both gets should be paginated and support infinite scrolling

The backend should never return the user's YT oauth information, but it must return a ""yt_connected"" timestamp for accounts that have successfully authed and stored their token.

The user settings data model must be extended to allow the settings of the ""yt_auto_tranfer"" flag

- [x] Add the google libraries for the PHP sdk to our compose stack
- [ ] Setup and configure the api keys and secrets and review 
- [ ] @markeharding will need to provide and configure the keys
- [x] Setup a Core\Media\YoutubeImporter module that interfaces with a set of functions so we can add other video imports to the same flow.
- [x] Add in a ""yt-importer"" feature flag on the backend. Even though the backend is all new restful endpoints, this will control the settings on the clients
- [x] Endpoints for getting video lists
- [ ] Updates to the user config (tokens, auto import settings)",4
32290833,2020-03-22 19:33:55.607,Error on pro settings page from logged out,"https://www.minds.com/pro/settings

HTTP FAILURE RESPONSE FOR HTTPS://WWW.MINDS.COM/API/V2/PRO/CHANNEL/SETTINGS?: 500 OK

Linked to Sentry ",4
32272050,2020-03-21 22:11:34.786,Apply the new email template to our existing system emails,"We need to apply the new template to these emails and audit the ones we actually send. Those emails are listed on #1371 

Probably worth cleaning up our old templates and removing all the old emails 

This should mostly be changed the underlying template and verifying that emails look correct. There shouldn't be a lot of code changes until we start redesigning the emails individually

@ottman @jotto141 @markeharding can you help confirm the list of emails we send and want fixed?

- [ ] Retrofit our existing emails
- [ ] Refactor and cleanup the old emails so we can get them all into once place
- [ ] Delete the old emails we are no longer using
- [ ] Audit and verify our existing emails with the new template.
- [ ] Bonus points for setting up a cli utility that allows us to send them on demand for both test and admin experience.

https://design.minds.com/hosted/other/design%23-email/


**Spreadsheet**
https://docs.google.com/spreadsheets/d/1Dv3FGgOW3Md1xr1z-PKKrZ_7TgCpga8DuBehw5eOgd8/edit#gid=0",8
33058773,2020-03-21 21:57:28.938,Apply the new template to the Welcome Email,"When a new user sets up an account, we send them a welcome email on whether or not they have completed the onboarding process.

We're going to need to retrofit the old emails we send to fit the new designs

https://design.minds.com/hosted/other/email/

The suggested channels partial will need to be revisited to support these new lists so we can start sending out dynamic content in a consistent manner

https://design.minds.com/hosted/other/email/#artboard2

- [ ] Redesign the welcome emails to use the new template
- [ ] Make sure the email complete and email incomplete emails still work with the new onboarding process",4
32147552,2020-03-18 18:52:22.395,Offchain balance being reduced by onchain spending,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

I selected OnChain boost, I went through the whole gas fee process in MetaMask, and then got the error message about the Offchain boosts on Minds. So the transaction went through on MetaMask, and was rejected by Minds

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information 

Firefox / Manjaro

### What is the current *bug* behavior?

It seems

1. The member made 1 on-chain transaction.
2. It went through metamask - **no error was shown**.
3. The transaction is dispatched to be mined onto the Ethereum network by Metamask.
4. The user now is shown the boost window with the error.
`Exceeded maximum of "".$maxDaily."" offchain tokens per 24 hours`.
5. Transaction succeeds on Ethereum.
6. Boost is not visible in boost console, but tokens are gone. 

### What is the expected *correct* behavior?

That error should not be showing for onchain transactions - if the TX is valid it should dispatch and save the boost to the db.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",4
32144801,2020-03-18 17:35:13.037,Wallet 2.0 Issues,"### Simple
- [x] Off-chain wires are being listed in transaction ledger as On-Chain wires
- [x] Off-chain boosts are being listed in transaction ledger as On-chain boosts
- [x] Missing button to Buy ETH (should be a button to do so in the ETH settings)
- [x] The transaction type in the filter is not aligned with the word ""Type"" (see image)
- [x] Green and red arrows are not vertical center aligned in transactions tab
- [x] Change sentence in token balance section to read ""Learn more about [Minds Tokens](https://minds.com/token) and our [Reward System](https://minds.com/rewards)""
- [x] Make text for estimated payout same size as Learn More about tokens - this is one of the more important pieces of information that users care about and it is very hard to see. it should stand out more.
- [x] Move ""Transfer to On-Chain"" button to underneath your off-chain balance (or just switch OnChain and OffChain placements)
- [x] Token overview graph shows off-chain only. either incorporate on-chain, or add text next to time filters that reads ""Off-chain only""...should also make it more clear it is a graph of your balance
- [x] Match transaction table colors to mockups
- [x] Token balance equation alignment
- [x] Incorporate new theme colors
- [x] Shadowbox header tabs left scroll button overlapped by nav
- [x] Clicking on shadowbox header overflow scroll button (right) doesn't work reliably
- [x] Tab styles responsiveness
- [x] Empty tx table notice should not say ""you don't have any token transactions yet"" when it's empty because a filter was applied
- [x] Rewards popup styles don't match mockup
- [x] On-chain transfers should be displayed as a single transaction, not 2 (one debit and one credit)
- [x] Purchases show up in transaction ledger labeled ""Transaction"". This should say ""Token Purchase"" and feel free to spice it up with a cool icon if you find one and its easy, as the other types have icons

### Simple but requires thought
- [x] Ensure Pro earnings are detected with a link to your earning analytics
- [x] Add a few characters of BTC address, or a check mark, under Bitcoin tab if receiver address is set up, so there is something there. Looks awkward with nothing.

### Medium/scarce simplicity
- [x] Running total not working on token transactions
- [x] Running total not working on cash transactions


### Not completed, but extracted into other issues
- [x] Add time filter option into transaction ledger (and hide running totals when filter applied) (moved to https://gitlab.com/minds/front/-/issues/2759 because it's big enough to be its own issue)
- [x] When you click to Buy ETH, the flow directs you to the channel https://minds.com/checkout when it should take you to the SendWyre widget *Should be in a separate issue - @markeharding says he'll fix it*
- [x] Today's Daily Reward showing me I have not earned anything but I have received many votes, checkins, comments, etc. (moved to https://gitlab.com/minds/front/-/issues/2751)
- [x] ETH balance is reading 0 despite having MetaMask synced, connected and containing a balance (moved to https://gitlab.com/minds/front/-/issues/2750)",16
31977098,2020-03-13 21:12:48.617,Ability to edit activities w/ attachments,"- [x] Move attachment logic to its own delegate
- [x] Handle activity deletion and attachments
- [x] Handle activity creation and attachments
- [x] Handle activity editing and attachments",4
31845886,2020-03-10 19:42:30.188,Many old reminds showing lightbulb,"ie https://www.minds.com/newsfeed/621970261679288331?referrer=ottman

https://www.minds.com/newsfeed/634271839815737349?referrer=ottman

look at every post on this channel https://www.minds.com/StardustMeatsuit/",4
31809285,2020-03-09 21:56:24.535,CKEditor5 iframely linkup,"Right now, we support ckeditors rich embed which gets us partly there. https://ckeditor.com/docs/ckeditor5/latest/features/media-embed.html#automatic-media-embed-on-paste

Define our own provider for our selected types and proxy them through engine.

https://ckeditor.com/docs/ckeditor5/latest/api/module_media-embed_mediaembed-MediaEmbedConfig.html#member-extraProviders

We need to extend and close the loop on our iframely integration so our blogs have parity with our newsfeed embed

- [ ] Extend the iframely embed to use out v1/newsfeed/preview.php, but refactor it out into a its own module and put it behind a new endpoint so we can get away from the v1/newsfeed monolithic file. 
- [ ] When a user provides a url in the new blog, show a preview ala newsfeed.
- [ ] Be sure the blog markdown embeds the rich content appropriately
- [ ] Be able to delete iframely content
- [ ] Floating plus icon on the left hand side should allow for uploading of images or take urls that get inserted",8
31625580,2020-03-05 16:24:22.518,Increase performance of hot/all search,"
### Summary

Hot/all discovery feed request takes approx. 10secs causing mobile devices to time out. And a sub optimal user experience in browser.

### Steps to reproduce

In Discovery, request all hot results with no filters. Time request.

### Platform information 

All devices

### What is the current *bug* behavior?

Request takes too long causing mobile app to time out.

### What is the expected *correct* behavior?

Request should be more efficient.

### Relevant request information",8
31807707,2020-03-03 18:06:49.956,Unable to see blocked channels,"Ladyhug (https://www.minds.com/ladyhug/) reports that she is unable to see her list of blocked channels;

REF: https://www.minds.com/newsfeed/1081483910536691712

I suspect this is due to the very high number of blocked channels she has on her blocked channels list.",4
31398100,2020-02-28 20:08:17.140,Groups members list does not refresh/update when a user is removed,"### Current behavior: 

- Given UserA is an admin of a group,
- and UserA is viewing the Members screen of that group,
- and UserA clicks the gear icon next to UserB in the list,
- and UserA clicks ""Remove from group,""
- when UserB is either removed from the group or banned permanently,
- then the remove/ban modal disappears,
- and UserB is still shown in the list of members.

![image](/uploads/a849d2270ba0552d4fc6bf21e4240524/image.png)

### Expected behavior:

- ...when UserB is either removed from the group or banned permanently,
- then the remove/ban modal disappears,
- and UserB is no long displayed in the list of members.",2
31383304,2020-02-28 03:07:33.889,Wiring broken on staging,"### Summary

Wiring not working on staging. Serious regression.

### Steps to reproduce

1. On staging try to wire another channel tokens

### Platform information 

Browser

### What is the current *bug* behavior?

Wiring failing with error

### What is the expected *correct* behavior?

Wire should be successful.

### Relevant logs and/or screenshots

![image](/uploads/a973d1969ac9b8640a3aaa2a54039bd8/image.png)

[Wire_Error.har](/uploads/6d58288f5549fe086896362819079651/Wire_Error.har)",2
31136767,2020-02-21 17:45:53.159,Error: Request error on: api/v2/media/video/undefined,"Looks like we're getting empty videos coming from the backend, but they are blowing up in mobile

Sentry Issue: [MOBILE-CY](https://sentry.io/organizations/minds-inc/issues/1373074521/?referrer=gitlab_integration)

```
Error: Request error on: api/v2/media/video/undefined
  File ""app:///[native code]"", in construct
  File ""src/common/services/api.service.js"", line 17, in ApiError
    constructor(...args) {
  File ""src/common/services/api.service.js"", line 104, in _throwError
    const error = new ApiError(err.message || err.responseText || `Request error on: ${url}`);
  File ""src/common/services/api.service.js"", line 144, in call
    this._throwError(err, url);
  File ""app:///[native code]"", in callImmediates
...
(17 additional frame(s) were not displayed)
```",6
31096520,2020-02-20 22:03:53.055,Extend our sessions framework to track the device and return a list of active sessions with date and specific tokens for revoking access,"https://design.minds.com/hosted/web/michael/front%232153-settings/#artboard18

This new design requires a refactoring of our backend to support the individual sessions

We'll need an array with the client, time and token

- [ ] Extend the sessions manager to save more information
- [ ] Extend the api to return a list of all active sessions, their client, time and token
- [ ] allow the api to revoke individual sessions by token

Current, our settings page just returns
```
{""JSON"":{""status"":""success"",""channel"":{""guid"":""916689804182167565"",""type"":""user"",""subtype"":false,""time_created"":""1543931880"",""time_updated"":false,""container_guid"":""0"",""owner_guid"":""0"",""site_guid"":false,""access_id"":""2"",""tags"":[],""nsfw"":[],""nsfw_lock"":[],""allow_comments"":false,""name"":""brianhatchet"",""username"":""brianhatchet"",""language"":""en"",""icontime"":""1582042041"",""legacy_guid"":false,""featured_id"":false,""banned"":""no"",""ban_reason"":false,""website"":"""",""briefdescription"":""This snow makes me thankful for remote work"",""gender"":"""",""city"":""Colorado Springs"",""merchant"":{""service"":""stripe"",""id"":""acct_1FCXEjK7vbbm2lDw""},""boostProPlus"":false,""fb"":false,""mature"":1,""monetized"":"""",""signup_method"":false,""social_profiles"":[],""feature_flags"":false,""programs"":[],""plus"":true,""hashtags"":false,""verified"":true,""founder"":false,""disabled_boost"":false,""boost_autorotate"":false,""categories"":[],""wire_rewards"":null,""pinned_posts"":[""978040302374219776""],""is_mature"":false,""mature_lock"":false,""last_accepted_tos"":1558597098,""opted_in_hashtags"":5,""last_avatar_upload"":""1570116917"",""canary"":false,""theme"":""dark"",""toaster_notifications"":true,""mode"":0,""btc_address"":""1HQRj2t22McQ8J2njbQSEdrd16Kef67VJu"",""surge_token"":""eyJzZXJ2aWNlIjoiYXBwbGUiLCJ0b2tlbiI6IjNlMDU1ODliMjkzMGZiNWY1MjRhODczNmUwYmI5YjU3MmMyYTM2NTkyYjNhNWI2MTY1OGRjOWE3N2QwZjIxZjEifQ=="",""chat"":true,""urn"":""urn:user:916689804182167565"",""subscribed"":false,""subscriber"":false,""boost_rating"":2,""pro"":true,""pro_published"":true,""rewards"":true,""p2p_media_enabled"":false,""is_admin"":true,""onchain_booster"":0,""email_confirmed"":true,""eth_wallet"":""0xe4d7c3ebbb35f22ffd2fb4a2bf0979dc1c4aa158"",""rating"":1,""email"":""brian@briankotch.com"",""disabled_emails"":"""",""open_sessions"":56},""thirdpartynetworks"":{""facebook"":{""connected"":false},""twitter"":{""connected"":false,""username"":""""}}},""Response Payload"":{""EDITOR_CONFIG"":{""text"":""{\""status\"":\""success\"",\""channel\"":{\""guid\"":\""916689804182167565\"",\""type\"":\""user\"",\""subtype\"":false,\""time_created\"":\""1543931880\"",\""time_updated\"":false,\""container_guid\"":\""0\"",\""owner_guid\"":\""0\"",\""site_guid\"":false,\""access_id\"":\""2\"",\""tags\"":[],\""nsfw\"":[],\""nsfw_lock\"":[],\""allow_comments\"":false,\""name\"":\""brianhatchet\"",\""username\"":\""brianhatchet\"",\""language\"":\""en\"",\""icontime\"":\""1582042041\"",\""legacy_guid\"":false,\""featured_id\"":false,\""banned\"":\""no\"",\""ban_reason\"":false,\""website\"":\""\"",\""briefdescription\"":\""This snow makes me thankful for remote work\"",\""gender\"":\""\"",\""city\"":\""Colorado Springs\"",\""merchant\"":{\""service\"":\""stripe\"",\""id\"":\""acct_1FCXEjK7vbbm2lDw\""},\""boostProPlus\"":false,\""fb\"":false,\""mature\"":1,\""monetized\"":\""\"",\""signup_method\"":false,\""social_profiles\"":[],\""feature_flags\"":false,\""programs\"":[],\""plus\"":true,\""hashtags\"":false,\""verified\"":true,\""founder\"":false,\""disabled_boost\"":false,\""boost_autorotate\"":false,\""categories\"":[],\""wire_rewards\"":null,\""pinned_posts\"":[\""978040302374219776\""],\""is_mature\"":false,\""mature_lock\"":false,\""last_accepted_tos\"":1558597098,\""opted_in_hashtags\"":5,\""last_avatar_upload\"":\""1570116917\"",\""canary\"":false,\""theme\"":\""dark\"",\""toaster_notifications\"":true,\""mode\"":0,\""btc_address\"":\""1HQRj2t22McQ8J2njbQSEdrd16Kef67VJu\"",\""surge_token\"":\""eyJzZXJ2aWNlIjoiYXBwbGUiLCJ0b2tlbiI6IjNlMDU1ODliMjkzMGZiNWY1MjRhODczNmUwYmI5YjU3MmMyYTM2NTkyYjNhNWI2MTY1OGRjOWE3N2QwZjIxZjEifQ==\"",\""chat\"":true,\""urn\"":\""urn:user:916689804182167565\"",\""subscribed\"":false,\""subscriber\"":false,\""boost_rating\"":2,\""pro\"":true,\""pro_published\"":true,\""rewards\"":true,\""p2p_media_enabled\"":false,\""is_admin\"":true,\""onchain_booster\"":0,\""email_confirmed\"":true,\""eth_wallet\"":\""0xe4d7c3ebbb35f22ffd2fb4a2bf0979dc1c4aa158\"",\""rating\"":1,\""email\"":\""brian@briankotch.com\"",\""disabled_emails\"":\""\"",\""open_sessions\"":56},\""thirdpartynetworks\"":{\""facebook\"":{\""connected\"":false},\""twitter\"":{\""connected\"":false,\""username\"":\""\""}}}"",""mode"":""application/json""}}}
```",8
31559748,2020-02-17 19:28:43.599,Email address registration failure,"### Summary:

on your website and on the Apple app, it would not accept my email address hzmd@me.com so I could not register. On the app I also tried hzmd@icloud.com without success

### Steps to reproduce:

I tried it more than once

### Browser and OS

iOs reported by: @",4
30718172,2020-02-13 14:00:51.162,Add a field to the metrics index to indicate if a user signed-up based on a referral from a Pro channel,"This will help in tracing the activity of those users and check if they are active or not in order to reward the Pro channel

- [x] Add a `pro_referrer` boolean to the metrics index
- [x] ~~Add the referrer guid~~ (already present for `signup`)
- [ ] Wherever we write to the metrics index and have a referrer, write the referrer guid and the boolean if they are a referrer",3
31396467,2020-02-10 17:11:52.648,Group feeds hydration failure,"### Summary

Subverse Newsroom Group posts are not loading. Infinite loading circle. Verified on multiple browsers (brave, chrome, firefox) and environments (staging, canary, production). May require a hard refresh because error can be hidden by caching.

### Steps to reproduce

Reproducable sporadically. Seems to happen in high volume groups with building review queues.
Judging by the HAR exporting all of the entities as null

![image](/uploads/cd89d4a0063643ab4c8f3efbf5e40547/image.png)

https://www.minds.com/newsfeed/1074773983844339712


### Platform information 

Browser

### What is the current *bug* behavior?

Subverse Newsroom Group post feed not loading

### What is the expected *correct* behavior?

Post feed should load

### Relevant logs and/or screenshots

Staging
![image](/uploads/5a7c5e106575204b159471c74c52fa28/image.png)


Production / Firefox 
![image](/uploads/c2ec626e819e954a9c4d8ffea90d073f/image.png)

We need to fix the null entities coming out of the groups / pro queue

If group owners or moderators visit the group, they should see the entire list of entities, because they can approve or reject (delete) posts. 

If group members or visitors for open groups, we need to remove unapproved entities from the list

@benhayward.ben needs to talk to @edgebal about the finer points of filtering out these entities on the backend",4
30391312,2020-02-04 22:30:13.369,Legacy USD boost prompt still appears,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Legacy boost prompt that allows payment in USD still appears sometimes.

### Steps to reproduce

1. Click boost on your post and notice the token prompt (this is correct behavior)
2. Go to someone else's channel and click to Wire them on a post. 
3. Toggle over to send them USD. 
4. Exit wire prompt without making payment.
5. Go back to your channel and click boost on your post. 
6. Notice the legacy USD prompt - this should be removed and never show up

### Platform information 

iOS Catalina, MacBook, Chrome

### What is the expected *correct* behavior?

Only the token boost prompt should ever appear.

### Relevant logs and/or screenshots

![Screen_Shot_2020-02-04_at_3.27.11_PM](/uploads/5c37ce807dc504468956ee199aa417c8/Screen_Shot_2020-02-04_at_3.27.11_PM.png)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",4
31097055,2020-01-30 14:05:53.713,Cannot remind a group post before joining,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Cannot remind this post:

https://www.minds.com/newsfeed/1064982723935780864

Error given:
`{""status"":""error"",""message"":""Actor cannot interact with the entity""}`

### Steps to reproduce

1. Log in.
2. Try to remind post from group feed without joining.

### Platform information 

Replicated Chromium / Ubuntu 19.04

### What is the current *bug* behavior?

Cannot remind post, error returned from endpoint `{""status"":""error"",""message"":""Actor cannot interact with the entity""}`

### What is the expected *correct* behavior?

* The member should likely be able to share this.
* If the member can't share we should be showing them an error.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

I've checked other groups and I can remind content from the ones I tried.",4
30087304,2020-01-29 23:30:07.360,Add environment namespacing to feature services sync and fetch,Related to #1333,3
30071391,2020-01-29 14:25:42.253,"Implement newest Unleash client release, Cassandra caching and add a sync runner","- [x] Bump to unleash-client-php#6
- [x] Sync CLI runner, wait 5 minutes between sync operations
- [x] Cassandra general cache
- [x] Unleash service should fetch and write to Cassandra
- [x] Unleash service should read row from Cassandra
",3
30049836,2020-01-28 23:57:50.826,Add a title to video and image entities,"Video and image entities will have optional titles on the new composer.

This is a card to extend the backend data models for image and video entities

- [x] Add title to videos
- [x] Add title to images
- [x] Make sure these are exported on their entities at the api level
- [ ] ~~unit tests~~ This is all /api/v1/newsfeed code, so no testing on this until we implement Activity editing",3
29999242,2020-01-27 21:48:50.936,"Extend user settings to allow users to set ""hideShareSettings""","This is the backend card for extending the user's settings to enable them to ""hideShareButtons""

@markeharding rolled out the share toolbar and the community requests being able to turn this off

- [] extend the user entity to be able to save ""hideShareButtons""
- [] v1/settings should update the user with the new settings
- [] unit tests to make sure the updated user model saves / exports",2
29996195,2020-01-27 19:42:16.978,verification email template issues,"- [ ] Make sure the subject / title is ""Please, confirm your email""
- [ ] Remove duplicate footer, the template should include them by default
- [ ] @ottman reports that ""the caps look weird in the current iteration"" but I don't know what that means.

Attached is a PDF version of the email thread

[Re_Fw_Confirm_your_Minds_email_Action_required.pdf](/uploads/868b663faa9f14d12b5e5b7773023413/Re_Fw_Confirm_your_Minds_email_Action_required.pdf)",2
29988021,2020-01-27 16:27:10.929,Check every single link on ssr.minds.com,"Check all the links, console, caching off, hard reset: 

- No https errors
- No new console errors (errors not in production)

## links checked

- [x] minds.com root
- [x] newfeed
- [x] wallet
- [x] hamburger menu
- [x] settings
- [x] static page footers",4
29925988,2020-01-24 19:52:43.482,"When an entity gets reported, save a copy that can't be edited","To increase the validity of the jury and moderation process, we need to create a historical record of the entity when it gets reported. Currently, reports can be edited and the offending content can be removed and invalidate our three strike process.

- [x] When an entity is reported, save a copy of the original entity to the moderation_reports_by_state table in cassandra
- [x] Extend the https://www.minds.com/api/v2/moderation/jury/initial endpoint to return the copy of the original entity
- [x] Keep the new entity URN as we'll be showing them side by side
- [x] Unit tests to make sure our repository and manager return the right thing",6
29859653,2020-01-22 17:41:23.973,"Change the error message for ""No VOIP allowed"" to ""Invalid phone number""","Our error messaging coming out of the voip verification is misleading. If you enter a phone number that's valid or voip, we get a generic error. 

As reported by @omadrid:

*Sidenote: I think the '**voip phones not allowed**' blanket error message isn't user-friendly and is often not an accurate description of the problem.*

Look at the error messages that we get back from twilio in the sms client in engine. For actual voip errors we want to return the original message. But we should return better errors than we currently ar

- [x] Return the invalid voip error for voip numbers
- [x] Return ""invalid phone numbers"" for numbers",2
29818829,2020-01-21 18:47:23.463,Simplify our feature flags with the unleash service,"With the compiled work of onboarding, product pages and nav, we need to reduce the number of feature flags to turn on the new ui in one toggle. We should also take the time to clean up our existing feature flags and make them all configurable or remove the invalid ones

- [x] setup a new feature flag called 'ux-2020'
- [x] remove the onboarding, product page and nav feature flags 
- [x] audit the feature flags in engine
- [x] make sure all current feature flags are setup in the feature flag export mapping
- [x] enable toggling of the feature flag on and off with the unleash client",4
29818468,2020-01-21 18:28:40.745,Registration Emails for verification contain no link in Proton mail,"When you register a new channel on staging the verification email has no, verification link. Looks like whole body element might be missing. 

![image](/uploads/19d0b2a9fc00ddc6e86a570fa5226ae5/image.png)",2
29814329,2020-01-21 16:10:24.234,Media reminds as owner showing up as fresh posts,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Reminds from media pages are not showing as a remind on the users feed, they're showing as original posts.

### Steps to reproduce

1. Go to a media page for an image
2. Remind
3. Check your feed

### Platform information 

Cross-platform web replicated Ubuntu / Chromium

### What is the current *bug* behavior?

No Remind box is shown for the Remind, making it look like fresh content.

### What is the expected *correct* behavior?

It should be in a remind box.

### Relevant logs and/or screenshots

![image](/uploads/2655fecff07e5e27ee91f4e188e87b5c/image.png)

![image](/uploads/66a6e2a529834c613f2444569500ed5b/image.png)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",4
29706797,2020-01-16 22:50:10.409,Channels onboarding says Members for all channel descriptions,"https://www.evernote.com/l/AGuYz2vJbXlAH56BHdYuA9NxV9TLUFu9MygB/image.png

When onboarding channekls, the displayed channels all say members instead of their channel description",1
29524086,2020-01-12 21:39:28.028,"When a user has an unverified email address, deny write permissions","When a new user has not verified their email address, any ACL that requires write access should raise a 403 forbidden error

This error message will be used to control user access on the front end and mobile by prompting them to validate their email address

Note, this needs to not effect existing users who have not verified their email address until we can roll out proper messaging

Unverified users **should** not be able to:
- [x] Create a post
- [x] Comment on a post 
- [x] Vote up or down
- [x] Create group
- [x] Create blog
- [x] Upload images
- [x] Upload movies
- [x] unit tests",6
29486230,2020-01-10 14:42:08.514,unleash client setup context groups and environment variables,"* [x] Setup context groups for admins, canary, pro, and plus users (engine)
* [x] Ability to also specify list feature flag keys on environment variables
* [x] Specify (""hardcode"") feature flag keys on the provider
* [ ] Spec test services
* [ ] Document unleash composer publishing steps",2
29447022,2020-01-09 15:00:42.679,Change universal links endpoint for email verification only,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
29384529,2020-01-07 20:56:36.553,Channel and group search should use 1 y range for aggregating results,"Make sure that our search algorithms are using 1 year for calculating their results. 

Searching for 1 year returns better results

https://www.minds.com/newsfeed/global/top;period=1y;all=1;hashtag=null;query=nutrition

The default search box returns the Top 24h which is too volatile / inaccurate",2
29378263,2020-01-07 16:47:15.427,Make sure we're filtering out banned channels in the feeds and search results,"We need to make sure that we're excluding banned channels from the search results and feeds

- [ ] Verify that banned channels are being filtered in the feeds.
- [ ] Verify that banned channels are being filtered in the search results
- [ ] Research raising an error if a banned channel shows up where it's not supposed too (unless removing it from the es queries makes that impossible)",16
29374226,2020-01-07 15:19:37.306,Re-send confirmation email after certain time if no action was taken by new user,"If a unverified user is less than a week old (we don't want to send these out after 7 days)

When an unverified user logs in, created a delayed queue in SQS that waits for 24 hours (like we do with user registration), this queue job then checks to see if the user is unverified and then sends them a reminder verification email.
",4
29334415,2020-01-06 14:48:42.542,Update the Email Verification copy,"https://invis.io/KWU1X9IEB2U#/399381744_Generic_Transactional_Email

Michael got us a new design for the email verification with new copy.

- [ ] Update the email template with the new design",2
29298925,2020-01-04 22:24:39.251,Tapping a hashtag on mobile should not search the hashtag it should isolate the hashtag in discovery,currently it just throws #whatever in the search field and that doesn't even work,2
29243253,2020-01-02 17:09:05.059,Make settings.php read from $MINDS_VARIABLE_NAME environment variables,"To enable easy secrets management in the review sites, we're going to be using kubernetes secrets management here

https://kubernetes.io/docs/concepts/configuration/secret/#using-secrets-as-environment-variables

To simply development and make it easier to interpolate, we'll use

https://github.com/vlucas/phpdotenv

",6
29226226,2020-01-02 00:11:11.077,Create an api for the classifier system,"- [ ] create an API for marking a channel with admin feedback
- [ ] create an API for getting the summary of a channel's classifier (these stats will be displayed to the admin on the firehose)
- [ ] Api endpoints are admin only 


Proposed schema from @ramialbatal 

* Aggregated counts of:
  1. Active days (in the last 30 days, last 7 days)
  1. Comments written and received (last 30 days, last 7 days, last 1 day)
  1. Channels received comments from the current channel, channels commented on the current channel posts/blogs (last 30 days, last 7 days, last 1 day).
  1. Reminds done by the channel and received (last 30 days, last 7 days, last 1 day)
  1. Channels reminded by the current channel, channels
  1. Votes done by the channel and received (last 30 days, last 7 days, last 1 day)
  1. Boosts (last 30 days, last 7 days, last 1 day) + total tokens during the same periods
  1. Boosts Refund (last 30 days, last 7 days, last 1 day) + total tokens during the same periods
  1. Wire received and sent (last 30 days, last 7 days, last 1 day) + total tokens received and sent in the same periods
  1. Channels received wires from the current channel, Channels sent wires to the current channel
  1. Withdrawals
  1. Channels subscribed to the current channels (Total, in the last 30 days, last 7 days, last 1 day)
  1. Subscriptions (Total, in the last 30 days, last 7 days, last 1 day)
  1. Posts (in the last 30 days, last 7 days)
  1. Blogs (in the last 30 days, last 7 days)

* A list of the most recent 50 comments
* The profile picture
* The banner
* The profile description


Schema from @markeharding 



CREATE TABLE classifier_outliers (
  user_guid bigint,
  outlier_values map<timestamp,int>,
  admin_feedback map<timestamp,int>,
  PRIMARY KEY(user_guid)
);


Waiting on confirmation about oauth

We need to make the api patch and complete so Rami can write all the information and the admins can only update the classifier.",12
28926365,2019-12-19 17:34:17.091,Campaigns get marked as complete on first view,"**POST** `/api/v2/analytics/views/boost/1005588450394509314`

```json
{""client_meta"":{""platform"":""web"",""page_token"":""73fa30c3-a9211b82-b291eca5-8c06d756-793ec9a2-67348452"",""campaign"":""urn:boost:newsfeed:1005588450394509314"",""delta"":0,""position"":-1}}
```",2
28925645,2019-12-19 17:02:27.331,Posts search function in Boost Campaign creator does not work,"E.g. Search term *Tes*

**POST** `http://localhost:8080/api/v2/feeds/container/1007976506581848080/activities?sync=1&force_public=1&query=Tes&limit=1`

```json
{""status"":""success"",""entities"":[],""load-next"":""""}
```",2
28925573,2019-12-19 16:59:11.723,Campaign view does not load correct campaign,"E.g. http://localhost:8080/boost/campaigns/urn:campaign:1054439842781335558

No matter which campaign is requested it just shows the same one every time.

**GET** `api/v2/boost/campaigns/urn:campaign:1054439842781335558`

API call is returning wrong campaign",2
28834326,2019-12-17 16:30:06.555,Firehose video thumbnail stuck,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

When using firehose, in videos, after accepting or rejecting a video the thumbnail does not change.  The thumbnail will not update until the page is refreshed.

### Steps to reproduce

1. go into firehose
2. go to videos 
3. accept or report the video
4. notice that the thumbnail image does not update

### Platform information 

firefox, win10

### What is the current *bug* behavior?

video images in firehose are not updating

### What is the expected *correct* behavior?

video thumbnails should update accurately 

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",4
28795424,2019-12-16 20:19:55.486,Remove verified status when changing email address and re-send confirmation email,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
28795411,2019-12-16 20:18:45.115,Endpoint to re-send confirmation email,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
28632055,2019-12-13 15:09:15.947,Analytics signup events,"- [x] Create a new ElasticSearch `minds-metrics-*` event that allows aggregating analytics for signups.

---

Keeping original issue description below for historical purposes.

> **Start tracking ""potential"" users in kite.**
>
> Potential users are users who have not signed up for the account and are visiting the publicly accessible pages.
> 
> We can identify a user by their MWA as they convert from not-logged in to signed up. The MWA stays the same and the entries in minds-metrics have the MWA, and logged_in: true for logged in users and that field will be null.
> 
> What we can't do, however, is track the MWA and user_guid, because this will allow us to indentify users and their activity. To make this double blind without easily identifiable information, we just need to dual write the sign up activity without the user guid, with the MWA and with a time stamp set to noon so there is not identifiable information.
> 
> - [x] Dual write the signup action to the minds-metrics index
> - [x] Where we write user guids, do not write MWA
> - [x] Where we write MWAs, do not write user guid and write a fixed date at noon so all date times are obfuscated",8
28407685,2019-12-12 14:23:15.767,Delete comment replies for spammers and banned users,"When a user gets banned, extend the clean up events to delete comments made by that user

- [x] Use a queue and event
- [x] Hide any comments made by banned user's

When a user gets deleted, make sure we're deleting their comments",8
30586493,2019-12-12 00:26:17.378,Add a robots.txt / sitemap.xml,"This best practices gives us a pretty good breakdown of how we can guide search engines more, including linking to a sitemap

https://www.searchenginewatch.com/2019/03/21/robotstxt-best-practice-guide/

https://www.advancedhtml.co.uk/robots-sitemaps.htm/

I suspect that we can gain a lot of power by setting this up. It will also be work looking into how Facebook publishes its ""Public preview""",4
18058893,2019-02-08 03:22:06.680,(feat): Write spec tests for ES based reporting.,"Spec Test.
There won't be a lot of differences between the old and new systems, from a consumer standpoint. However, some of the data retrieved from ES is not possible from Cassandra, and those query paths need tested.",10
18056141,2019-02-07 22:22:52.416,(feat): Top Feeds should return activities for all kinds of entities,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
18272476,2019-02-07 19:29:23.008,(bug): There is a misspelled word in the error message which gets displayed when a group is inaccessible for whatever reason.,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Reported by a user in H&S: https://www.minds.com/newsfeed/940192328231264256

Reads ""THE GROUP COULD NOT BE GOUND""

Should be ""THE GROUP COULD NOT BE FOUND""

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information 

(Browser, device, system stats, screen size)

### What is the current *bug* behavior?

Reads ""THE GROUP COULD NOT BE GOUND""

### What is the expected *correct* behavior?

Should be ""THE GROUP COULD NOT BE FOUND""

### Relevant logs and/or screenshots

![25](/uploads/084e44bc6720e34d0530ac7b7cbe8054/25.jpg)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
18027523,2019-02-07 03:45:03.442,Fix the double event firing in the queue runner,"### Summary

Queue runners are double firing events registered via modules

### Steps to reproduce

Run a runner via the command line (the same way supervisord does). If you add logging to an event registered via the modules, it will fire twice 

### Platform information 

Backend

### What is the current *bug* behavior?

Events registered via modules fire twice

### What is the expected *correct* behavior?

Events registered via modules fire once



### Possible fixes

Both cli and QueueRunners instantiate minds. We need to refactor the event loaders to be callable from the outside so we can safely wireup events when we need too.",10
18027429,2019-02-07 03:40:28.911,Enable call back links in minds emails,"Once we're sending emails, we need to track their effectiveness.

Update existing emails to send email campaign, email type and a weight (so we can assign emails a priority)

Each email should contain a clear call to action that tracks back to an endpoint on minds.

The endpoint will update elastic search with the email and campaign to chart their effectiveness.
",10
18027411,2019-02-07 03:38:53.551,Create an email for when a user is resurrected,"When a user uses the platform after seven days of inactivity, we will send and email that welcomes them back to the platform

When the analytics sync_activeUsers, send an email (to be determined by @ottman and @jotto141) to show them content that will encourage them to keep using the platform",5
18027404,2019-02-07 03:37:53.157,Create an email for when a user goes cold,"When a user goes cold (seven days of inactivity, they will be tagged by the user analytics module as ""cold"".

When the analytics sync_activeUsers, send an email (to be determined by @ottman and @jotto141) to show them content they will encourage them to use the platform",5
18027384,2019-02-07 03:35:58.368,"Create ""Welcome to minds"" email for new users on minds","When a user signs up, they will be tagged by the user analytics module as ""new"" for 24 hours after they sign up.

When the analytics sync_activeUsers, send an email (to be determined by @ottman and @jotto141) to show them content they might be interested in",10
18027358,2019-02-07 03:31:52.763,Create Unit Tests for User Retention Runner,"Needed to close the loop on all the new classes.

All public functions of the UserStates module need unit tests",10
18017219,2019-02-06 19:46:46.870,(test): Add new and fix existing tests for sort and hashtags dependant classes,,10
18007723,2019-02-06 13:48:46.083,(feat): Actions must update ElasticSearch,"The ""Actions"" performed as a result of moderation by admins and mods must be modified to update ES correctly. For the immediate future, the updates will happen in parallel to the Cassandra updates. In the interim, ElasticSearch is the query source for all reports and Cassandra is the Truth.

In the near future, Cassandra will either be updated to accommodate the newer model or it will be discarded as the source of truth for reporting.",15
17991767,2019-02-06 00:29:02.473,(bug): help desk save button not highlighting after edit,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Edit help desk response, cannot save. 

### Steps to reproduce

As admin, go to edit a help desk answer. Save button does not illuminate.

### Platform information 

Chrome, Macbook air 


### What is the expected *correct* behavior?

Save button should illuminate once edit is made.

### Relevant logs and/or screenshots

array(10) { [0]=> string(4) ""How "" [1]=> string(7) ""How do "" [2]=> string(9) ""How do I "" [3]=> string(13) ""How do I buy "" [4]=> string(20) ""How do I buy Ether? "" [5]=> string(7) ""Ether? "" [6]=> string(11) ""buy Ether? "" [7]=> string(13) ""I buy Ether? "" [8]=> string(16) ""do I buy Ether? "" [9]=> string(20) ""How do I buy Ether? "" } {""status"":""success"",""uuid"":""46258a77-53bd-4498-9e9b-035f575a6656""}",1
18070773,2019-02-04 18:46:03.435,(bug): welcome email has link to PlayStore,The Welcome email after creating new account has a dead link to the Play Store.,1
17945940,2019-02-04 04:43:00.668,"Images in comments are not working, when clicked, on destop and webapp browsers","<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

When clicking through to view an image from a thread (https://www.minds.com/newsfeed/938949270826668032), it is coming up as a ""post may not exist"" error.  It works on the apps, but not on webapp or browser.

Image link e.g. https://www.minds.com/media/938988244965883904

### Steps to reproduce

Go to the chat in top link, scroll down and click the image.

### Platform information 

Windows 10, Chrome, Brave

iPhone SE, Safari

### What is the current *bug* behavior?

### What is the expected *correct* behavior?

Image should display as normal on all browsers/apps.

### Relevant logs and/or screenshots

![comment_image_2](/uploads/68a60fd549f6090fc4b7e4d6bfbae66e/comment_image_2.PNG)

![comment_image](/uploads/e45425ab2cd734f24f9c601b4e10e7ac/comment_image.PNG)

### Possible fixes",2
19309224,2019-02-02 17:37:01.607,(bug): Images Library Has Disappeared,"### Summary

The image library that was once available on a channel's left sidebar, under the Bio, has disappeared; making it impossible to browse a channels uploaded images.

### Steps to reproduce

Open a channel page and scroll down to just below the channel's Bio, and on top of the Video library, and you wont see what was once there; the image library.

### Platform information 

Firefox 30.3.0 esr; Debian Stretch 9.6

### What is the current *bug* behavior?

The lack of a channels image libary.

### What is the expected *correct* behavior?

An image library should be available just below the Bio and above the video library on a users channel.

### Relevant logs and/or screenshots

![Selection_526](/uploads/4b530e5430dc576d03f9cbb118e1849a/Selection_526.png)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",5
17854569,2019-01-31 16:01:02.411,(feat): Allow weighting using user's selected hashtags,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
17849268,2019-01-31 13:50:30.158,(refactor): Sorted Sets should work in batches; avoid reading from cache when generating,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
17828981,2019-01-30 22:54:59.835,(bug): group owners cannot delete a group unless there are no other members,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Group owners are unable to delete a group they own, unless the group has no other members.

### Steps to reproduce

1. Create a group or go to a group you own with 2+ members
2. Delete the group and confirm
3. Group does not get deleted

## Expected Behavior

Group owners should be able to delete a group they own at any time.

### Platform information 

Chrome, MacBook Air, iOS 10.14.1

## Logs 

![cannot_delete_a_group](/uploads/96f555be7b2e1bd95a6645d5b3cbad73/cannot_delete_a_group.mov)### What is the expected *correct* behavior?",2
17818546,2019-01-30 18:20:02.755,"(refactor): Trending hashtags should just use Cache layer and Cassandra (deprecate Cockroach, migrate hidden tags)",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
17813603,2019-01-30 15:06:19.997,(feat): Inject boosts onto Top Feeds results,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
17813395,2019-01-30 14:59:28.825,(feat): Index activities with embedded blogs using custom_type (detecting by URL),Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
17785088,2019-01-29 21:53:49.262,(feat): allow groups to enable/disable conversations,"## Goal

Group owners, admins and moderators should be able to turn conversations on or off in settings to prevent trolling and abuse when they are not around.",10
17782271,2019-01-29 20:18:22.423,"(refactor): Hashtag endpoints to respond with default, user-selected and trending hashtags",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
17812455,2019-01-29 19:27:08.531,(bug): iOS push notification not being delivered,"### Summary

No push notifications on iOS app. 

### Steps to reproduce

Enable all push notifications, use another channel to send yourself a notification. No push notification sent.

### Platform information

iPhone 7, iOS 12.1

### App version

3.1.2000

### What is the current *bug* behavior?

No push notifications.

### What is the expected *correct* behavior?

You should receive push notifications for all notifications you have selected in settings.",5
17735002,2019-01-28 19:11:43.495,"(feat): Index type (image, video) when indexing on Elasticsearch",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
17734980,2019-01-28 19:10:12.706,(feat): Avoid using CockroachDB for user hashtags persistance,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
17730642,2019-01-28 16:19:20.958,(feat): Group converation reply notifications should load from offset,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

(bug): Popup notification of a reply to my comment in group conversation led to nowhere

### Steps to reproduce

(How one can reproduce the issue - this is very important)

reply to a comment in a group convo, tap on the popup desktop notif in the other account

### Platform information 

(Browser, device, system stats, screen size)

firefox, ubuntu

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

Should direct to exact location

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",5
17694695,2019-01-26 23:10:34.074,(bug): group creation stalling with large banner,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

above

### Steps to reproduce

(How one can reproduce the issue - this is very important)

start a group and upload decently large banner

### Platform information 

(Browser, device, system stats, screen size)

chromebook

### What is the current *bug* behavior?

(What actually happens)

loads into infinity

### What is the expected *correct* behavior?

(What you should see instead)

works...

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",5
17670151,2019-01-25 18:33:08.313,"If a user replies to a comment, they should receive notifications for all replies to that comment","## Current behavior

If I make a level 2 comment reply, and someone else replies to that, it creates another level 2 comment and I do not receive a notification that someone replied to my comment.

## Intended Behavior

If I make any comment reply, I should receive notifications for ALL replies from other users on the comment that I replied to. You should not receive notifications for your own comments on replies.

## Example

1. Jack makes a post
2. Tom comments on the post (level 0) saying ""Cool post""
3. Jack receives notification about the comment. 
4. Jack replies (level 1) to Tom's comment saying ""Hey, thanks.""
5. Tom receives notification about the comment.
6. Tom replies (level 2) to Jack's comment saying ""Where did you see that""
7. Jack receives notification about the comment.
8. Jack replies (level 2) to Tom's comment saying ""Arizona""
9. Tom receives notification about the comment.
10. Mark replies (level 2) to Jack's comment and says ""I have been there before""
11. Jack and Tom receive notification about the comment.",2
17662721,2019-01-25 13:41:35.359,(feat): OnChain boost updates,"OnChain Boost Update:

* [x] Boost max increased to 10,000 views - this should almost be completed per Ben

* [x] OnChain boosts to have an icon+text showing OnChain boost and a clickable link to the Etherscan boost transaction (mockup below)

* [ ] Users who boost OnChain 1 time get a badge icon for 7 days on profile (needs front end)

* [ ] Link OnChain boost button to Etherscan transaction page

* [ ] Update Boost prompt text and design

## New Boost Prompt

![Boost_Prompt](/uploads/5d3e11713db7d08b8a62879910fc05d0/Boost_Prompt.png)

## OnChain Boost Icon and Badge

![Screen_Shot_2019-04-02_at_12.55.24_PM](/uploads/78384a8e5c16ebd42deb4af757347c71/Screen_Shot_2019-04-02_at_12.55.24_PM.png)",10
17659978,2019-01-25 11:58:43.042,(feat): return error codes on v1/register so we can use i18n on the client side,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
17613389,2019-01-23 19:59:46.506,(feat): Implement Redis' Sorted Sets as specialized cache class with pagination support,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
17611956,2019-01-23 19:12:57.458,(feat/refactor): Fine tune sorting algorithms and allow other variables for positive/negative values,"- Remove Top algorithm
- Rename Best to Top",5
17608213,2019-01-23 17:31:56.907,"(feat): On activity state event, send email",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,20
17608192,2019-01-23 17:31:16.741,(feat): Ability to trigger event action based on data,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
17608023,2019-01-23 17:25:34.837,(feat): ability to return query - % of activity over the last week,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
17606834,2019-01-23 16:45:27.941,(feat): Allow CLI to run upvotes and downvotes in parallel,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
17606605,2019-01-23 16:37:01.729,(feat): Introduce new paging system for cached elasticsearch results to avoid duplicates,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
17606502,2019-01-23 16:34:07.531,(feat): Fetch a batch of elasticsearch results and cache,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
17604117,2019-01-23 15:09:49.873,(fix): Not getting results when selecting long periods of time,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
17603576,2019-01-23 15:02:43.503,(feat): Split Redis Pub/Sub and Cache to different clusters,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
17602762,2019-01-23 14:51:07.215,(feat): Prototype of elasticsearch based personal and network feeds (for activity),Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,7
17601060,2019-01-23 13:52:01.728,(feat): Add container_guid ACL check to /suggested API,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
17601000,2019-01-23 13:49:51.591,(fix): Add votes sync age validation to Elasticsearch scripts,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
17598601,2019-01-23 12:12:01.024,(chore): Cli for moving cockroach helpdesk to cassandra,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
17598563,2019-01-23 12:10:14.990,(feat): Move search results over to elasticsearch,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
17598509,2019-01-23 12:07:53.438,(feat): Cli for ordering helpdesk by votes,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
17598479,2019-01-23 12:06:09.089,(feat): Use helpdesk table for storing vote,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
17596808,2019-01-23 11:37:21.974,(refactor): Use a model vs function parameters for postIssue function,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
17596795,2019-01-23 11:36:49.787,(feat): Spec tests for gitlab issues,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
17593591,2019-01-23 09:54:13.732,(feat): Deployable k8s environment to isolated vpc,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
17593532,2019-01-23 09:53:29.437,(feat): Fully working local kubernetes environment to level of docker-compose,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
17593433,2019-01-23 09:49:50.309,(feat): Migrate all comments to new table,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
17573882,2019-01-22 18:52:24.675,(bug): group moderators cannot delete messages in Conversations,"### Summary

I am a group admin in the support group and I cannot delete messages in the Conversation tab. 

### Steps to reproduce

1. Create a group
2. Set a user to Admin 
3. Log in as Admin user
4. Try to delete a message in group conversation - no option

### Platform information 

Chrome, iOS, Macbook Air

### What is the expected *correct* behavior?

Group moderators, and Group Admins should be able to delete messages in Group Conversations",5
17548440,2019-01-22 07:22:32.413,(feat): Modify notification of report or rejection,"""The content linked below was <removed, marked as explicit, marked as spam> because it was determined that the content (insert reason).

(insert URL of post)

If you wish to appeal this decision, please select the ""Appeal"" button below and provide additional context that explains why you believe the decision was incorrect.""",5
17523329,2019-01-21 13:35:19.887,(feat): introduce bounce webhook for sendgrid,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
17977706,2019-01-20 17:01:17.997,(bug): Media is still accessible after deleting comment containing it,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

### Steps to reproduce

1. Navigate to a post.
2. Comment with an image.
3. Click on the image.
4. Get the image link.
5. Delete the post containing image.
6. Go to the image link.

### Platform information

HUAWEI (HUAWEI ANE-LX1) / Android 8.0.0

Environment: Laptop Core i7 7700HQ, Windows 10, Chrome browser

### What is the current *bug* behavior?

Media is still accessible after deleting comment containing it.

### What is the expected *correct* behavior?

Image should be deleted if the comment is deleted (user expectations).

### Relevant logs and/or screenshots

https://dashboard.ubertesters.com/uploads/8463/11810/issues/40/151802/data%20privacy.mp4

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
17485288,2019-01-19 03:10:53.345,(bug)[front] Start a new group flow does not allow edit banner selection after initial selection,"### Summary

Cannot change banner selection in initial flow to start a new group (walrus)

### Steps to reproduce

As you go thru start a new group flow, there is no way to edit banner after you upload the first time (in case you change your mind and want a different a banner) There is no way to edit the first selection and you need to exit the entire start a new group flow.
### Platform information 

chrome windows

### What is the current *bug* behavior?

After you upload your first banner selection, it is necessary to abort the entire flow and start over if you want to change banners. 

### What is the expected *correct* behavior?

Should be an edit button on the banner to try another

### Relevant logs and/or screenshots


### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",5
17471849,2019-01-18 15:44:01.681,"(bug): Banners not saving down, ditch carousels","<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

Banners are not saving down on mobile or web for channels repeatedly. 

### Steps to reproduce

(How one can reproduce the issue - this is very important)

Upload a new banner, especially larger files

### Platform information 

(Browser, device, system stats, screen size)

chrome, firefox, android

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

saves down no issues

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)



### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",10
17471847,2019-01-18 15:43:54.030,(feat): Ensure blocked users' content isn't displayed on top feeds,"When I block a user, I shouldn't see any of their content on Top Feeds (BEST/HOT/TOP/CONTROVERSIAL/NEW).",10
17462609,2019-01-18 11:49:54.738,(feat) create an issue post endpoint to post on gitlab,"Create a new endpoint POST **/issues/:product** where product is (mobile/web)
it should receive {title, description, steps, platform} and create a new issue on gitlab",2
17442905,2019-01-17 18:04:01.198,Newfeed tags not taking user's Open Option into account,"### Summary

When a user has open content enabled, the tag newsfeed is not including content with a rating of 2


### Steps to reproduce

Set your Open and Explicit filters to on, so everything should be included

Ahem, look at this totally work related hash tag https://walrus.minds.com/newsfeed/tag/porn;ref=hashtag


### Platform information 

Mac, Chrome

### What is the current *bug* behavior?

You will not see anything inappropriate.

### What is the expected *correct* behavior?

You should see inappropriate content.


### Possible fixes

Include the user's content rating in repository look up so it passes in their preferences",4
17407525,2019-01-16 20:25:31.992,(feat): Implement content scoring on Channels feed,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
17400064,2019-01-16 17:53:49.512,Create a kibana dashboard widget that analyzes the user retention metrics,"With #100 and #101, we should now be able to create a kibana dashboard widget that queries elastic search and returns a break down of:

- New: Accounts less than the given time period old

- Core: Users who are active 75% of the time over a given period

- Casual: Users who are active to 25% of the time over a given period

- Cold: Users who are active 0% of the time over a given period.

- Resurrected: User who were Cold during the previous given period, but active this one",5
17399994,2019-01-16 17:49:43.267,(feat) Create a user status index in elastic search with sync runners,"When a new user joins, create a new document in elastic search that tracks their
user_guid and account creation date.

If an existing user logins, update the index so we can back fill existing users. 

This will allow us to separate new users from existing users in the subsequent user retention queries",10
17399781,2019-01-16 17:38:46.258,(feat): create user centric index and sync runners,"For a given time period, create an elastic search query that returns user activity

For a given user_guid, classify the user into one of four categories:

New: user whose account time stamp is less than 7 days old
Core: user whose has active actions for 75% of the days of the given time period
Casual: user who has active actions for 25% of the days of the given time period
Cold: user who has active actions for 0% of the given time period
Resurrected: user has at least 1 active action of the given time period compared to the previous span of the given time period",5
17387508,2019-01-16 11:32:26.003,(feat): Implement gitlab api to post issues,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
17368816,2019-01-15 17:15:10.912,Research and implement a schema migrator,"Look into something like laravel or liquibase to automate schema deployments.

The goal would be to store incremental schema changes in the engine repositories so that way local development environments can be kept in sync without having to run sql by hand.

Will also want to look into provisioning elastic search indexes.

What data can we insert to create a runnable development environment from ground zero.",15
17361218,2019-01-15 12:53:09.029,(feat): Hashtag filters should add weight instead of filter out other entities,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
17343260,2019-01-14 20:28:09.828,(feat): improve notification and appeal system,"## Goal: 
Meet requirements of Santa Clara Principles - https://newamericadotorg.s3.amazonaws.com/documents/Santa_Clara_Principles.pdf

## Specs:
All users should receive in-app notification when a piece of content, or their channel, receives any type of moderation. All users should be able to view these actions in the Reported Content section of their settings console. 

**Notification Triggers:**

- Content marked explicit = in-app notification and listed in reported content console
- Channel marked explicit = in-app notification and listed in reported content console
- Boost rejected = in-app notification and listed in reported content console
- Channel marked as spam = in-app notification and listed in reported content console
- Channel banned = email notification

**All moderation notifications should contain:**
- sufficient information to identify content in violation
- specific clause in terms that was violated
- how the content was flagged and actioned on 
- clear explanation of how to appeal the decision

**Appeal process:**
- reviewed by different people than who made the original decision
- grant user opportunity to provide additional information for review of appeal
- notification of the results of the appeal so user may understand decision",30
17343151,2019-01-14 20:22:22.206,(feat): ElasticSearch score algorithms classes,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
17342591,2019-01-14 19:52:27.104,(feat): group reports of the same reported content into one spot in the report queue,"## Goals:
- Improve efficiency of report queue 
- Create process for community to contribute (longer term).

## Specs:
- If 50 users report the same post, consolidate reports into one slot in the queue rather than 50 spots.

This work covers the engine work required to return the data in the correct format, which now has multiple child user_reports per reported_entity

https://gitlab.com/minds/engine/merge_requests/83",10
17342309,2019-01-14 19:33:07.123,(feat): limit number of boosts a user can make in a given time period,"## Goal:
- No user should be able to spam the boost network with multiple boosts in a row

## Rules:
- Cannot boost more than one post within 5 minutes of each other
- Cannot boost more than (X) views per day of their own content 
",15
17221552,2019-01-10 00:11:43.616,(bug)[front]: Wire transaction debits sender wallet even though transaction fails,"### Summary

@john wiring 20 tokens to @howtostyle and the transaction failed several times on @howtostyle side because their wallet was not fully set up.  After helping @howtostyle set up their wallet, the transaction conmpletes, but @john wallet was debited for each failed attempt, but @howtostyle only credited once 

### Steps to reproduce

@howtostyle wallet was verified with a cell number but the subsequent steps aka ""next"" was not completed linking metamask and on chain, etc. @repeated wire attempts to @howtostyle from @john fail with error, but debited @john wallet for each failed attempt and @howtostyle only credited for one successful attempt after their wallet setup was completed fully. see screen shots of both wallets

### Platform information 

windows chrome

### What is the current *bug* behavior?

Wire sender is debited for all failed transactions, bit wire receiver is only credited for the successful transaction

### What is the expected *correct* behavior?

Error message should appear on sender side of the transaction ""transaction failed because receivers wallet is not set up"" also the sender should not be debited for failed transactions. Receiver should receive notif to set up their wallet in order to receive a wire transaction

### Relevant logs and/or screenshots

![token_23](/uploads/509c33620f8f669c2cc8bbf7e56651b5/token_23.PNG)
![token22](/uploads/ce644136b1762f3dde492983ca1dd32b/token22.PNG)
### Possible fixes",3
17057138,2019-01-03 15:21:10.638,(bug): group image and video feeds are pulling owner content,,1
17057065,2019-01-03 15:19:49.704,(feat): ability to disable markers for groups,"* [x] Frontend 
* [x] Backend (do not use cockroachdb experiment)",20
17033725,2019-01-02 22:49:39.262,(bug): Forging a newsfeed boost with a foreign guid (eg. a user guid) causes the newsfeed to have syntax errors and mobile to crash,"If a user entity is returned from a newsfeed boost fetch, globally syntax errors are thrown. ",5
17028653,2019-01-02 17:07:17.370,"(feat): De-activating, delete and ban actions should trigger cleanup process","* [x] Remove right-side from `friends` and `friendsof` table (inverse only)
* [x] Upon reactivation, resync left-side of `friends` and `friendsof` table
* [x] Ensure `elasticsearch` and `cockroachdb` are aware and trigger delete
* [ ] Add Queue runner in production",15
17028323,2019-01-02 16:50:48.708,(feat): do not allow more than 3 sub tiers of comments,"Comment replies should not have more than 3 levels. 

* [ ] Backend constraint
* [ ] Frontend
",1
17028253,2019-01-02 16:47:00.514,"(feat): A user's unlisted posts should be listed in the ""My Blog|Video|Pictures"" gallery. Never show unlisted items on the channel view.",,2
17028030,2019-01-02 16:41:00.517,(bug): signing up for previously deleted channel causes error,"Bill Ottman created this task in Asana.

Additional commentary: https://app.asana.com/0/409520048770410/871481152092051",2
17028016,2019-01-02 11:40:15.695,(feat): Comments should be able to load from guid offset,"Currently comments can only be loaded from a paging token. In order for notifications to display from the correct comment, guid offsets must be used.",5
94891209,2021-10-05 15:46:25.057,Social Compass Module,"- [ ] Create a new module called 'SocialCompass'
- [ ] Create a controller with route 'api/v3/social-compass' prefix
- [ ] Create a schema to efficiently store the answers and their weightings
- [ ] Spec tests",5
94633586,2021-09-30 18:04:56.346,Display iFramley previews on imported tweets,"## Summary

When a Tweet gets auto-imported and contains a URL, we need to automatically detect the link and ensure that the post shows a live embed / iFramely preview.",1
94633329,2021-09-30 17:57:21.684,Hovercard on newsfeed post shows im not subbed but i am,"i got their post in my feed because im subbed but when i hover over their avatar i see a plus sign to sub even though i already am

https://www.minds.com/groundnews/",1
94616260,2021-09-30 13:19:17.492,Email codes not working properly on withdrawals,Confirmed with blackrockbeacon that only one code was emailed and it would not work.,2
94561552,2021-09-29 16:47:13.528,The video source endpoint is not returning the real transcoding state,"The endpoint `api/v2/media/video/{guid}` is returning the transcoding status as completed, even when it is in process.
We need this status in order to display the real status to the user instead of trying to play the video which is failing",4
93874302,2021-09-17 15:38:37.656,Refactor RateLimits/Manager to use KeyValueLimiter instead of CLI Job,"The 'legacy' `Core\Security\RateLimits\Manager` relies on a CLI job that reads from metrics. Unfortunately the metrics have a refresh latency of > 120s (for indexing performance gains). This makes a lot of these rate limits ineffective. 

We should refactor these to instead use the KeyValueLimiter that uses Redis and is real time.",2
93594805,2021-09-13 19:20:25.573,Add top filter to newsfeed,"## Problem

The best content is frequently getting buried in the reverse chronological timeline. If you do not log in at the time someone posts something that gets good engagement, the chances are you will not scroll deep enough into your newsfeed to see it, therefore never seeing it.

Minds has a stance that they will remain committed to the reverse chronological feed by default to ensure creators reach 100% of their audience.

## Goal

Allow users to filter their newsfeed by top content to make sure they see the best content from the people they subscribe to. Keep reverse chronological newsfeed (latest feed) as the default option, but remember the feed that the user was last on for when they come back.

## Key Metrics

By exposing the best subscribed content to users in their newsfeed, there will be many benefits:

- Creators will receive more engagement
- Consumers will have more popular content in their feeds to keep them engaged
- The global trending feed will improve because subscribed content will get more engagement

Therefore, we should monitor the following KPI's to assess the success of this change:

- Retention
- Total votes, comments, reminds

## Design

Use Top/Latest filter design from search and discovery.

## Logic

To try and surface the best, most relevant content to a user in their newsfeed when they sort by Top:

1. Prioritize content from subscriptions who they engage with the most frequently that they have not yet engaged with (ex: jack very frequently engages with bill's posts, therefore prioritize recent posts from bill that jack has not yet engaged with). 

2. Rank subscribed content based on highest engagement score in the past 72 hours. The algorithm would be: (Unique Votes * 1) + (Unique Comments * 2) + (Unique Reminds * 4). We could also just mimic the algorithm used in discovery currently.

3. To ensure that a single popular user does not take every spot in your top feed, only allow a single user to take up one slot for every 12 available slots.

4. To ensure that the top feed does not get stale throughout the course of the day, prioritize posts that the user has not already engaged with in the top feed. 


## Other potential factors

- whether a user has seen a post already or not


## Navigation

Aside from the Top/Latest filter on top of the newsfeed, we should do everything we can to encourage users to visit the Top newsfeed as this will be the best content for them to see.

To encourage this navigation, we should insert a ""Top Post"" entity that is similar to the ""Boosted Post"" entities in the newsfeed. Every X posts, insert a ""Top Post"" that a user has not engaged with to ensure more visibility on the best posts in their newsfeed.",5
93405667,2021-09-09 15:02:37.598,Videos resolutions is not set in the entity (cloudflare webhook),,1
93771601,2021-08-30 11:02:51.956,New subscriber push notification,"When a channel receives a new subscriber, a push notification is sent through on mobile. However, tapping the push notification, on iOS at least, navigates the user to their own channel, and not the channel of their new subscriber. Upon tapping, the user should be navigated to the channel of the new subscriber.",1
91589166,2021-08-06 21:57:22.031,Timestamp filter logic on subscribed feed may be breaking the mobile portrait feed,"

### Summary
The mobile's portrait feed is filtering the posts of the latest 48hs using the to_timestamp filter parameter (api/v2/feeds/subscribed/activities)

But this filter doesn't seem to be working anymore. Maybe because of the changes of this commit https://gitlab.com/minds/engine/-/commit/fb8c477087447591c0b6285b17338258e52db298",2
91156972,2021-07-30 14:19:43.693,Copy Cassandra data to new drives,,13
90935530,2021-07-27 16:46:59.467,Upgrade to Cassandra 4.0,":tada: Cassandra 4.0 is here.

- [ ] Upgrade sandboxes to Cassandra 4.0
- [ ] Ensure backups are readily available / on disk
- [ ] Efficient rollback solution
- [ ] Does the PHP driver need updating",5
90744792,2021-07-23 17:27:26.029,Twilio Verify Migration,,2
90211607,2021-07-13 17:02:29.615,Migrate withdrawals to new table,,5
89893997,2021-07-07 09:53:28.376,Withdrawals feat flag,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information 

(Browser, device, system stats, screen size)

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
88753046,2021-06-15 14:24:00.849,Process video dimensions with FFMPG,"Upon a video being uploaded, process the video dimensions.",2
88693138,2021-06-14 15:08:32.979,Exclude notifications from banned & deleted users,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Currently, if the user in a notification has been deleted by the owner (or possibly also banned), it will cause an error like below.

### Steps to reproduce

Send a notif to yourself from a test user, ban the test user

### Platform information 

Web, likely platform agnostic

### What is the current *bug* behavior?

Breaks notifs 

### What is the expected *correct* behavior?

It should NOT break there - it should skip over the notification anyway,

it should also filter out blocked and banned users on the backend

Delete the notification if ACL fails.

### Relevant logs and/or screenshots

![image](/uploads/d651a1267e52cf5e232fe63153914a13/image.png)

![image](/uploads/d51ee2c796b4efab00316a514cc21484/image.png)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
87461946,2021-05-20 19:52:04.643,"If Minds+ image post, process blurred image in advacned and deliver from filestore on read","Today (1st July 2021) we had to disabled to blurring on the fly (https://gitlab.com/minds/engine/-/commit/edf8109a1312e85b612cbb1d77ce8e803fb6f1cc) as it consumes a lot of memory.

- [x] Move this to be part of the 'thumbnails' creation flow. (ie. create a 'blurred.jpg' flavour)
- [x] On fs/v1/thumbnails deliver this stored version. If it doesn't exists then deliver a common blurred asset.",20
87153996,2021-05-14 14:21:12.160,Portrait media not displaying properly.,"Portrait video uploads are not uploading as portrait on mobile. 

1. Tap Create Moment on Stories bar
2. It posts scrunched and doesn't go to stories feed.",2
86230868,2021-04-29 15:06:05.706,Refactor notifications to follow new module pattern,"- [ ] New module class
- [ ] Refactor providers to use module
- [ ] New controller for v3
- [ ] Remove repository and it's references (keep CassandraRepository)",1
85194481,2021-04-14 16:01:38.876,Suspend channels if their accounts are deemed to be hacked/compromised,"- [ ] Extend the moderation/report options to include 'Security' => 'Hacked account'
- [ ] When a report is accepted:
  - [ ] deactivate the account
  - [ ] force change their password to a random string
  - [ ] send an email notifying them
  - [ ] delete all sessions
- [ ] Spec tests",1
84652897,2021-04-05 15:45:55.722,Simple matrix api function for Matrix\Manager,"- [x] If the user profile exists, return the matrix account
- [x] Create a 2 party room, invite should be sent if not exists
- [x] Return a list of rooms
- [x] Return a list of invites",1
84652248,2021-04-05 15:31:50.273,Allow /api/v3/oauth/authorize to complete a login step,"If logged out, allow `api/v3/oauth/authorize` to display a login page (or issue a redirect)",2
80953430,2021-03-15 17:33:53.751,Implement a common weak / stolen password check,"- [ ] Front end error if weak password
- [ ] Consider a service such as https://haveibeenpwned.com/Passwords",1
80188645,2021-03-03 16:35:27.880,Require TwoFactor code to be sent in OAuth authentication,"- [x] OAuth endpoint should reject login if TwoFactor header is not provided
- [x] For mobile backwards compatibility this should only be for the latest version",2
80187871,2021-03-03 16:21:03.381,Store unix times to block numbers on background process,"Sentry Issue: [ENGINE-S4M](https://sentry.io/organizations/minds-inc/issues/2224057372/?referrer=gitlab_integration)

```
TypeError: Return value of Minds\Core\Blockchain\Services\Etherscan::getBlockNumberByTimestamp() must be of the type int, string returned
  File ""/Core/Blockchain/Services/Etherscan.php"", line 234, in Minds\Core\Blockchain\Services\Etherscan::getBlockNumberByTimestamp
    return $result['result'];
  File ""/Core/Blockchain/Services/BlockFinder.php"", line 43, in Minds\Core\Blockchain\Services\BlockFinder::getBlockByTimestamp
    $blockNumber = $this->etherscan->getBlockNumberByTimestamp($unixTimestamp);
  File ""/Core/Blockchain/Uniswap/Client.php"", line 149, in Minds\Core\Blockchain\Uniswap\Client::getPairs
    'blockNumber' => $this->blockFinder->getBlockByTimestamp($asOf),
  File ""/Core/Blockchain/LiquidityPositions/Manager.php"", line 92, in Minds\Core\Blockchain\LiquidityPositions\Manager::getSummary
    $pairs = $this->uniswapClient->getPairs($this->getApprorvedLiquidityPairIds());
  File ""/Core/Blockchain/LiquidityPositions/Controller.php"", line 52, in Minds\Core\Blockchain\LiquidityPositions\Controller::get
    ->getSummary();
...
(27 additional frame(s) were not displayed)

TypeError: Return value of Minds\Core\Blockchain\Services\Etherscan::getBlockNumberByTimestamp() must be of the type int, string returned in /var/www/Minds/engine/Core/Blockchain/Services/Etherscan.php:234
Stack trace:
#0 /var/www/Minds/engine/Core/Blockchain/Services/BlockFinder.php(43): Minds\Core\Blockchain\Services\Etherscan->getBlockNumberByTimestamp(1614787797)
#1 /var/www/Minds/engine/Core/Blockchain/Uniswap/Client.php(149): Minds\Core\Blockchain\Services\BlockFinder->getBlockByTimestamp(1614787797)
#2 /var/www/Minds/engine/Core/Blockchain/LiquidityPositions/Manager.php(92): Minds\Core\Blockchain\Uniswap\Client->getPairs(Array)
#3 /var/www/Minds/engine/Core/Blockchain/LiquidityPositions/Controller.php(52): Minds\Core\Blockchain\LiquidityPositions\Manager->getSummary()
#4 [internal function]: Minds\Core\Blockchain\LiquidityPositions\Controller->get(Object(Zend\Diactoros\ServerRequest))
#5 /var/www/Minds/engine/Core/Router/Middleware/Kernel/RegistryEntryMiddleware.php(60): call_user_func(Array, Object(Ze
```",1
78918932,2021-02-11 15:34:11.993,Ceramic prototype,"https://developers.ceramic.network/learn/welcome/

https://github.com/ceramicnetwork/terraform-aws-ceramic",13
78745198,2021-02-09 19:52:41.073,Jury triage,"## Summary

Check on jury system logic to ensure that jury duty requests are being properly sent out to active users. User reporting that it has been 20+ weeks since they submitted an appeal.

## Proposal

Change jury selection logic in production to only select admins to review appeals.

## User issue

![Screen_Shot_2021-02-09_at_11.05.07_AM](/uploads/ac223804686a0117915eda5fb71430ea/Screen_Shot_2021-02-09_at_11.05.07_AM.png)",2
78020371,2021-01-28 18:43:14.601,Long comments with mostly non-ASCII chars are truncated,"### Summary

It seems, backend counts comment length in **bytes**, not in **chars**, and truncates everything longer than 1500 bytes. However, non-ASCII chars has 2 or event 4 bytes length in UTF-8.

### Steps to reproduce

1. Copy and paste the following comment in Russian:

```
Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии.
```

Frontend shows it has 1025 chars length.

2. Post the comment, and it appears as:

```
Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. П...
```

Now it has 799 chars length.

I copied it (without trailing three dots) to Python console, and it has exactly 1500 bytes length in UTF-8 encoding:

```pycon
>>> s = ""Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. Проверяем как Майндс обрезает кириллические комментарии. П""
>>> len(s)
799
>>> len(s.encode('utf-8'))
1500
```",1
78015588,2021-01-28 17:09:07.807,Remove URN override for mobile v >= 4.9.0 in exporter,"This will solve: https://gitlab.com/minds/mobile-native/-/issues/3003

and is required by: https://gitlab.com/minds/mobile-native/-/merge_requests/1117",2
77948352,2021-01-27 17:48:42.115,Implement ability to get yesterdays relevant RewardEntry item,"In order to calculate the multiplier (future task), we need to be able to grab the previous days `RewardEntry`.

See https://gitlab.com/minds/engine/-/blob/master/Core/Rewards/Manager.php#L215. This should be applied to both `Liquidity` and `Holding` sections of the `calculate()` function.",1
77487759,2021-01-19 16:24:42.916,Attempting to join cash membership tier produces stripe error.,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

https://www.minds.com/newsfeed/1197982537473724416

when subscribers are trying to become members of my page is not allowing them to send payment. They are getting the following message.

'Your destination account needs to have at least one of the following capabilities enabled: transfers, legacy_payments'

I've changed the bank account 2 times already in my wallet. At this moment Im using the same account that my husband has on his account and its working for him but not for me.

Why is this happening?

### Steps to reproduce

1. Go to https://www.minds.com/pro/dachuniverse
2. Join Now
3. Select a card
4. Hit join membership.

### Platform information 

Replicated Chromium, highly likely to be platform agnostic.

### What is the current *bug* behavior?

Error shown to user.

### What is the expected *correct* behavior?

Error should not be shown to user; people should be able to join

### Relevant logs and/or screenshots

![image](/uploads/e53334785c9db091af6761e8af9002e9/image.png)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
77128995,2021-01-13 02:02:31.090,Ambiguous mobile content upload error - (Major pain point from every new user I brought in),"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)
New users who have not yet verified their email will be presented with generic errors when trying to upload images on the mobile app (something along the lines of ""upload failed""). It has resulted in major frustration and an impression of a buggy app.


### Steps to reproduce

Sign up.
Don't realize that you need to verify your email.
Try to upload content on the mobile app

(How one can reproduce the issue - this is very important)

### Platform information 

(Browser, device, system stats, screen size)

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
76771006,2020-12-29 10:53:28.441,Permaweb backlink issue,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

backlinks in the metatags are linking to minds.com/newsfeed/1

### Steps to reproduce

https://www.minds.com/newsfeed/1190660914447802368

See linked page

### Platform information 

Replicated Firefox Ubuntu 20.04 

### What is the current *bug* behavior?

linking back to minds.com/newsfeed/1

### What is the expected *correct* behavior?

It should link to the post

### Relevant logs and/or screenshots

https://www.minds.com/newsfeed/1190660914447802368

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
76478821,2020-12-26 06:32:28.899,Minds Pro Footer Text - 80 char cap with ambiguous error message,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

### Steps to reproduce

(How one can reproduce the issue - this is very important)

1. Navigate towards the settings for Minds Pro enter more than 80 chars of text in the footer field.
2. Push the save button
3. A brief error popup will appear saying [object Object].


### Platform information 

(Browser, device, system stats, screen size)
Brave Version 1.10.93 Chromium: 83.0.4103.106 (Official Build) (64-bit)
Centos 8

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

If the 80 char cap is essential, there should be some indication that this is the case. The error message should also be less ambiguous.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)
![Screenshot_from_2020-12-26_01-24-08](/uploads/29b5bdde0efc422cdff38bc0a2dc583a/Screenshot_from_2020-12-26_01-24-08.png)
### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
76100548,2020-12-15 18:35:19.656,Email buttons borderless in gmail mobile app,"add a background color instead
`bgcolor=""#f0f3f7""`to L21 of ActionButton template

breaking merge: 
https://gitlab.com/minds/engine/-/commit/451e16ebb46c0dc7025a614fe5e768c8b068d1e7",1
75565725,2020-12-03 17:29:18.038,Filter plus content from discovery,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

https://www.minds.com/newsfeed/1181234113187356672

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information 

(Browser, device, system stats, screen size)

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
74911350,2020-11-24 13:37:35.021,Enable upvote/downvote push notifications,"- [ ] Enable push notifications for downvote/upvote
- [ ] Check that the user has turned on these notifications before sending",2
74580064,2020-11-18 16:56:04.146,Duplicates in Suggested Channels,https://drive.google.com/file/d/1Lqqso6HQU_BwyOKxiQA3dTs2BKLNVAGy/view?usp=drivesdk,1
73170305,2020-10-22 13:03:57.499,Push notification support for new messenger,"- [ ] Send push notification to all available devices
- [ ] Subscribe to webhooks from synapse (if possible)",1
73170128,2020-10-22 13:01:10.326,Create feature flag for new messenger,Call it `matrix`,1
73169907,2020-10-22 12:56:42.547,API to provide easy keypairing/sharing logic,"- [ ] Evaluate how riot.im shares keys between devices
- [ ] Idempotent users should have their temporary keys 'forgotten' as soon as possible
- [ ] V3 API in Core/Messenger to return a list of device fingerprints and audit logs (schema required)",1
73169639,2020-10-22 12:53:23.843,Backend module (Core/Messenger) for new Messenger,"- [x] Create new v3 module in Core/Messenger
- [x] Use the new router
- [x] Implement SDK (https://gitlab.com/minds/engine/-/issues/1740)
- [x] Idempotent message support
- [x] Schema to record synapse access tokens for each user

## Schema

TDB (@markeharding)",2
73116154,2020-10-21 17:16:15.929,Add NSFW filter to feed endpoints,subscribed and container feed endpoints should support NSFW filtering,1
71638583,2020-09-24 15:26:52.369,Make universal link response version dependant,We need to be able to change the response of the endpoint based on the app version,1
71268764,2020-09-16 21:26:59.282,Portrait bar should have a bottom border like posts do,,1
71200633,2020-09-15 14:13:19.226,Update universal links endpoint,Enable universal links for all the routes,1
71135420,2020-09-14 19:38:06.306,Show Minds+ badge on channel and avatar,"Minds+ badges are currently not showing anywhere on channels.

They need to show at the minimum inside the Badge section of the channel about section.

We should also put the badge in the upper left hand of the user's avatar and show this everywhere on the app for marketing.",1
70900408,2020-09-08 22:45:54.888,focusedCommentUrn not arriving in push notification,"In mobile, the push notification for comments, doesn't have the focusedCommentUrn value.",2
71717105,2020-09-06 18:54:20.404,"Channel page doesnt immediately show most recent status, needs refresh","<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information 

(Browser, device, system stats, screen size)

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
70382846,2020-08-27 16:07:22.299,Ability to filter feeds by is_portrait value,See how plus is able to be filtered here https://gitlab.com/minds/engine/-/blob/master/Core/Feeds/Elastic/Repository.php#L293 as a guide,1
70382684,2020-08-27 16:05:35.594,Submit is_portrait value of object:video and activity to elasticsearch,- [ ] Update the mapping files to include an 'is_portrait' boolean,1
69911420,2020-08-17 14:54:36.753,Add in title field to posts saved on permaweb,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information 

(Browser, device, system stats, screen size)

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
69409985,2020-08-04 13:11:15.530,Extend spam checks to more notification types,"Solution attached above to allow users to block users that are disabled.

Next up we will need to extend this check to deal with more notification types.

https://gitlab.com/minds/engine/blob/9e05c950516628cf03e6c7fd755a51faabc445b2/Core/Notification/Events.php#L208",3
69382991,2020-08-03 19:35:35.563,Signed up through pro site and was not subscribed,"- Go to https://timcastirl.minds.com
- Join from splash
- Close out of payment flow
- Subscribe on homepage button not subscribed",1
69138923,2020-07-28 19:06:47.873,Don't export teaser text for text status posts,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information 

(Browser, device, system stats, screen size)

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
68299792,2020-07-20 21:44:35.684,48 hour exclusive period is not working,"Steps to replicate:

1. Create a post and submit it to Minds+ for 48 hours
2. Check post after 48 hours and it is still behind the Minds+ paywall.

Example post:

https://www.minds.com/newsfeed/1128420162132893696",1
68224044,2020-07-20 18:49:06.202,Containerize microservice with helm / docker-compose,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

### Steps to reproduce

make helm chart for service.

### Platform information 

(Browser, device, system stats, screen size)

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",3
57168564,2020-07-14 12:44:38.371,Add total payout,"- [x] Total bank transfers frontend
- [x] Backend API to provide balance",1
55589955,2020-07-13 14:26:11.103,Store resolution/aspect ratio for videos,Store resolution or aspect ratio of videos,3
55375879,2020-07-13 10:53:02.500,Pro assets not saving down,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Pro assets 

### Steps to reproduce

Not provided

### Platform information 

Not provided

### What is the current *bug* behavior?

Pro assets not saving down

### What is the expected *correct* behavior?

Pro assets should save

### Relevant logs and/or screenshots

Not provided

### Possible fixes

:shrug:",1
54099637,2020-07-08 13:12:06.963,Create earnings overview api,"## Tasks
- [x] API to return breakdown of earnings
- [ ] Caching (stripe API's are very slow)
- [x] Move 'Pro Earnings' to left of wallet
- [x] Introduce Earnings tab
- [ ] Add total payout
- [x] Rename Pending Balance to Pending Payouts
- [x] Include payouts in list of transactions
- [x] Remove spacer from top of Cash transactions

## Mockups

https://design.minds.com/hosted/web/michael/front%23-analytics/#artboard1",2
54061239,2020-07-07 20:05:45.056,Export token<->USD exchange rate in configs,So we can use it in the front end without hard coding,1
57549204,2020-07-02 21:23:38.564,Do not allow NSFW channels to set payout as USD,"If a monetized channel gets marked nsfw then remove them from stripe.

NSFW channels can only be paid out in bitcoin or ether

https://www.minds.com/newsfeed/1125536050190647296",2
52252907,2020-06-30 13:10:45.234,TypeError: Argument 1 passed to Minds\Core\Analytics\Dashboards\Filters\FiltersCollection::setUser() must be...,"Sentry Issue: [ENGINE-PXT](https://sentry.io/organizations/minds-inc/issues/1723632657/?referrer=gitlab_integration)

```
TypeError: Argument 1 passed to Minds\Core\Analytics\Dashboards\Filters\FiltersCollection::setUser() must be an instance of Minds\Entities\User, null given, called in /var/www/Minds/engine/Core/Analytics/Dashboards/TokenDashboard.php on line 67
  File ""/Core/Analytics/Dashboards/Filters/FiltersCollection.php"", line 42, in Minds\Core\Analytics\Dashboards\Filters\FiltersCollection::setUser
    public function setUser(User $user): self
  File ""/Core/Analytics/Dashboards/TokenDashboard.php"", line 67, in Minds\Core\Analytics\Dashboards\TokenDashboard::build
    ->setUser($this->user)
  File ""/Core/Analytics/Dashboards/TokenDashboard.php"", line 91, in Minds\Core\Analytics\Dashboards\TokenDashboard::export
    $this->build();
  File ""/Controllers/api/v2/analytics/dashboards.php"", line 41, in Minds\Controllers\api\v2\analytics\dashboards::get
    'dashboard' => $dashboard->export(),
  File ""/Api/Factory.php"", line 87, in Minds\Api\Factory::build
    return $handler->$method($pages);
...
(11 additional frame(s) were not displayed)

TypeError: Argument 1 passed to Minds\Core\Analytics\Dashboards\Filters\FiltersCollection::setUser() must be an instance of Minds\Entities\User, null given, called in /var/www/Minds/engine/Core/Analytics/Dashboards/TokenDashboard.php on line 67 and defined in /var/www/Minds/engine/Core/Analytics/Dashboards/Filters/FiltersCollection.php:42
Stack trace:
#0 /var/www/Minds/engine/Core/Analytics/Dashboards/TokenDashboard.php(67): Minds\Core\Analytics\Dashboards\Filters\FiltersCollection->setUser(NULL)
#1 /var/www/Minds/engine/Core/Analytics/Dashboards/TokenDashboard.php(91): Minds\Core\Analytics\Dashboards\TokenDashboard->build()
#2 /var/www/Minds/engine/Controllers/api/v2/analytics/dashboards.php(41): Minds\Core\Analytics\Dashboards\TokenDashboard->export()
#3 /var/www/Minds/engine/Api/Factory.php(87): Minds\Controllers\api\v2\analytics\dashboards->get(Array)
#4 /var/www/Minds/engine/Controllers/api/api.php(76): Minds\Api\Factory::build(Array, Object(Zend\Diactoros\ServerRequest), Object(Zend\Diactoros\Response\J
```",1
52252886,2020-06-30 13:10:14.251,Error: Call to a member function getGuid() on null,"Sentry Issue: [ENGINE-1VS](https://sentry.io/organizations/minds-inc/issues/1662587438/?referrer=gitlab_integration)

```
Error: Call to a member function getGuid() on null
  File ""/Core/Discovery/Manager.php"", line 428, in Minds\Core\Discovery\Manager::getSearch
    'cache_key' => $this->user->getGuid(),
  File ""/Core/Discovery/Controllers.php"", line 61, in Minds\Core\Discovery\Controllers::getSearch
    $entities = $this->manager->getSearch($query, $filter, $type);
  File ""/Core/Router/Middleware/Kernel/RegistryEntryMiddleware.php"", line 60, in Minds\Core\Router\Middleware\Kernel\RegistryEntryMiddleware::process
    ->withAttribute('parameters', $parameters)
  File ""/Core/Router/Dispatcher.php"", line 57, in Minds\Core\Router\Dispatcher::handle
    return $middleware->process($request, $this);
  File ""/Core/Router/Middleware/Kernel/RequestHandlerMiddleware.php"", line 82, in Minds\Core\Router\Middleware\Kernel\RequestHandlerMiddleware::process
    ->withAttribute('_router-registry-entry', $requestHandler)
...
(22 additional frame(s) were not displayed)

Error: Call to a member function getGuid() on null in /var/www/Minds/engine/Core/Discovery/Manager.php:428
Stack trace:
#0 /var/www/Minds/engine/Core/Discovery/Controllers.php(61): Minds\Core\Discovery\Manager->getSearch('Jewish', 'top', 'activity')
#1 [internal function]: Minds\Core\Discovery\Controllers->getSearch(Object(Zend\Diactoros\ServerRequest))
#2 /var/www/Minds/engine/Core/Router/Middleware/Kernel/RegistryEntryMiddleware.php(60): call_user_func(Array, Object(Zend\Diactoros\ServerRequest))
#3 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\RegistryEntryMiddleware->process(Object(Zend\Diactoros\ServerRequest), Object(Minds\Core\Router\Dispatcher))
#4 /var/www/Minds/engine/Core/Router/Middleware/Kernel/RequestHandlerMiddleware.php(82): Minds\Core\Router\Dispatcher->handle(Object(Zend\Diactoros\ServerRequest))
#5 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\RequestHandlerMiddleware->process(Object(Zend\Diactoros\Serve
```",1
52252836,2020-06-30 13:09:15.681,Cassandra\Exception\InvalidArgumentException: Invalid integer value: 'undefined',"Sentry Issue: [ENGINE-PXR](https://sentry.io/organizations/minds-inc/issues/1723629061/?referrer=gitlab_integration)

```
Cassandra\Exception\InvalidArgumentException: Invalid integer value: 'undefined'
  File ""/Core/Boost/Network/Repository.php"", line 44, in Cassandra\Varint::__construct
    return new Cassandra\Varint($guid);
  File ""/Core/Boost/Network/Repository.php"", line 44, in Minds\Core\Boost\Network\Repository::Minds\Core\Boost\Network\{closure}
    return new Cassandra\Varint($guid);
  File ""/Core/Boost/Network/Repository.php"", line 45, in Minds\Core\Boost\Network\Repository::getList
    }, $opts['guids'])));
  File ""/Core/Boost/Network/Repository.php"", line 129, in Minds\Core\Boost\Network\Repository::get
    'guids' => [ $guid ],
  File ""/Core/Boost/Network/Manager.php"", line 110, in Minds\Core\Boost\Network\Manager::get
    $boost = $this->repository->get($urn);
...
(14 additional frame(s) were not displayed)

Cassandra\Exception\InvalidArgumentException: Invalid integer value: 'undefined' in /var/www/Minds/engine/Core/Boost/Network/Repository.php:44
Stack trace:
#0 /var/www/Minds/engine/Core/Boost/Network/Repository.php(44): Cassandra\Varint->__construct('undefined')
#1 [internal function]: Minds\Core\Boost\Network\Repository->Minds\Core\Boost\Network\{closure}('undefined')
#2 /var/www/Minds/engine/Core/Boost/Network/Repository.php(45): array_map(Object(Closure), Array)
#3 /var/www/Minds/engine/Core/Boost/Network/Repository.php(129): Minds\Core\Boost\Network\Repository->getList(Array)
#4 /var/www/Minds/engine/Core/Boost/Network/Manager.php(110): Minds\Core\Boost\Network\Repository->get('urn:boost:newsf...')
#5 /var/www/Minds/engine/Controllers/api/v2/analytics/views.php(32): Minds\Core\Boost\Network\Manager->get('urn:boost:newsf...', Array)
#6 /var/www/Minds/engine/Api/Factory.php(87): Minds\Controllers\api\v2\analytics\views->post(Array)
#7 /var/www/Minds/engine/Controllers/api/api.php(81): Minds\Api\Factory::bui
```",1
54052987,2020-06-30 13:05:20.716,TypeError: Cannot set property 'hidden' of undefined,"Sentry Issue: [FRONT-7H0](https://sentry.io/organizations/minds-inc/issues/1723610275/?referrer=gitlab_integration)

```
TypeError: Cannot set property 'hidden' of undefined
  at e.show (/static/en/main.060a243c762a4d984556.js:10:2644372)
  at e.show (/static/en/main.060a243c762a4d984556.js:10:997636)
  at e.checkXHRError (/static/en/main.060a243c762a4d984556.js:10:4090010)
  at t.o [as _next] (/static/en/main.060a243c762a4d984556.js:10:2271205)
  at t.__tryOrUnsub (/static/en/main.060a243c762a4d984556.js:10:989498)
...
(25 additional frame(s) were not displayed)
```",2
52140635,2020-06-30 09:31:31.740,Record unlock actions for all monetized posts,"- [ ] Record every unlock of a paywalled post event
- [ ] Attach this counter to search mappings to assist with rankings
- [ ] Use a new table or existing metrics?",1
57548331,2020-06-29 19:00:25.854,"Do not show ""This video is still transcoding"" if the video plays","""This video is still transcoding. You will receive a notification when it is complete.""

The video should not actually post to subs until the minimum transcodes in done, right?

Also, it should not show up after the first version is done. 


 ![stillll](/uploads/815583b220792b22191f0f923935479d/stillll.PNG)",1
49975162,2020-06-23 17:07:15.321,Create Plus view of firehose,"- [ ] Backend should filter in to plus (opts should already exist)
- [ ] Easy way for admins to toggle into plus content only",2
44007912,2020-06-15 17:38:57.781,Blocking group moderators prevents banning from group,"### Summary

When a group member blocks group moderators, they are unable to be banned from the group.

### Steps to reproduce

1. Go to group
2. Block moderators
3. unable to be banned",2
36146190,2020-06-08 17:09:55.488,Implement custom private support tiers for Custom paywalls,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information 

(Browser, device, system stats, screen size)

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
36145568,2020-06-08 17:09:17.192,Implement one-way sync for Support Tiers,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information 

(Browser, device, system stats, screen size)

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
36144194,2020-06-08 17:08:24.812,Implement Support Tiers,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information 

(Browser, device, system stats, screen size)

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",3
35518775,2020-06-06 16:32:20.731,A user must be subbed to someone for them to message you,unless you are an admin,2
35323441,2020-06-02 15:27:34.677,Automatically translate all help desk posts with google translate on read,"- [x] Ensure they are all cached
- [x] Do not translate if English",1
35039589,2020-05-26 23:36:59.192,Paywall adjustments,"Relates to https://gitlab.com/minds/front/-/issues/3027

- blur thumbnails of paywalled/plus images
- provide additional fields for videos/blogs, etc. (e.g. teaser thumbnails)",1
35036679,2020-05-26 21:30:03.000,Referrals not working reliably,"![image](/uploads/9449324f42751b9b2a29219812c4908a/image.png)

### Summary

(Summarize the bug encountered concisely)

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information 

(Browser, device, system stats, screen size)

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
34986627,2020-05-25 17:53:57.265,Enable suggested hashtag widget when inside composer,"The suggested hashtag widget is not showing up inside the composer. It is however working in comment fields. This feature should be used within the composer as well to help users understand what hashtags are trending or popular, and to help with typing.

![Screen_Shot_2020-05-25_at_11.51.24_AM](/uploads/28c3e39367ef679224aab0a06107565e/Screen_Shot_2020-05-25_at_11.51.24_AM.png)",1
34904721,2020-05-22 16:26:30.120,Add direct unsubscribe to email footer,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

### Steps to reproduce

Send an email, try unsub directly.

### Platform information 

Platform agnostic.

### What is the current *bug* behavior?

Users can't unsub with the new footer, some users have usernames with characters in them that are not encoded and break the url, thus cant unsub.

### What is the expected *correct* behavior?

It should unsubscribe all accounts from emails for the address.
Users should be able to unsub if they have non-standard characters in their names

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",3
34896932,2020-05-22 12:59:18.795,Composer text body is appearing behind rich-embed.,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Composer text body is appearing behind rich-embed.

### Steps to reproduce

1. Take a youtube video
2. Type into composer https://www.youtube.com/watch?v=_ncWbyqINcYasdasdasd
3. Try to enter a post - you can't.

### Platform information 

Replicated on Firefox.

### What is the current *bug* behavior?

Can't post, the text area is hidden.

### What is the expected *correct* behavior?

Should see the text area under the rich-embed

### Relevant logs and/or screenshots

![image](/uploads/702b359844475f71a9ac999bde1d367e/image.png)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
34895819,2020-05-22 12:27:48.391,Safari upload issue,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

https://www.minds.com/newsfeed/1110149539545145344?focusedCommentUrn=urn:comment:1110149539545145344:0:0:0:1110235589262401536

DreamPondTX

> Day two of Minds upgrade and still can't upload vids. iMac Safari, Click the ""+"" then ""upload"". The mp4 files show up but are not highlighted (even mp4 files that were previously uploaded are not highlighted) Minds will not allow them to be selected.

### Steps to reproduce

Presumably, try to upload an MP4 using Safari.

### Platform information 

Safari, seems to be reported on Macs multiple places - unsure if it applies to mobile / other OS.

### What is the current *bug* behavior?

User cant upload - they're greyed out.

### What is the expected *correct* behavior?

Should be able to upload MP4s

### Relevant logs and/or screenshots

![image](/uploads/3dd92a75f72ab6fe51c06a2b1d5b74fe/image.png)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
34836832,2020-05-21 08:42:06.689,Apply a 'lang' tag to elasticsearch records,"- [ ] Use the preferred language of the poster
- [ ] Use keyword mapping",1
34710752,2020-05-18 22:12:03.821,Stop sending old ban email for strikes,"After testing our strike process and giving a test account three strikes for spam, I received two of our old ban email, which should no longer be sent out. I should only receive the new ban email

![Screen_Shot_2020-05-18_at_4.11.13_PM](/uploads/2b364aba1f86f43f2867ead7ba3cc6ed/Screen_Shot_2020-05-18_at_4.11.13_PM.png)

![Screen_Shot_2020-05-18_at_4.11.08_PM](/uploads/40cac8a89130f9d115864ffd15bbf2d1/Screen_Shot_2020-05-18_at_4.11.08_PM.png)",1
34689514,2020-05-18 13:53:29.516,Implement translation module,- [ ] Support translations for our emails,2
34689395,2020-05-18 13:50:58.193,Give higher 'boost' score in ES for your own locale,"For our sorting algorithms, give boost to posts with our own locale. 

**This task needs some thought, may not make the milestone**",1
34619084,2020-05-15 19:33:07.242,"Canary onboarding landing page is old discovery, should be newsfeed","<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

When you create an account with staging cookie enabled for Canary, when you finish onboarding you land on https://www.minds.com/newsfeed/global/top. You should land on https://www.minds.com/newsfeed/subscriptions.

### Steps to reproduce

1. Create account
2. Complete onboarding
3. See landing page

### Platform information 

Macbook, chrome

### What is the current *bug* behavior?

See summary

### What is the expected *correct* behavior?

See summary

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
34584194,2020-05-15 00:39:57.956,Add Boost option to all posts,"## Goal

- Enable more boosting opportunities. (Increase boosts.)
- Enable Minds team to promote good content.

## What needs to be done

Currently, the option to boost a post appears only on posts that you own.

For this change, we want to add the option to boost from any post.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

See acceptance criteria

## Personas

- Minds staff

## Experiments

n/a

## Acceptance Criteria

- [ ] The option to boost posts appears on all activity posts, not just ones yours.
- [ ] The option should appear in the dropdown menu if it is not your post

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",2
34526005,2020-05-13 20:48:20.816,Search history issues,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Two issues:

1. Clicking on a search history item takes you to the old discovery results page, should take you to the new search results page

2. Clicking on an auto-suggested search channel is not populating search history, but it should

### Steps to reproduce

1. Click on a search history item in canary mode and see where it takes you

2. Search for @ottman and click his name from the suggestions, notice it does not populate his name in your search history


### Platform information 

Canary mode, chrome, web

### What is the current *bug* behavior?

See steps to reproduce 

### What is the expected *correct* behavior?

see steps to reproduce

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
34503545,2020-05-13 11:11:05.980,Setup a Matrix.org cluster,"- [ ] Helm?
- [ ] Terraform plans",2
34502883,2020-05-13 10:57:47.203,Wire/Pay paywall function to check for Plus membership tier,"- [ ] Paywall should have a hook into Minds Plus module that checks if
  - [ ] Content is allocated to plus
  - [ ] User has a plus subcription",2
34502159,2020-05-13 10:42:04.853,Working staging deployment on new K8S deployment,"- [ ] Front
- [ ] Backend
- [ ] Pod/Service group for each runner",3
34502072,2020-05-13 10:40:37.555,Add new steps to .gitlab-ci for deploying to new K8S cluster,"We will run both ECS & K8S clusters in parallel until we are happy with the performance. Gitlab should deploy to both in their own, respective, steps.

- [ ] Frontend
- [ ] Backend",2
34501905,2020-05-13 10:35:52.955,ReIndex ES6->ES7 remotely,"- [ ] Trial this on sandbox first
- [ ] Run on production
- [ ] minds_badger -> minds-entities
- [ ] minds-metrics-2020-*
- [ ] minds-metrics-2019-* -> minds-metrics-2019 (shrunk index)",3
34501809,2020-05-13 10:32:34.680,Create a feature flags for reading and reading ES clusters,"## Overview
We need to be able to run our existing and new ElasticSearch clusters in parallel. All flags will be off by default with the `es7-dualwrite` flag enabled when our new cluster is running. 

**The _type field should not be sent to ES7.**.

The lower level **Data\ElasticSearch\Client** should be able to support all these actions.

## Feature flags
- [ ] `es7-read` (all reads will happen on ES7 only)
- [ ] `es7-write` (all writes will happen on ES7 only)
- [ ] `es7-dualwrite` (writes will happen on ES6 and ES7)",1
34501572,2020-05-13 10:26:07.025,Setup opendistro-es cluster on new k8s infrastructure,"- [ ] Setup [OpenDistro] cluster - https://opendistro.github.io/for-elasticsearch/
- [ ] Use new k8s cluster",1
34501234,2020-05-13 10:20:04.937,Update the GitlabCI variables to point to new cluster,"- [ ] Frontend
- [ ] Backend",1
34501149,2020-05-13 10:17:33.951,Create a new K8S cluster in sandbox environment,"- [ ] Use terraform
- [ ] Use aws subaccount",2
34501073,2020-05-13 10:15:45.600,Validate PHP mappings are correct for ElasticSearch,"- [ ] Autosuggest user mappings (allow for numbers)
- [ ] Strings vs keywords
- [ ] Evaluate use of .keyword in aggregations and patch with a feature flag",2
28170235,2019-12-10 02:59:27.711,Email confirmation on account creation,"When a new user signs up, send them an email with a hashcode. The email should use a queue and an email event.

The hashcode should be a the user's guid and a timestamp.

The user account record in cassandra should contain the date the verification time stamp was sent.

When the user clicks the verification link with an email, the router should validate the hash with the user id and the timestamp. If the user clicked the URL within 48 hours, the hash is valid. The user's record should be updated with a ""validated_at"" timestamp and the User entity should expose an ""isValidated()"" function.

The 48 hours should be a default value in editable by helm / settings.php

Currently, we send out two emails after 2 hours of user signup. That mechanism should be replaced by this email which sends immediately. When they verify their email, then we can send either welcome_complete or welcome_incomplete based on their onboarding status

Follow the ""Welcome_incomplete"" template for now and use the existing header and footer structure, but change the text to:

```

@name,

Please take a moment to validate your email address. This helps us prevent spam and ensure users are real. Click this link and we'll know it's you.

<link and call to action button like the other template.>

Thanks,

The Minds Team

```

Be sure to provide the tracking information so we can identify the success of this email.

- [ ] Send a verification hash email through the queue
- [ ] Use the existing email template and events mechanism.
- [ ] Extend the router to parse and validate the url clicked within a configurable value of 48 hours
- [ ] Replace the welcome emails with this one that sends immediately
- [ ] Send them the welcome_complete or welcome_incomplete on verficiation based on their onboarding progress
- [ ] Extend the commandline tool to allow easy testing of the email
- [ ] Write end to end tests for the events
- [ ] Provide phpunit tests for the new email and router callback",8
28146118,2019-12-09 18:13:31.486,Video section missing for user,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

The video (media/video) section of this user (https://www.minds.com/LadySarahRose/) is missing.

### Steps to reproduce

1. Go to 'video' section of user
2. No videos

### Relevant logs and/or screenshots

https://www.minds.com/newsfeed/1050574845545676800",1
28069012,2019-12-07 21:33:43.639,Implement live updating vote counters on posts,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Implement live updating metrics on posts to increase real time engagement

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

- Subscribe to socket.io topic of entity
- Pulsar subscription to push to socket.io entity topic

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

Yes, metrics update

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

Consumers

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

Yes. 

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Frontend to subscribe to metric updates
- [ ] Rolling animation
- [ ] Backend to emit metric update
- [ ] Spec tests

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [ ] Experiments",8
27990494,2019-12-05 17:26:52.991,Top Feeds: Refactor api/v2/feeds & children to just call a testable wrapper class in Core\Feeds,,6
27990465,2019-12-05 17:25:39.628,Top Feeds: Old algorithms shouldn't be time constrained,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
27986350,2019-12-05 16:10:35.434,"Add ""Custom Support"" to Pro marketing / upgrade pages","## Pro marketing page

In the ""Build your own website"" panel, add a bullet that reads:

""Custom support from the Minds team""

- [x] Add bullet to this page https://www.minds.com/pro

## Upgrades marketing page

Add ""Custom support"" as a bullet under the Pro panel.

- [x] add bullet top this page https://www.minds.com/upgrades under upgrade options",2
27985468,2019-12-05 15:42:42.857,Record contribution score of all Minds Plus submissions to calculate monthly payouts,"- Reserve 25% of all Minds Plus revenue each month to be paid out to contributors
- Create table that shows total contribution score of every channel who submitted content to Minds Plus
- Calculate payout by dividing individual user contribution score by total Minds Plus contribution score",4
27984615,2019-12-05 15:16:06.283,Directory of all Plus/Pro customers and paying users/supporters,"Provide a new discovery feed option to filter on active pro channels

- [ ] Add 'pro_expires' flag to `minds_badger` ES index
- [ ] API endpoint to return channels based on this filter, extend the feeds channels api and return pro / plus channels are still active.
- [ ] Frontend feed to show channels",8
27938596,2019-12-04 14:40:58.952,Ability to create a boost campaign,!417,8
27905061,2019-12-03 19:10:18.784,Finish remaining PSR-7 Router spec tests,,4
27859670,2019-12-02 18:32:19.514,"On Top Feeds, allow extending time span if there are lesser results than limit",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
27851385,2019-12-02 14:21:15.784,Implement feature flag for PSR-7 Router,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
27764121,2019-11-29 16:29:10.408,Notifications for when a video is fully transcoded,"- [x] Only send when all transcodes have completed
- [x] Ensure we correctly handle failed transcodes",4
27764006,2019-11-29 16:27:04.470,Transcodes should be run in parallel,"- [x] Each transcoder process needs to be tied to a media type
- [x] Thumbnails should be on their own queue too",8
27763675,2019-11-29 16:24:59.115,Improve the queuing and re-queueing system of the transcoder,"- [x] Queue should be tied with the new table (#1184)
- [x] Reduce SQS re-queue time range and make status dependent on the table
- [x] Spec Tests",6
27763458,2019-11-29 16:22:06.981,Transcoder table,"- [x] Schema
- [x] Core module & repositories
- [x] Spec tests",2
27654972,2019-11-27 16:27:50.391,Sync onchain token ledger with campaigns debits,"Either triggered by a view event and synced every nth view or by a scheduled task.

This work can be ported from the boost campaign branch onto master behind a feature flag.",2
27654859,2019-11-27 16:25:20.870,View request viability for a Boost Campaign,"This is already completed on the boost campaign epic branch, needs porting onto master behind a feature flag

!417",1
27654751,2019-11-27 16:22:35.779,Add Campaign fields to Boost ES index,We need to index the start and end times of a campaign to filter when querying for boosts,1
27596843,2019-11-26 22:14:19.687,Front Index should be served using PSR-7 Router,"- [ ] Analytics Increment middleware
- [ ] Email Rewards middleware
- [ ] Email Router Hooks middleware
- [ ] Referral Cookie middleware
- [ ] Pro Hook middleware
- [ ] SEO middleware
- [ ] Static Content middleware",3
27586951,2019-11-26 17:15:40.599,Update stripe api to the latest version,,1
27586901,2019-11-26 17:14:45.023,Apply statement descriptors to connect accounts,`settings.payments.statement_descriptor` and `settings.card_payments.statement_descriptor_prefix` should be applied.,1
27581571,2019-11-26 14:56:47.475,Top Feeds: Create a parallel Sync and an alternative algorithm for the new implementation,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
27573089,2019-11-26 11:18:35.829,Blacklist / Whitelist solution for Boost Creators and Boost Publishers,"You either has a **Blacklist** or an **Allow list**. 

Queries should be **OR**

- [ ] Based on NSFW rating
- [ ] Based off hashtags
- [ ] Channel names
- [ ] Location",2
27573005,2019-11-26 11:15:31.584,Admins should be able to approve posts that have been put in campaigns.,"- [x] Integrate with firehose. Put at the top of the list
- [x] If post already 'reviewed' then do not push again
- [x] Do not start the campaign until the post is approved

https://gitlab.com/minds/engine/merge_requests/427",16
27572924,2019-11-26 11:13:25.695,Max spend (views) per day for a boost,"Boost campaign creators should be able to set the maximum number of views they want to receive per day. For example if a campaign is running for 30 days with a budget of 100,000 views, they may want it to spread out at 300 views per day.",8
27572863,2019-11-26 11:11:42.069,Max threshold of 5000 views per day per boost,Boost campaigns should not be able to block up the boost feed. The 5000 cap should be in the global settings so that it can be changed when required. Ultimately this should end up being dynamic based on demand.,1
27572794,2019-11-26 11:09:07.531,Ability to target boost to specific channels or groups,"- [ ] Channels
- [ ] Groups
- [ ] Groups of channels (by targeting, eg. channels talking about technology).",2
27572748,2019-11-26 11:07:46.659,Ability to target a boost to hashtags,"- [ ] List of hashtags should be an OR query not AND
- [ ]",2
27554444,2019-11-25 21:32:33.630,Pro: Activities feed should use Latest algorithm (instead of Top),"- [x] Allow a query string parameter for algorithm in /v2/pro/content
- [x] '/v2/pro/content/activities' should use latest by default
- [ ] Front: Re-enable Feed E2E test that @omadrid commented out (front!666)",1
27546823,2019-11-25 16:52:49.454,Refactor A/B testing tool to support more than 2 variants on the backend,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,8
27541102,2019-11-25 14:18:48.088,"On Top Feeds sync, instead of increasing time range delta, store the absolute unique count from the last year",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
27499531,2019-11-24 03:25:34.612,Images not being indexed on save,"Regression caused by 06a5be9d4fd491cd324ab06c21840ac27bc783ac

This is a pretty serious issue as no images uploaded since November 19th (when this went live) have been indexed. We will need to prepare an sync script to go over all activity posts since then and reindex. @xander-miller please add this check to your smoke tests. 

### Steps to replicate
1) Upload an image
2) Go to images filter on channel feed
3) Image not visible
4) Go to image full view (/media/10...) via modal/activity
5) Edit
6) Index still not triggered

### Solution
Removing the newly introduced `__sleep` function resolved.",1
27395104,2019-11-21 10:32:50.273,There needs to be a mechanism to reload Boost ES indices from Cassandra,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
27254704,2019-11-20 11:10:34.962,Increment vote field on elasticsearch,Currently we have multiple 'vote:up:12h' type fields. Replace these with 'vote:up' and simply increment this field vs replacing it.,2
27254445,2019-11-20 11:05:25.299,Complete spec tests for router,,3
27173845,2019-11-18 14:04:44.571,Boost configuration for Channel and Group feeds,"Need to store some parameters for each channel and group that has opted in to deliver boosts.
Such as: revshare %, nsfw acceptable, rating?, velocity of boosts etc.",8
27173692,2019-11-18 14:00:08.336,Mechanism for Boosts to be requested and integrated into an existing feed,"This will be an implementation/extension of the Feed class that was introduced for Boost Campaign refactoring work.

NB: Needs that work to be cherry-picked into master for this work to be based off.

- [ ] Remove `m-featured-content` and dependency on FeaturedContentService
- [ ] Place in boosts from backend api 

### Dev notes

- Core/Feeds/Top/Manager
- Boosts to be placed inside of `FeedSyncEntity`
- Benefit of this is changing boosts slots from single backend location",32
27099709,2019-11-15 16:09:11.252,"posts by NSFW tagged channels showing uncovered in discovery, also ""mature content"" prompt is not showing","<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Channels that have an NSFW tag are showing up unmasked in discovery.
Also when you visit the channel there is no ""MATURE CONTENT"" prompt.
https://www.minds.com/hismith/

verified in chrome and firefox, both admin and non admin accounts.
noticed 11/14/2019

### Steps to reproduce

1. Click the above link
2. Observe no mature warning
3. Try find the post in discovery

### Platform information 

Cross-platform web.

### What is the current *bug* behavior?

mature content warning does not show and nsfw tagged channels showing in discoery

### What is the expected *correct* behavior?

mature content warning should show and nsfw tagged channels should only show up with nsfw filters disabled.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)

/label ~""T \- Bug"" ~""S \- Triage:new"" 
",6
27064275,2019-11-14 18:34:57.235,CLI tool to re-sync Pro domains on Traefik,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,8
27029807,2019-11-13 19:36:45.839,SSO for Pro sites,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
27029756,2019-11-13 19:33:59.791,(fix): Endless pro/non-pro redirect on some Pro users,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
26996357,2019-11-12 23:27:23.534,Auto-complete missing used tags,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Hashtags like #RonPaulSupporters are used a reasonable amount on the site but do not show up in suggested hashtags while typing.

https://www.minds.com/newsfeed/1039586447781003264?focusedCommentUrn=urn:comment:1039586447781003264:1039650621578424320:0:0:1041120858915094528

### Steps to reproduce

1. Type #RonPaulS
2. See it gets cut off when you type the 'S'.

### Platform information 

Cross-platform web.

### What is the current *bug* behavior?

Auto-complete window gives up.

### What is the expected *correct* behavior?

It should keep searching for hashtags.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

I think this could be one of two things; down to length of the tag, or maybe some runner job needs running to update auto-complete.",4
26776080,2019-11-06 15:33:32.531,Reduce resource allocation of ECS containers,"Over 24 hours:

Memory never exceeds 50%. (5120Mb / 10240Mb)
![Screenshot_2019-11-06_at_15.27.48](/uploads/ea5d0b1ffc6f64c2047f4224342ff018/Screenshot_2019-11-06_at_15.27.48.png)

CPU never exceeds 30%. (1,706 / 5120 uCpus)
![Screenshot_2019-11-06_at_15.28.06](/uploads/8a493f4a04d6dfa43e933f9c651deb63/Screenshot_2019-11-06_at_15.28.06.png)

## Proposal

- [ ] Experiment with reduce all docker resource allocations by 30%/",2
26772973,2019-11-06 14:30:44.384,Error: Call to a member function getGuid() on null,"Sentry Issue: [ENGINE-R](https://sentry.io/organizations/minds-inc/issues/1177510374/?referrer=gitlab_integration)

```
Error: Call to a member function getGuid() on null
  File ""/Controllers/api/v2/moderation/appeals.php"", line 28, in Minds\Controllers\api\v2\moderation\appeals::get
    'owner_guid' => Core\Session::getLoggedInUser()->getGuid(),
  File ""/Api/Factory.php"", line 90, in Minds\Api\Factory::build
    return $handler->$method($pages);
  File ""/Controllers/api/api.php"", line 76, in Minds\Controllers\api\api::get
    return Factory::build($pages, $this->request, $this->response);
  File ""/Core/Router.php"", line 157, in Minds\Core\Router::route
    return $handler->$method($pages);
  File ""/index.php"", line 9
    $router->route();
```",2
26760468,2019-11-06 12:08:45.790,Do not issue withdrawal until admin approves,"- [x] Update frontend UI to let user know that approval is in progress (front#2238)
- [ ] Update mobile UI to let user know that approval is in progress (mobile-native#1503)
- [x] For admins, show some high level stats such as 'referrer', join date, recent transactions (front#2239)",3
26757553,2019-11-06 11:08:50.024,PHP container with aws,Create an intermediate container image that contains awscli,4
26736655,2019-11-05 20:18:11.195,Video upload error,"![IMG_20191105_094502](/uploads/ed17c0b842523b852bfdd1b9966233a4/IMG_20191105_094502.jpg)

@subverse channel",2
26628885,2019-11-03 22:20:59.468,Shouldnt be able to play multiple vids at same time,Discovery video feed![Screenshot_20191103-171917_Minds](/uploads/d8ac7aa69b84b1e8a31701880c0ba9d9/Screenshot_20191103-171917_Minds.jpg),3
26562833,2019-11-01 15:39:25.316,"Add ability to use ""ordered list"" and ""unordered list"" in blog post editor","Suggestion: Add ability to use ""ordered list"" and ""unordered list"" in blog post editor

![Screen_Shot_2019-11-01_at_9.38.59_AM](/uploads/e9c61c57611506efcf175f954efcf5ef/Screen_Shot_2019-11-01_at_9.38.59_AM.png)",1
26534608,2019-10-31 17:35:24.588,Remove references to Mongo from Boost,"We're using ES for view metrics, AFAIK the Mongo datastore was abandoned.",1
26525005,2019-10-31 14:38:47.920,Capture Boost states in a const,"Boost states are referenced as a string around the place, there's nowhere to refer back to a finite list of possible states",1
26515505,2019-10-31 09:58:24.305,Boost expiration should be run by a scheduled job,"Currently the check is carried out inside of the iterator resulting in iterator fetching expired boosts, filtering them out of the result set and not returning the number of boosts requested.",2
26515283,2019-10-31 09:51:57.528,Extract the logic that records views out of the View API,The functionality that verifies and records a view for a boost (and then triggers lifecycle events) is hidden away inside `v2/analytics/views` api controller alongside the functionality for recording entity/activity views. This boost functionality needs to be extracted and implemented within `Core\Boost` namespace with either a common `View` interface or extending a View abstract and then implement the concrete boost view functionality.,3
32243874,2019-10-30 19:10:04.692,Onboarding Wizard - Channel Tagging does not tag channels,"### Summary

Onboarding Wizard when you choose your preferred hashtags, those hashtags are not used to tag your channel. This will also help in getting channels to register hashtags for the initial channel search to be more effective.

### Steps to reproduce

1. Register a new channel
2. Select hashtags in the onboarding wizard
3. Only updates your preferred hashtags

### Platform information 

Browser

### What is the current *bug* behavior?

Only updates your preferred search hashtags

### What is the expected *correct* behavior?

Should update you channel profile hashtags as well. 

### Relevant logs and/or screenshots

![update_channel_tags](/uploads/69e2f2be09964c4c334f254dd44bc2e9/update_channel_tags.mp4)

- [ ] new onboarding should tag the user's channel with their selected channels
- [ ] new onboarding should populate their feed selectors (already working, but just to verify that it's doing what it's supposed to)",2
26444153,2019-10-29 15:18:12.328,Unable to delete or edit old blogs,"1. Go to old blog circa 2014
2. Attempt to edit it 
3. Give up and try to delete it both from the blog itself and the blog list on channels https://www.minds.com/ottman/blogs
4. End up here https://www.minds.com/blog/owner
5. Run away
![blogerror](/uploads/85305ad57e254ef103ad6b4efaf8fac1/blogerror.PNG)",4
26417875,2019-10-29 11:11:01.642,Resolve issues with Boost Iterator,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
26415657,2019-10-29 10:20:32.363,Add sockets extension to PHP 7.3 container,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
26282187,2019-10-24 15:04:09.464,Banned and Blocked Channels appearing in suggested search results,"### Summary

Banned channels are suggested under search results. Likely related to https://gitlab.com/minds/front/issues/2136

### Steps to reproduce

eg. search for `@ottman`

### Platform information 

browser

### What is the current *bug* behavior?

Banned channels with offensive names are listed

### What is the expected *correct* behavior?

banned channels should not be listed.

### Relevant logs and/or screenshots

![banned_channels_in_search_suggestions](/uploads/1426bf24dffead75a4c87ff7d4e624aa/banned_channels_in_search_suggestions.PNG)

### Possible fixes

A scheduled script that cleans banned channels from search caching.",2
26247693,2019-10-23 18:29:21.814,Remove constraint of deleting a group that still has members,"It should be possible to delete a group without having to first remove all of its members.

Current behavior:

- Given the user has permissions to delete a channel (e.g. is an Admin),
- and the group has members,
- and the user is viewing the group,
- and the user clicks the gear icon at the top of the group,
- when the user clicks ""Delete group""
- then a toaster message appears that says ""You cannot delete a group that has members.""
- and the group is not deleted.

![image](/uploads/954648083961316c8baa8260679accc2/image.png)

Desired behavior:

- ...when the user clicks ""Delete group"",
- then a confirmation modal appears and the user can confirm deletion of the group without having to remove all members first.

![image](/uploads/0acee79a49888b451d94d73b04e66a0d/image.png)",1
26246812,2019-10-23 18:10:40.889,Blog and media pages NSFW controls should propegate to activity,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
26236651,2019-10-23 13:46:52.535,Product pages SEO,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
26227329,2019-10-23 10:40:29.678,Investigate Oddities and improve existing Boost Feed API functionality,"I refactored the feed functionality out of the API request code and into `Core\Boost\Feed` abstract class and implemented `Core\Boost\Feeds\Boost` concrete class.
In the review site the feed request response exactly matches the pre-refactored response (tested web only, need to capture a mobile request).

Example web request:
`/api/v2/boost/feed?rating=2&rotator=1&sync=1&limit=150&as_activities=0&from_timestamp`

The functionality appears limited, oddities found so far...
**(Checkbox Indicates Resolved)**

- [x]  `limit` in request is not honoured
- [ ]  `rotator=1` is requested but not used anywhere
- [x]  `sync=1` is requested but not used anywhere
 
- [x]  Iterator makes a request for *X* boosts, if *Y* of those boosts are invalid or can not be resolved the iterator will return *X* - *Y* boosts, requiring additional requests to cycle the iterator (which could return few or no results again)
- [ ]  It is not implicit that boosts are always returned in ascending timestamp order
- [x]  It is not clear what a boost 'rating' is
- [x]  We ignore the offset requested from the iterator and instead override with the timestamp of the last boost in list with no explanation why we don't trust the iterator",4
26204855,2019-10-22 17:44:24.940,Users should not be allowed to boost scheduled content,"People are sometimes boosting a post that is scheduled and has not been posted yet. When it is boosted, you can see the indication that it is scheduled to be posted at a later date. We should just not allow scheduled posts to be boosted.

![Screen_Shot_2019-10-22_at_11.42.13_AM](/uploads/9cffd8ccbb9408642fc86001471ca62d/Screen_Shot_2019-10-22_at_11.42.13_AM.png)",1
26196790,2019-10-22 14:08:11.336,Investigate jitsi connection issues,"Cannot hear other person. Everything should not be muted by default. 

Works fine on https://meet.jit.si/minds",2
26063734,2019-10-18 03:32:41.619,Groups are not showing on Pro Sites,"## Information

This ~""Type::Regression"" was introduced with removing text posts from the lists. 

## Pro Site

https://bill.minds.com",1
26062316,2019-10-18 02:23:54.814,Ensure NSFW filters carry through to Pro sites,"- [ ] If channel is NSFW, only pay out in BTC or ETH or Minds Tokens, depending on preference, to comply with terms of payment processors

- [ ] If logged-in to minds, NSFW filters should still apply

- [ ] If logged out, the modal should make clear that it is an nsfw site in the login and that they are 18

Added two hours to validate the functionality on pro sites. If we run into issues with any of the three checks, then let's create separate cards to dig down into each of them.",2
26053898,2019-10-17 18:56:13.585,Fix Pro spec tests and write Pro\Assets spec tests,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
26032939,2019-10-17 09:53:22.266,Implement our new Unleash PHP SDK to Minds,"### Goals
- [ ] `Core/Features/Manager` should interface and provide abstraction from the SDK
- [ ] Heavy caching layer with APCu then Redis fallback
- [ ] Ability to target specific users
- [ ] Replace existing feature toggles with our new framework",4
26032640,2019-10-17 09:48:04.770,Clean up the unleash client and implement the strategies,"- unleash-client-php!1: This merge request includes all the work done by @brianhatchet, complete with a psr compliant caching interface.
- unleash-client-php!2: Clean up and strategies implementation

---

We want to make it Unleash compliant, but for our purposes we can focus on the gitlab version

https://docs.gitlab.com/ee/user/project/operations/feature_flags.html

Specifically, we need to implement the strategies section

https://docs.gitlab.com/ee/user/project/operations/feature_flags.html#feature-flag-strategies

",12
26014658,2019-10-16 18:34:05.480,update transcoder to support pro qualities,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
26014449,2019-10-16 18:25:58.183,Save uploaded Pro assets and send FS link back when exporting,,2
25981720,2019-10-16 03:05:04.848,"Add SEO for /plus, /pro and /upgrades",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
25929602,2019-10-14 22:28:06.498,TypeError: Return value of Minds\Core\Permissions\Delegates\ChannelRoleCalculator::getChannelForEntity() mus...,"Sentry Issue: [ENGINE-EN](https://sentry.io/organizations/minds-inc/issues/1254945802/?referrer=gitlab_integration)

```
TypeError: Return value of Minds\Core\Permissions\Delegates\ChannelRoleCalculator::getChannelForEntity() must be an instance of Minds\Entities\User, null returned
  File ""/Core/Permissions/Delegates/ChannelRoleCalculator.php"", line 72, in Minds\Core\Permissions\Delegates\ChannelRoleCalculator::getChannelForEntity
    return $this->entitiesBuilder->single($entity->getOwnerGuid());
  File ""/Core/Permissions/Delegates/ChannelRoleCalculator.php"", line 43, in Minds\Core\Permissions\Delegates\ChannelRoleCalculator::calculate
    $channel = $this->getChannelForEntity($entity);
  File ""/Core/Permissions/Permissions.php"", line 101, in Minds\Core\Permissions\Permissions::getRoleForEntity
    $role = $this->channelRoleCalculator->calculate($entity);
  File ""/Core/Permissions/Permissions.php"", line 79, in Minds\Core\Permissions\Permissions::calculate
    $this->entities[$entity->getGuid()] = $this->getRoleForEntity($entity);
  File ""/Core/Permissions/Manager.php"", line 64, in Minds\Core\Permissions\Manager::getList
    $permissions->calculate($entities);
...
(7 additional frame(s) were not displayed)
```",1
25844641,2019-10-11 09:37:19.344,Need to select from both score and score_decimal in Contributions\Sums during transition,"```php
$query->query(""SELECT SUM(score) as score from contributions WHERE user_guid = ?"");

$query->query(""SELECT SUM(score_decimal) as score from contributions WHERE user_guid = ?"");
```",1
25827681,2019-10-10 21:25:26.364,Add service account handlers to settings,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
25827668,2019-10-10 21:24:40.599,Add pricing matrix to settings,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
25813870,2019-10-10 14:19:55.286,Implement Pro renewal hooks on Wire,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
25785563,2019-10-09 23:09:28.804,Debounce channel reindexing on the back end,"Add a record on the user for the last time they changed the channel mode

When the user changes channel mode, throw a rate limiting exception that prevents them from reindexing their channel for 2 hours",2
25760163,2019-10-09 11:54:11.400,Display boost campaigns inside of the boost feed,,2
25760102,2019-10-09 11:52:48.835,Decide on user Entity Centric method or Boost delta method,"**Boost Delta** could got back the last 10 boosts and return how long they all took to complete. 

Example of determining the delta https://gitlab.com/minds/engine/blob/master/Core/Analytics/Graphs/Aggregates/OffchainBoosts.php#L1306",1
25716893,2019-10-08 09:48:06.837,"Links from outside Minds show no title on pro, only thumbnail",@ottman please provide more information for this task.,1
25594788,2019-10-03 16:47:40.915,Media from groups should not go to media sidebar,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

It appears as if when the user makes a blog in a private group, an entry is also created in the blogs of their channel.

### Steps to reproduce

1. Post a blog in a private group
2. Go to your channel, and look at your blogs side widget, the post appears there.

### Platform information 

Cross platform web. Repicated Chromium/Ubuntu 18.04.

### What is the current *bug* behavior?

Blog appears in the widget when it should be private, same may be happening for other entities.

### What is the expected *correct* behavior?

Blog should NOT be accessible from there, or by link if not in the group.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)

/label ~""T \- Bug"" ~""S \- Triage:new"" 
",2
25593319,2019-10-03 16:11:17.275,Strengthen Permissions manager unit test,Recent changes have added some potentially problematic code to the permissions manager. We need to make sure we're handling all the parameters coming into getList appropriately.,1
25584123,2019-10-03 12:29:43.099,channel owner should be able to create new groups,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
25516960,2019-10-01 18:35:45.261,(bug): onboarding is not displaying steps,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->


### Steps to reproduce

Create a new channel and try to do a full channel setup. 

### Platform information 

Chrome, iOS

### What is the current *bug* behavior?

When you create a new channel, you are not given the steps to select hashtags or subscribe to channels. It skips immediately to the profile setup screen. 

If you try to set an avatar, display name and description, only the avatar appears correctly when you land on your channel. You have to refresh your browser in order to see your display name and your description. Very unintuitive and should not require a refresh.

The channel shows onboarding is only 83% complete even though I only did the channel set up screen and joined the rewards program.


### What is the expected *correct* behavior?

I should see all onboarding screens.

I should see all my updates reflected on my channel without a refresh.

Percentage of onboarding completion seems broken. 1) Hashtags 2) Channels 3) Design 4) Rewards = 100% setup. If you have not done a step, it should decrease your % complete and if you click to complete setup it needs to take you to only the steps you have not done.

### Relevant logs and/or screenshots



### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
25513412,2019-10-01 16:35:49.286,"when getting permissions for an entity, it returns a load of permissions for unrelated entities",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
25473603,2019-09-30 20:54:08.508,Gifs uploaded as avatar are not cropped and cause issues throughout the site.,"Example of issue ![Screen_Shot_2019-09-30_at_9.53.01_PM](/uploads/a1d79255bce745cd880a36bae1613706/Screen_Shot_2019-09-30_at_9.53.01_PM.png).

Small - https://cdn.minds.com/icon/870387733137203205/small/1569815035
Master - https://cdn.minds.com/icon/870387733137203205/master/1569815035",1
25448109,2019-09-30 11:26:45.157,Call to a member function getSubtype() on null in PropagateProperties,Able to recreate on editing a newsfeed post,1
25353400,2019-09-26 17:32:38.675,"Only handle known routes on Pre-PSR7 Router (/, /api/v1, /api/v2, /fs, ... other old static routes)",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
25327066,2019-09-26 03:35:35.954,"Normalize request: URI, Content Type, POST Data, Host",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
25327036,2019-09-26 03:33:50.649,Frame Deny Middleware,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
25327023,2019-09-26 03:32:44.018,SEO Middleware,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
25327019,2019-09-26 03:32:11.462,Pro Middleware,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
25327013,2019-09-26 03:31:29.522,Referral System Middleware,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
25326997,2019-09-26 03:29:56.020,Email Campaigns + Router Hooks Middleware,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
25326988,2019-09-26 03:29:05.124,Analytics Middleware,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
25326957,2019-09-26 03:27:30.022,Session Middleware,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
25326928,2019-09-26 03:25:27.745,CORS Middleware,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
25326915,2019-09-26 03:24:02.142,Routing Middleware (connects modules with routes),Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
111700362,2022-07-15 14:52:19.546,Add 'seen_entities' to Vitess,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

We should add 'seen_entities' to vitess in order to better query our clustered recommendations. Redis can only store the last 1 hour due to bandwidth constraints. 

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

One record per pseudo_id and entity_guid with a timestamp of last viewed. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

N/A

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

N/A

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [x] A new table in vitess
- [x] Add 'seen_entities' to vitess, as we do with Redis. 
- [ ] ~Consider using an EventStream for seen_entities and batching results into Vitess (scaling)~
- [x] Spec tests

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",5
111520862,2022-07-12 15:35:48.465,Support Querying by Nostr Event Filters,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

We currently only support retrieving Nostr events using a user's public key. In order to support real-world Nostr clients, we should support querying based on all of the filters described here:

https://github.com/nostr-protocol/nips/blob/master/01.md

***Note***: Reminder to support `e` and `p` tags for replies and mentions respectively

https://github.com/nostr-protocol/nips/blob/master/01.md#other-notes

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Refactor the Nostr endpoint to support querying for entities based upon the above filters.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

We can test with a client like [Damus](https://damus.io/) which has global feeds which depend upon this functionality.

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

N/A

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Endpoint is updated to allow for querying entities using the NIP-01 filters

## Definition of Ready Checklist

- [X] Definition Of Done (DoD)
- [X] Acceptance criteria
- [ ] Weighted
- [X] QA
- [X] UX/Design
- [X] Personas
- [X] Experiments",5
111309556,2022-07-07 11:17:13.684,"Regression: Cannot delete comments -  ""G.delete is not a function""","### Summary

Cannot delete a comment. 

### Steps to reproduce
1. Open minds web.
2. Comment on any post.
3. Delete your comment.
4. Nothing happens.

### Platform information 

All staging, canary & Prod
All browsers

### What is the current *bug* behavior?

Nothing happens - console error ""G.delete is not a function""

### What is the expected *correct* behavior?

Comment should be deleted

### Relevant logs and/or screenshots

![image](/uploads/2b8e4f17404300f54ff5c103b019343c/image.png)",2
111026684,2022-07-01 13:53:51.519,Enable engine to pull in Nostr events and transform into Minds entities,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

We are now able to send events out to nostr. Now we want to be able to pull in events too.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

The scope of this task is simply to be able to transform a nostr event into a Minds entity. These entities **should** be stored like other Minds entities and **should** have owners like other entities. We also **must** ensure that there is only one Minds entity per nostr event.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

API.

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

Nomads.

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Given a Nostr hash, translate to a Minds entity and save
- [ ] Ensure there is only **one** entity per nostr hash
- [ ] If a User is an imported Nostr event, do not do any signing logic
- [ ] Only allow from 'trusted' users which can call the endpoint

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",8
111016072,2022-07-01 10:48:50.257,SKALE - Private key generation and token transfers,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

Create a means of transferring tokens between custodial wallets associated with users. If there are any obstacles, identify them and propose solutions.

## What needs to be done

- [x] See if we can use Nostr private keys to act as a user's custodial wallet for the site.
- [ ] If we cannot, find an alternative system of private key generation for users.
- [x] Check wallets can be imported in Metamask and tokens can be sent between wallets.
- [x] Build out a CLI endpoint that can be used to wire tokens between the wallets of two users.
- [x] CLI endpoint should print TX hash (as when implemented fully, we will want to pass this to the front-end.
 
## QA

- [ ]  Test CLI endpoint works for users pre-seeded with testnet tokens.

## UX/Design

N/A - though if any future UX considerations come up, we should consider it.

## Personas

For now, developers, in future, users of the offchain system as outlined in https://gitlab.com/groups/minds/-/epics/256

## Experiments

N/A - this should NOT be exposed yet or accessible from existing API endpoints thus should not YET need a feature flag.

## Acceptance Criteria

- [x] SKALE compatible private keys associated with user accounts.
- [x] Figure out sFuel distribution.
- [x] CLI endpoint to transfer tokens between two users by user guid - should print TX hash.
- [x] CLI endpoint for checking the balance of a wallet by address or user guid.
- [x] CLI endpoint for sending sFuel to a wallet by address or user guid (should be the same as sending Ether).
- [x] Unit tests.

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [x] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",13
110888137,2022-06-29 10:19:48.473,Fix static analysis,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

phpstan is failing

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Fix errors

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

N/A

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

Devs

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Green light static analysis

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments

Fix PHP",1
111503415,2022-06-24 09:43:23.990,Forgot password broken for users without locale,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Forgot password broken for users without locales

### Steps to reproduce

Presumably set your locale to null - see Sentry

### Platform information 

Web and mob

### What is the current *bug* behavior?

Cannot send password reset email

### What is the expected *correct* behavior?

Default locale to an EN one?

### Relevant logs and/or screenshots

https://sentry.io/organizations/minds-inc/issues/1723668477/?query=is%3Aunresolved

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
110574842,2022-06-22 20:30:14.201,TwitterSync for videos,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

Sync videos on Twitter when synced to Minds

## What needs to be done

- Explore whether possible/feasible.
- Update the twitter sync job to also parse videos.

## QA

Test Twitter Sync

## UX/Design

N/A

## Personas

Twitter Sync users.

## Experiments

N/A

## Acceptance Criteria

- [ ] Rich embed twitter videos
- [ ] Bonus if you can figure out how to transcode the videos
- [ ] For image posts, capture the dimensions and save to the entities

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",5
110503901,2022-06-21 19:23:11.457,Expose Engine Endpoint for Querying Nostr Events,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Currently we expose the `fetch-entity` endpoint that allows for retrieving Nostr events based on the event id, although we should extend this to allow for more robust querying based on the following fields:

* id
* author
* `e` and `p` tags
* date range

**Note**: This index exists in Sandbox with the following mapping:

`minds-nostr-event-v1`

```json
{
  ""mappings"": {
    ""properties"": {
      ""id"": { ""type"": ""keyword"" },
      ""pubkey"": { ""type"": ""keyword"" },
      ""created_at"": { ""type"": ""date"" },
      ""kind"": { ""type"": ""short"" },
      ""tags"": { ""type"": ""keyword"" },
      ""sig"": { ""type"": ""keyword"" }
    }
  }
}
```

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

1. Create an Elasticsearch index for containing Nostr events.
  * Do not include the `content` of the events, just the metadata
2. Setup a runner for syncing created entities to the events index.
3. Expose an endpoint for returning the formatted Nostr events that match the above fields 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

We can test by deploying to Sandbox alongside [our Nostr relay](https://gitlab.com/minds/infrastructure/nostr-relay).

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

N/A

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Nostr events can be queried using the above endpoint

## Definition of Ready Checklist

- [X] Definition Of Done (DoD)
- [X] Acceptance criteria
- [ ] Weighted
- [X] QA
- [X] UX/Design
- [X] Personas
- [X] Experiments",3
110473895,2022-06-21 12:44:31.464,Sync a users subscriptions to new 'Vitess' database,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Cassandra, ElasticSearch and Redis do not allow us to do simple join queries. This makes 'mutual friends' and other such queries very difficult. [Vitess](https://vitess.io/) is a CloudNative project that brings high availability to MySQL.  

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

We already have an event stream for all subscribe actions 'event-action-subscribe'. We can tab into this and keep in sync with Vitess via a background runner. 

Prior to this, we can import a list of all 'friends' (subscriptions) by dumping a CSV from Cassandra and importing into Vitess. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

N/A

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

Devs

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Update minds/php image to support PDO driver
- [ ] A new `Data\SQL\Client` that will point to our Vitess cluster
- [ ] Schemas for our 'friends' table
- [ ] A background runner that subscribes to 'event-action-subscribe' and sync to our SQL friends table
- [ ] Manual bulk job to copy from cassandra to vitess
- [ ] Documentation

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [x] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",13
109819410,2022-06-09 04:52:26.107,Remove legacy helpdesk,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
Housekeeping -- remove references to legacy helpdesk.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
Delete files related to legacy helpdesk.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
Probably don't need it because the helpdesk isn't being used anymore.

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->


## Personas

<!---
Who does this user impact and why (optional)
--->
Developers.

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
None

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Legacy helpdesk deleted

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",1
109788248,2022-06-08 13:48:10.048,[Spike] Explore replacing Etherscans use for getting block number by time with TheGraph or BigQuery,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

Cut down our dependence on external services by seeing if we can migrate our use of Etherscan to get the current block number by timestamp (for example in rewards calculation) to using TheGraph, BigQuery, or possibly Infura. As far as I'm aware to do this without an external dependency, we would need to iterate through all previous blocks in reverse order which is an expensive operation - to do this engine side we'd also be hitting Infura if using the web3 service anyway - unless we set up our own Ethereum node. Ideally, we can do this in one sweep with BigQuery or TheGraph.

Possible resources to explore
- https://thegraph.com/explorer/subgraph?id=3WFXNz46rk4iuVgsBybcGtxMa4cbHkBLfuSjUvvqs2MD&view=Overview
- https://cloud.google.com/blog/products/data-analytics/ethereum-bigquery-public-dataset-smart-contract-analytics

## What needs to be done

Explore whether we can get the closest block number to a timestamp using another service that we already use, cutting down the amount of third parties that we depend on.

## QA

Will need to test block number is calculated correctly for holding rewards

## UX/Design

N/A

## Personas

- Engagement reward enrolled users - by cutting the chances of downtime. 
- Team - make it simpler to use less APIs

## Experiments

N/A

## Acceptance Criteria

- [ ] Get a prototype together of a query/endpoint that can fetch this
- [ ] Possibly build out integration (to discuss)

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments

xplo",3
109377568,2022-05-31 13:36:18.979,Create a read-only nostr relay for Minds posts,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Following on from https://gitlab.com/minds/engine/-/issues/2325, where we **push** out to other Nostr relays, we discovered that the network would become saturated with Minds posts and overwhelm the other Nostr community relay nodes. https://gitlab.com/minds/engine/-/issues/2332 will allow us **pull** Minds posts and channels from Nostr ID (hashes). 

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

PHP and websockets don't play together nicely. Instead, consider a simple NodeJS socket server that proxies the endpoint returned in https://gitlab.com/minds/engine/-/issues/2332.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

Minds posts can be returned from a Nostr client. 

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A


## Personas

<!---
Who does this user impact and why (optional)
--->

Digital Nomads

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] A simple nodejs that proxies the https://gitlab.com/minds/engine/-/issues/2332 endpoint
- [ ] Helm chart
- [ ] Spec tests (bonus)

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",5
109222868,2022-05-27 15:32:34.900,Implement reverse index for Nostr hashes (event ids) to Minds posts,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

In order to support many Minds posts and channels being available on Nostr, we need to store a reverse index of the nostr has to the entity. 

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Subscribe to the new 'entities-ops' event stream and record relationship of its nostr id (hash) to entity urn.

### Why?

Nostr clients make a request for events based off a sha-256 hash of an event id. We don't have any mechanism of translating these hashes into entities in order to return a response. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

Use the provided api endpoint to return an entity from a nostr hash

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

Digital Nomads

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] A new table that maps nostr hashes to entity urns
- [ ] A mechanism (preferably a background runner) that does the reverse indexing stage
- [ ] An api endpoint that will return an entity from a nostr hash
- [ ] **Nostr relay and communication with Nostr is out of scope for this task and is not required or expected**
- [ ] Spec tests

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [x] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",5
109215868,2022-05-27 13:17:31.824,Video unmute metric misfiring,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Reported by Mani

The video unmute metric is being misfired when scrolling a video in and out of the viewport.

### Steps to reproduce

1. Open Snowplow Debugger.
2. Make sure autoplay is turned on.
3. Scroll down to a video (go to a channel video feed maybe)
4. Scroll up so the video goes out of the viewport
5. Scroll back down - the video restarts (potentially its own bug) and an event is fired for unmute. 

### Platform information 

Web

### What is the current *bug* behavior?

Event misfire

### What is the expected *correct* behavior?

Should only fire on unmute events.

### Relevant logs and/or screenshots

https://www.loom.com/share/65cd90ed776f4f9eb89b5e16543a6461 

### Possible fixes

https://gitlab.com/minds/front/blob/cd7a7412c4159dc3556070bead00b7186fe74e13/src/app/modules/media/components/video-player/player.component.ts#L336",0
109064066,2022-05-24 22:53:44.815,Implement Prometheus Metrics for Testing Connectivity to External Dependencies,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Currently for our readiness and liveness probes we check the `/api/v1/minds/config` endpoint, which does not evaluate connectivity to external dependencies. We can implement a dedicated health endpoint that tries to connect to these external services and returns a `200` status code only if the engine is able to communicate with them.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Implement a health endpoint that confirms connectivity to the following services:

- Cassandra
- Elasticsearch
- Redis
- Sendgrid
- SQS
- Permaweb
- Web3 Server

We'll also want to update the readiness and liveness probes in our Helm chart.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

We can test this in Sandbox by applying a NetworkPolicy that restricts access to the required dependencies, which should cause the endpoint to fail and therefore the pod to show as unready.

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

N/A

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Health endpoint is added to engine
- [ ] Helm charted is updated with readiness and liveness probes

## Definition of Ready Checklist

- [X] Definition Of Done (DoD)
- [X] Acceptance criteria
- [ ] Weighted
- [X] QA
- [X] UX/Design
- [X] Personas
- [X] Experiments",3
108985071,2022-05-23 15:09:46.206,Move Sockets JWT Secret to Vault,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

We need to move from a hard-coded JWT secret for Sockets into Vault so that we don't have to copy a file on new Terraform deployments.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

TODO

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

TODO

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

N/A

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Sockets JWT Secret is being pulled from Vault
- [ ] Able to set socket variables via env variables https://gitlab.com/minds/engine/-/blob/master/settings.example.php#L256

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments

M",2
108881713,2022-05-20 15:14:37.644,API to trigger nostr sync,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->


## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->


## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->


## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] ...

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",0
108881553,2022-05-20 15:12:06.973,Blogs dropdown UI issues,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Issues with the dropdown in blogs. 

### Steps to reproduce

Run blogs Cypress test against local or sandbox.

Replicate outside of Cypress

1. In firefox, create a new blog
2. Set a banner and a long title
3. Make your window small like the screenshot
4. Open the license menu

### Platform information 

Cypress against web.

### What is the current *bug* behavior?

Menu z-index messed up

### What is the expected *correct* behavior?

Menu should be correctly displayed. Test should green light. (may be other issues)

### Relevant logs and/or screenshots

![image](/uploads/fa173bc0f9b5378a0ebd0cf4c90fea4e/image.png)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
108875968,2022-05-20 13:31:55.003,Create an 'entities-ops' EventStream,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Create a new EventStream for changes to entities. For example: create, update, delete.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Whenever an entity is created, updated or deleted, submit an event to an EventStream that we can later subscribe to. The data team require this for their cassandra extra. We can use this in place of our SearchIndexDispatcher to better replicate cassandra -> elasticsearch.

### Event fields

| field | type | example |
| ------ | ------ | ------ |
| type | enum/string| create,update,delete |
| entity_urn | string | urn:user:123 |

### Complications

Previously we had an issue on signup when two pulsar events tried to be published. The first event succeeded but then 
closed the publisher connection, therefore the second event failed throwing an exception. A small refactor **may** be needed to create a **shared** connection pool, that should only be destroyed on process termination.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

Ensure create, update and delete actions happen without errors. 

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

Data science

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [x] A new event stream
- [ ] Possible refactor the connection termination? See complications above. 
- [x] An example subscription showing the stream working
- [ ] Documentation
- [x] Spec tests

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",5
108608439,2022-05-16 12:12:10.479,Support for implementing counter for System Push tool,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Admins running the System Push Notification tool have no insights into the progress of the push notification. Record a counter and output to the interface

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

We already have a column called 'counter' in the schema that isn't doing anything. Update this (throttle to every 200 sends) and return in the entity export. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

N/A

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->


## Personas

<!---
Who does this user impact and why (optional)
--->

All users

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Implement a counter
- [ ] Show in the admin GUI tool
- [ ] Spec tests

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments

Support",2
108447750,2022-05-12 13:15:06.808,New deep link endpoint needed for Android 12,"
## Goal

Android 12 introduced a breaking change to deep-linking, it now requires an endpoint to validate that you control the domain. (Similar to what iOS does)

## What needs to be done

We need to create an endpoint for .well-known/assetlinks.json to validate the domain on Android 12

## QA

We need to build an APK pointing the deep linking to the domain of the sandbox

## UX/Design

-


## Personas

It will fix the deep links for all the users running the app on Android 12 devices


## Experiments

-

## Acceptance Criteria

- [ ] the endpoint .well-known/assetlinks.json must return the required information
- [ ] Deeplink should work on Android 12 devices

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",2
108404162,2022-05-12 00:41:47.030,SearchIndexDispatcher CrashLoopBackOff,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

minds-runner-search-index-dispatcher CrashLoopBackOff

### Steps to reproduce

N/A

### Platform information 

Runners

### What is the current *bug* behavior?

Search indexer stuck in CrashLoopBackOff

### What is the expected *correct* behavior?

Should work normally

### Relevant logs and/or screenshots

```
Minds.CRITICAL: TypeError: trim(): Argument #1 ($string) must be of type string, array given in /var/www/Minds/engine/Core/Search/Mappings/EntityMapping.php:206 Stack trace: #0 /var/www/Minds/engine/Core/Search/Mappings/EntityMapping.php(206): trim(Array, ' \t\n\r\x00\v#') #1 [internal function]: Minds\Core\Search\Mappings\EntityMapping->Minds\Core\Search\Mappings\{closure}(Array) #2 /var/www/Minds/engine/Core/Search/Mappings/EntityMapping.php(207): array_map(Object(Closure), Array) #3 /var/www/Minds/engine/Core/Search/Mappings/ActivityMapping.php(34): Minds\Core\Search\Mappings\EntityMapping->map(Array) #4 /var/www/Minds/engine/Core/Search/Index.php(80): Minds\Core\Search\Mappings\ActivityMapping->map() #5 /var/www/Minds/engine/Core/Search/Events.php(86): Minds\Core\Search\Index->index(Object(Minds\Entities\Activity)) #6 [internal function]: Minds\Core\Search\Events->Minds\Core\Search\{closure}(Object(Minds\Core\Events\Event)) #7 /var/www/Minds/engine/Core/Events/Dispatcher.php(144): call_user_func_array(Object(Closure), Array) #8 /var/www/Minds/engine/Core/Events/EventsDispatcher.php(49): Minds\Core\Events\Dispatcher::trigger('search:index:di...', 'all', Array, NULL) #9 /var/www/Minds/engine/Core/Queue/Runners/SearchIndexDispatcher.php(32): Minds\Core\Events\EventsDispatcher->trigger('search:index:di...', 'all', Array) #10 /var/www/Minds/engine/Core/Queue/SQS/Client.php(159): Minds\Core\Queue\Runners\SearchIndexDispatcher->Minds\Core\Queue\Runners\{closure}(Object(Minds\Core\Queue\Message)) #11 /var/www/Minds/engine/Core/Queue/Runners/SearchIndexDispatcher.php(33): Minds\Core\Queue\SQS\Client->receive(Object(Closure)) #12 /var/www/Minds/engine/Controllers/Cli/QueueRunner.php(32): Minds\Core\Queue\Runners\SearchIndexDispatcher->run() #13 /var/www/Minds/engine/cli.php(64): Minds\Controllers\Cli\QueueRunner->run() #14 {main} 	{""exception"":""[object] (TypeError(code: 0): trim(): Argument #1 ($string) must be of type string, array given at /var/www/Minds/engine/Core/Search/Mappings/EntityMapping.php:206)""} 

```
```
dba@cqlsh:minds> select * from entities where key='1078886937977348096' and column1='tags';;

 key                 | column1 | value
---------------------+---------+--------------------------------------
 1078886937977348096 |    tags | [[""socialmedia""],[""videostreaming""]]
```

### Possible fixes

-  Scale up runners
- Fix underlying issue",1
108330510,2022-05-10 19:44:46.127,The social compass endpoint is returning information even without an active session,"

### Summary

The social compass is returning information without valid credentials. Because of this, the compass is randomly shown on mobile when the tokens are expired. (Even for users that already answered it)

Endpoint https://www.minds.com/api/v3/social-compass/questions

### Steps to reproduce

Get request without credentials to https://www.minds.com/api/v3/social-compass/questions

### Platform information 

API

### What is the current *bug* behavior?

It is returning the social compass information without an active session (answersProvided: false)

### What is the expected *correct* behavior?

it should return a 401

### Relevant logs and/or screenshots

![Screen_Shot_2022-05-10_at_16.42.32](/uploads/f923160f7a800400b8162ae25d473f55/Screen_Shot_2022-05-10_at_16.42.32.png)

### Possible fixes

Check for session",1
107935542,2022-05-03 16:03:11.527,Handle custom data dimensions for paywalled vids,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Video dimensions are only being exported for un-paywalled vids, likely related to Cloudflare webhook. 

We need to be able to access height and width of videos to implement the activity-v2 designs (without the height and width, we show black bars on either side of the video).

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Move the `->acl->setIgnore(true)` step to be **before** the entities builder step. The issue is that the webhook doesn't have permission to view the entity. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

Difficult to test in sandboxes due to webhook configurations. 

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

Creators. 

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Minds+ videos have dimensions exported

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",1
107892799,2022-05-02 21:55:54.932,All trimmed videos revert to original state when uploading to Minds,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Given the user is on the iOS app, and the user has a video that they've trimmed using the iOS Photos app, when the user uploads the video to Minds, then the un-edited version of the video is uploaded.

### Steps to reproduce

- Record a video on iPhone (with screen recorder, or the iPhone camera app)
- Open the video in the iOS Photos app and edit the video with the trim tool. Click `Done` > `Save video`
- Launch the Minds app and create a post
- Upload the video you've just trimmed

### Platform information 

- iOS app

### What is the current *bug* behavior?

- The un-edited version of the video is uploaded

### What is the expected *correct* behavior?

- The edited version of the video is uploaded

### Relevant logs and/or screenshots

I made a sample screen recording, starting at Home screen > Minds app > Home screen.

- [Sample video](https://drive.google.com/file/d/1TWmEGFad8r5xQhYGhs7nz8guspJmz25E/view?usp=sharing)

I think used the iOS Photos app to trim it, removing the Home screen sections.

- [Sample video: Trimmed](https://drive.google.com/file/d/1rSJTj2Li_0MVHqoZ0MXEu_riF4DSrn38/view?usp=sharing)

Trimming the video in the Photos app. The preview shows the Home screen sections which I had trimmed out of the video.

![IMG_D6DC01124C72-1](/uploads/9e6fe938f77daa96e93a6c8da7cf41eb/IMG_D6DC01124C72-1.jpeg)

Then uploaded the video through the Minds iOS app -- 

![IMG_EB4ADAC5653B-1](/uploads/dcf54d1b021168bce1ef51e80f1d1c97/IMG_EB4ADAC5653B-1.jpeg)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",3
107449316,2022-04-28 23:48:30.242,Nostr Integration Proposal,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Enable Minds to publish to the [nostr](https://github.com/fiatjaf/nostr) protocol. 

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

- Extend the DID keypair schema to support **secp256k1** keypairs. Export these to DID too
- Run a nostr relay node
- Implement the [NIP-05](https://github.com/fiatjaf/nostr/blob/master/nips/05.md) protocol


## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

Can posts be published to nostr?

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

Decentralized Users


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Implement a nostr relay PoC

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments

## Notes from Nostr team member

The basic Nostr protocol flow is described here: https://github.com/fiatjaf/nostr/blob/master/nips/01.md

For a basic Nostr interface to work we need 4 simple things:
  1. Each user needs a cryptographic keypair to sign posts with (these are called ""events"").
  2. Then user' posts must be accessible from a relay that speaks the Nostr protocol.
  3. User metadata is published in the same way as a post is, it just has a different `kind` number and a different structure.
  4. Finally, Nostr currently supports linking readable names (""internet identifiers"") like `myname@minds.com` to public keys.

I'm not familiar with the Minds codebase and couldn't figure out much from a quick glance, but from using the website I imagine you have a database with users and each user has an ID and metadata like name, unique username, image and description -- and then you have posts associated with each user.

Considering that, we can solve the above points as following:

1. Minds can just generate a key for each user. This can be done in a single step that populates a database column for each user with a random private key; or it can be generated using a fixed formula that takes the user unique ID from the Minds database itself and applies something like `hmac(secret, id)` to get a private key (in this case if the formula doesn't change and the ID for each doesn't change either the private key will always be the same -- and you can always migrate later to a private key that is saved on the database if you want).
2. Minds would run a Nostr relay that would respond to clients that connect to it from the external world through a websocket with lists of events from Minds users. The queries can vary, but basically they will be requesting a all posts of some kind or multiple kinds for a given user or multiple users -- nothing much different from what the current Minds frontend already uses I believe. This can be done in multiple ways too, but to me it seems like the best way (and the path of least resistance) would be to run a custom relays as a separate instance that will have access to the main Minds database such that upon receiving a request from a Nostr client it would
   1. Query the database for all the requested content;
   2. Process the content from whatever the format it is in the Minds database such that it will become a set of standard Nostr events;
   3. Use the private key associated with the user that created the content to sign the event;
   4. Return the event to the client;
   5. Keep the websocket connection open such that whenever a new event that passes the filter is generated on Minds the relay is notified and can then send this new event to all listening clients that want it (this is so events are received in real-time by Nostr clients without refreshes -- it's slightly more complicated than the rest of the flow, so I imagine it could be done at a later date).
3. Metadata is basically an event like the other ones so it follow the same pattern as above.
4. Along with the metadata each user would also have a ""name@minds.com"" tag attached to it based on their minds.com URL and there would be a very simple global handler for resolving these names to pubkeys on the minds.com domain (see https://github.com/fiatjaf/nostr/blob/master/nips/05.md) -- mine, for example, would be `fiatjaf@minds.com` and then Nostr clients would query `https://minds.com/.well-known/nostr.json?name=fiatjaf` so the global handler could query the database and figure out the public key associated with the username ""fiatjaf"" and return that as NIP05 specifies.

I believe the Minds Nostr relay code could (at least initially) make use of https://github.com/fiatjaf/relayer which I wrote as ""Relay Framework"" (it's a library) that can be instantiated with custom database backends and custom responses etc.

---

There are other ways to do the integration and I believe @jb55 has suggested doing it in a slightly different way, but these are cleanest and more elegant ways to do it with the least resistance in my opinion.",13
107216910,2022-04-26 12:11:39.518,Implement ability to resolve other DID's,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

We need to be able to read other DID documents to continuing our Self Sovereign Identity goal. 

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

There are a **lot** of did methods, and maintaining our own drivers for each is going to be a mammoth task. Luckily, https://github.com/decentralized-identity/universal-resolver exists which supports most methods we would want to work with, at least for the initial phase. 

### Universal Resolver

- ~Launch https://github.com/decentralized-identity/universal-resolver as microservice~ <- Use https://https://dev.uniresolver.io/ for first phase, then launch our own later
- PHP to proxy the universal resolver
- Provide a simple API endpoint that will resolve 3rd party DID's


## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

Provide a curl script to QA

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

Everyone

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [x] ~Launch [https://github.com/decentralized-identity/universal-resolver] as a microservice. Build helm chart if necessary~ <- To reduce scope, just use https://dev.uniresolver.io/ but have support for chaning endpoint
- [x] This should work on Sandboxes
- [x] PHP proxy and public api endpoint
- [x] Curl script that QA can use to verify the implementation
- [x] Spec tests

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [x] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",8
106856835,2022-04-19 19:41:38.039,Store Email 2FA Codes Outside of Redis,"<!---
Please read this!

The Defintion of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Following our recent incident with 2FA codes failing to be understood as valid, we should investigate alternative ways to store 2FA codes for validation.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Prior to starting work on this issue, we should first identity where we want to store the codes and how we want to retrieve them. After this, we can make the changes to engine.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

- Ensure email two factor codes still send

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Store the two factor secret part in Cassandra instead of Redis
- [ ] Spec tests
- [ ] Cassandra schema AND TTL support

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [ ] QA",5
107285615,2022-04-13 14:10:32.243,Channel Recommendations See More section is empty but the top recommendation panel still continues to see new recommendations,"### Summary

See More page is empty but I still see new channel recommendations after refreshing the page. 

### Steps to reproduce

1. Open minds + turn on experiment.
1. Navigate to a channel with no post.
1. View the top Recommendations.
1. Tap on See More and subscribe to all until no more see more recommendations.
1. Now, go back to profile after refresh.
1. Notice that three top recommendations are still there as expected.
1. Subscribe to the top 3 recommendations now.
1. Notice that see more is empty still.
1. Go back to profile and refresh.
1. Notice that new top 3 recommendations have showed up which never existed in See more option. This is an inconsistency issue.

### Platform information 

Chrome - All browsers

### What is the current *bug* behavior?

See More is empty but recommendations are still available. 

### What is the expected *correct* behavior?

Data inconsistency issue. We should have channels under see more section if recommendations are still available. 

### Relevant logs and/or screenshots

![ChannelRecBug](/uploads/ffca7fc08ebf245738d2cb9eca483563/ChannelRecBug.mov)",3
106331003,2022-04-08 13:26:44.542,"As a user, I want to have a web DID","## Goal

The [Web](https://w3c-ccg.github.io/did-method-web/) method is a good candidate for kicking off our Self Sovereign Identity project.

## What needs to be done

### DID Document Schema

eg.
```
{
  ""@context"": ""https://www.w3.org/ns/did/v1"",
  ""id"": ""did:web:minds.com"",
  ""verificationMethod"": [{
     ""id"": ""did:web:minds.com#controller"",
     ""type"": ""Secp256k1VerificationKey2018"",
     ""controller"": ""did:web:minds.com"",
     ...
  }],
  ""authentication"": [
     ""did:web:minds.com#controller""
  ]
}

```

### DID .well-known endpoint

**did:web:minds.com:mark** should resolve to https://www.minds.com/mark/.well-known/did.json

### Helpful Links
https://w3c-ccg.github.io/did-method-web/
https://learn.mattr.global/tutorials/dids/did-web

### Key management

We require a simple key/value repository that a public key and private key for a user. This can be determined during sprint.

## Acceptance Criteria

- [x] Implement the DID web spec
- [x] Provide documentation as to how this works, and how it can be tested (https://developers.minds.com/docs/walk-throughs/did)
- [x] Deliver a very simple prototype that will resolve a web did.
- [x] Expose the users DID in their about section",8
106060639,2022-04-04 21:16:53.476,Error spam from StringLengthValidator and failing load in some feeds,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Errors being spammed to logs when descriptions are null on images

### Steps to reproduce

Upload image with no description

Check https://www.minds.com/groups/profile/844220536770330624/feed on prod

### Platform information 

Engine

### What is the current *bug* behavior?

Error spam

### What is the expected *correct* behavior?

Should default to an empty string.

### Relevant logs and/or screenshots

```
NOTICE: PHP message: Minds.CRITICAL: TypeError: Minds\Helpers\StringLengthValidators\AbstractLengthValidator::validateMaxAndTrim(): Argument #1 ($target) must be of type string, null given, called in /var/www/Minds/engine/Entities/Image.php on line 375 and defined in /var/www/Minds/engine/Helpers/StringLengthValidators/AbstractLengthValidator.php:74 Stack trace: #0 /var/www/Minds/engine/Entities/Image.php(375): Minds\Helpers\StringLengthValidators\AbstractLengthValidator->validateMaxAndTrim(NULL) #1 /var/www/Minds/engine/Core/Notifications/Notification.php(218): Minds\Entities\Image->export() #2 /var/www/Minds/engine/Api/Exportable.php(104): Minds\Core\Notifications\Notification->export() #3 /var/www/Minds/engine/Core/Notifications/Controller.php(146): Minds\Api\Exportable->export() #4 [internal function]: Minds\Core\Notifications\Controller->getList(Object(Zend\Diactoros\ServerRequest)) #5 /var/www/Minds/engine/Core/Router/Middleware/Kernel/RegistryEntryMiddleware.php(60): call_user_func(Array, Object(Zend\Diactoros\ServerRequest)) #6 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\RegistryEntryMiddleware->process(Object(Zend\Diactoros\ServerRequest), Object(Minds\Core\Router\Dispatcher)) #7 /var/www/Minds/engine/Core/Router/Middleware/LoggedInMiddleware.php(61): Minds\Core\Router\Dispatcher->handle(Object(Zend\Diactoros\ServerRequest)) #8 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\LoggedInMiddleware->process(Object(Zend\Diactoros\ServerRequest), Object(Minds\Core\Router\Dispatcher)) #9 /var/www/Minds/engine/Core/Router/Middleware/Kernel/RequestHandlerMiddleware.php(82): Minds\Core\Router\Dispatcher->handle(Object(Zend\Diactoros\ServerRequest)) #10 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\RequestHandlerMiddleware->process(Object(Zend\Diactoros\ServerRequest), Object(Minds\Core\Router\Dispatcher)) #11 /var/www/Minds/engine/Core/Router/Middleware/Kernel/XsrfCookieMiddleware.php(32): Minds\Core\Router\Dispatcher->handle(Object(Zend\Diactoros\ServerRequest)) #12 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\XsrfCookieMiddleware->process(Object(Zend\Diactoros\ServerRequest), Object(Minds\Core\Router\Dispatcher)) #13 /var/www/Minds/engine/Core/Router/Middleware/Kernel/OauthMiddleware.php(50): Minds\Core\Router\Dispatcher->handle(Object(Zend\Diactoros\ServerRequest)) #14 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\OauthMiddleware->process(Object(Zend\Diactoros\ServerRequest), Object(Minds\Core\Router\Dispatcher)) #15 /var/www/Minds/engine/Core/Router/Middleware/Kernel/SessionMiddleware.php(63): Minds\Core\Router\Dispatcher->handle(Object(Zend\Diactoros\ServerRequest)) #16 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\SessionMiddleware->process(Object(Zend\Diactoros\ServerRequest), Object(Minds\Core\Router\Dispatcher)) #17 /var/www/Minds/engine/Core/Router/Middleware/Kernel/FrameSecurityMiddleware.php(29): Minds\Core\Router\Dispatcher->handle(Object(Zend\Diactoros\ServerRequest)) #18 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\FrameSecurityMiddleware->process(Object(Zend\Diactoros\ServerRequest), Object(Minds\Core\Router\Dispatcher)) #19 /var/www/Minds/engine/Core/Router/Middleware/Kernel/JsonPayloadMiddleware.php(40): Minds\Core\Router\Dispatcher->handle(Object(Zend\Diactoros\ServerRequest)) #20 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\JsonPayloadMiddleware->process(Object(Zend\Diactoros\ServerRequest), Object(Minds\Core\Router\Dispatcher)) #21 /var/www/Minds/engine/Core/Router/Middleware/Kernel/CorsMiddleware.php(59): Minds\Core\Router\Dispatcher->handle(Object(Zend\Diactoros\ServerRequest)) #22 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\CorsMiddleware->process(Object(Zend\Diactoros\ServerRequest), Object(Minds\Core\Router\Dispatcher)) #23 /var/www/Minds/engine/Core/Router/Middleware/Kernel/RouteResolverMiddleware.php(68): Minds\Core\Router\Dispatcher->handle(Object(Zend\Diactoros\ServerRequest)) #24 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\RouteResolverMiddleware->process(Object(Zend\Diactoros\ServerRequest), Object(Minds\Core\Router\Dispatcher)) #25 /var/www/Minds/engine/Core/Router/Middleware/Kernel/ErrorHandlerMiddleware.php(64): Minds\Core\Router\Dispatcher->handle(Object(Zend\Diactoros\ServerRequest)) #26 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\ErrorHandlerMiddleware->process(Object(Zend\Diactoros\ServerRequest), Object(Minds\Core\Router\Dispatcher)) #27 /var/www/Minds/engine/Core/Router/Middleware/Kernel/ContentNegotiationMiddleware.php(45): Minds\Core\Router\Dispatcher->handle(Object(Zend\Diactoros\ServerRequest)) #28 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\ContentNegotiationMiddleware->process(Object(Zend\Diactoros\ServerRequest), Object(Minds\Core\Router\Dispatcher)) #29 /var/www/Minds/engine/Core/Router.php(105): Minds\Core\Router\Dispatcher->handle(Object(Zend\Diactoros\ServerRequest)) #30 /var/www/Minds/engine/index.php(9): Minds\Core\Router->route() #31 {main}         {""exception"":""[object] (TypeError(code: 0): Minds\\Helpers\\StringLengthValidators\\AbstractLengthValidator::validateMaxAndTrim(): Argument #1 ($target) must be of type string, null given, called in /var/www/Minds/engine/Entities/Image.php on line 375 at /var/www/Minds/engine/Helpers/StringLengthValidators/AbstractLengthValidator.php:74)""}
```

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
105897640,2022-04-01 15:22:43.512,Top feed not pulling in 150 items,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

`https://www.minds.com/api/v3/newsfeed/feed/unseen-top` is not pulling in 150 items. Often it appears to be only about 25.

### Steps to reproduce

Do api request to `https://www.minds.com/api/v3/newsfeed/feed/unseen-top`

### Platform information 

API

### What is the current *bug* behavior?

Less than the limit is consistently being returned depsite there being available items.

### What is the expected *correct* behavior?

- A limit of 150 posts
- Return an ordered newsfeed
- If the unseen part is preventing a full list being returned, then we should change the logic. Instead of excluding 'seen' posts, try to reduce their score so they show lower in the rankings.

### Relevant logs and/or screenshots

N/A

### Possible fixes

...",3
105879608,2022-04-01 10:36:02.912,Improve efficiency of holding rewards calculations,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Implement the result of the investigation at https://gitlab.com/minds/front/-/issues/5423

### Acceptance criteria

- BigQuery driver (@fausto.arci -> `composer require google/cloud-bigquery`)
- Write out query to get all token holders
- Change process of holding reward calcs to use BigQuery instead
- Tests
- Dry run via CLI (check it still works)",5
105849835,2022-04-01 00:32:53.612,Verified link broken in Apple mobile browser,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

Verified link broken in Apple mobile browser

User reported the ""click here to request to be verified"" link did not do anything on her Apple mobile browser

![1](/uploads/8e012a0bbd9cae0e07d6fbeb63f66b56/1.png)![2](/uploads/8386524286be1820c0848c36d83dad96/2.png)produce the issue - this is very important)

### Platform information 

unknown browser, iphone",2
105441915,2022-03-24 16:06:03.598,Refactor `moderation_reports_by_state` materialized view to use secondary indexes instead,"## Issue

Cassandra has consistency issues with Materialized Views. The report queue is reported by admins as being broken every couple months. We fix this by **dropping** the materialized view and recreating it.

## Proposal

Secondary Indexes work well for low-cardinality fields. As there are only a small number of states (reported, initial_jury, appealed, etc, it should work well.

## Acceptance criteria

- Support Secondary Indexes on the `moderation_reports` table for the `state` column
- Refactor `moderation_reports_by_state` to use `moderation_reports`",1
105441501,2022-03-24 15:58:43.907,Introduce FriendlyCaptcha backend services,"FriendlyCaptcha is an open source captcha system. Their backend is currently centralized, but the widget allows you to change the endpoint (https://docs.friendlycaptcha.com/#/verification_api).

## Acceptance Criteria

- Replace our captcha system with FriendlyCaptcha
- Ensure we are not relying on any 3rd parties and that we are using our own endpoints
- The cypress captcha bypass still works",5
105246422,2022-03-22 04:49:17.674,(bug): minds/phpspec container fails when executing backend tests locally with minds phpspec command,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

When executing the backend tests using the local Minds CLI as described [here](https://developers.minds.com/docs/getting-started/installation/#running-test-suite), I receive the following error:

```bash
Error response from daemon: failed to create shim: OCI runtime create failed: container_linux.go:380: starting container process caused: exec: ""../phpspec.sh"": permission denied: unknown
```

The Dockerfile for this container attempts to execute the script with its `ENTRYPOINT` instruction, however the file is not marked as executable. To resolve this we can prefix the command with `sh` in the `ENTRYPOINT` exec list.

After resolving this, the run still fails as at least one of the tests are using type declarations which are not supported with PHP 7.3 (the current version specified for the parent image).

```bash
Parse error: syntax error, unexpected 'bool' (T_STRING), expecting function (T_FUNCTION) or const (T_CONST) in /var/www/Minds/engine/vendor/symfony/event-dispatcher-contracts/Event.php on line 33
```

To resolve this, we could update the parent image to to `minds/php:8.0`. After a global search on the project it seems to me that the `minds/phpspec` container is only used by the local CLI, however I would appreciate feedback on this in case I missed anything.

### Steps to reproduce

To reproduce, you can run `minds rebuild && minds phpspec`. For me this fails in `master`, but all tests pass with my suggested changes.

### Platform information 

I'm using Linux Mint 20.3 (Ubuntu 20.04) for this, however I would think that these issues are platform agnostic.

### What is the current *bug* behavior?

Backend tests fail when executing them with the local Minds CLI (`minds phpspec`).

### What is the expected *correct* behavior?

All tests should pass when executing the above command.",2
105743508,2022-03-21 16:49:08.042,Users are clicking expired email verification links,"### Target problem

A high percentage of users who create accounts on Minds don't use the app after 2 hours. Tasman has identified a common pattern with these users:

- They haven't verified their email address
- They have multiple events showing them clicking the ""Resend"" button on email verification

### Hypothesis

- Verification emails end up in the user's spam folder and get missed
- If a user clicks ""Resend"" and later finds the emails in their spam folder, they may follow a verification link in an older verification email -- which will have expired and give them an error.

- [ ] Re-using the same verification link rather than generating a new one every time the user clicks ""resend,"" will result in a higher % of users who register. OR not expiring previous verification links after a new one is sent will have the same effect.

### What is the primary metric that this change is aimed to improve?

Daily registrations (email verifications) / Daily signups (new accounts created), can be measured in the [Growth Dashboard](https://analytics.minds.com/superset/dashboard/32/?native_filters=%28NATIVE_FILTER-jhvp9Gs1E%3A%28__cache%3A%28label%3AAuthentic%2CvalidateMessage%3A%21f%2CvalidateStatus%3A%21f%2Cvalue%3A%21%28Authentic%29%29%2CextraFormData%3A%28filters%3A%21%28%28col%3Aaccount_type%2Cop%3AIN%2Cval%3A%21%28Authentic%29%29%29%29%2CfilterState%3A%28label%3AAuthentic%2CvalidateMessage%3A%21f%2CvalidateStatus%3A%21f%2Cvalue%3A%21%28Authentic%29%29%2Cid%3ANATIVE_FILTER-jhvp9Gs1E%2CownState%3A%28%29%29%29).

### What is the current state of this metric, and what is the improvement goal?

Currently conversion is ~30%; 90%+ seems like a realistic goal for an action with such strong intent as signup.

### Size estimate

(Size estimate -- from Design + Dev -- required to deliver this change. Is just an estimate)

### Acceptance
- [ ] If the user generates multiple verification emails via the ""Resend"" button, following the `Verify Address` button in any email will verify the user's address.
- [ ] Keep links valid for 24 hours",3
106086083,2022-03-18 16:20:28.657,Deep-link for comment reply push notification doesn't work,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

- Given I'm on a mobile device,
- and I have the mobile app installed,
- and I receive a push notification for a comment / reply,
- when I tap the push notification,
- then the Minds app launches,
- and I see the last screen I visited within the app.

### Steps to reproduce

Follow steps above.

### Platform information 

iOS 15.3.x, iPhone 12 Mini, latest Test Flight build

### What is the current *bug* behavior?

Tapping the notification launches the app, but does NOT navigate me to the relevant reply / conversation.

### What is the expected *correct* behavior?

Tapping the notification launches the app, and DOES navigate me to the relevant reply / conversation.",2
105088971,2022-03-18 15:38:18.431,"IOS App , Minds + , scroll down error","When I visited Minds + page from IOS App, I wanted to scroll down and up, the titles of posts position were crashed. I attached a screenshot.

NerdyMind 

![1320F8E4-3253-4EFF-B9E6-9252DA180D6A](/uploads/df77e1ed657680f8871c1b29e029f9e0/1320F8E4-3253-4EFF-B9E6-9252DA180D6A.png)",2
105024073,2022-03-17 19:50:56.733,Remove extra space in subscriber push notification,"## Summary

The push notification for when you receive a new subscriber has an extra space in it at the end before ""you"". Remove the space.

## Screenshot

![IMG_8850](/uploads/c55e2e085af6438d6216dd5b8b9e7182/IMG_8850.jpg)",1
105013203,2022-03-17 16:06:45.704,Video upload broken on locals and sandboxes,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Possible permissions error - see chat for error message.

### Steps to reproduce

Try to upload a video on sandbox.

### Platform information 

Sandbox / Local stacks.

### What is the current *bug* behavior?

Bucket error.

### What is the expected *correct* behavior?

Should allow upload.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",3
104867264,2022-03-15 17:29:14.013,Send email about Rogan episode,"Subject: Joe Rogan interviews Minds CEO Bill Ottman and Daryl Davis

@name,

We are excited to share that Minds CEO Bill Ottman and advisor Daryl Davis were recently guests on The Joe Rogan Experience, and the episode is now live! 

Bill & Daryl discuss the launch of a research paper which they co-authored titled “[The Censorship Effect](https://www.minds.com/change/blog/the-censorship-effect-an-analysis-of-the-consequences-of-soc-1348668604911980550),” which examines the adverse effects of censoring speech online and proposes an alternative method to elevate global discourse through Internet freedom.

                       [Watch Episode](https://www.minds.com/newsfeed/1350517575166988298)

We encourage you all to watch the episode and share your thoughts about it on Minds with the hashtag [#ChangeMinds](https://www.minds.com/discovery/search?q=%23changeminds&f=top&t=all). If you would like to learn more about our initiative with Daryl, please visit [minds.com/change](https://minds.com/change).

Thank you for being a pioneer of the free and open Internet.

The Minds Team",1
104792939,2022-03-14 17:35:43.921,Copy cluster allocation algorithm to PHP from Python,"A users cluster_id is determined by what tags they have selected.

The python implementation (https://gitlab.com/minds/data-science/minds-etl/-/blob/master/prefect/update-recommendations-flow.py#L59) can be translated over to PHP. This avoids needing an additional database query to determine the cluster id.",8
104607309,2022-03-11 10:56:19.040,'top' discovery endpoint to support querying new recommendations engine,"The new recommendations index is now available and queryable under the `minds-clustered-entities-feed` index. Entities are clustered by `cluster_id` that every users will belong to. A user will belong to only **one** `cluster_id`.

## Example query

```json
{
    ""query"": {
        ""bool"": {
            ""must"": [
                {
                    ""term"": {
                        ""cluster_id"": 1
                    }
                }
            ]
        }
    },
    ""sort"": {
        ""score"": ""desc""
    }
}
```

## Determining the cluster_id

A users cluster_id is determined by what tags they have selected. 

The python implementation (https://gitlab.com/minds/data-science/minds-etl/-/blob/master/prefect/update-recommendations-flow.py#L59) can be translated over to PHP. This avoids needing an additional database query to determine the cluster id.

## Acceptance

- [ ] PHP side `cluster_id` calculation for a user
- [ ] A/B test between existing and new engine (feature name in engine-XXX-label format)
- [ ] New implementation to be on a new api endpoint
- [ ] For you tab displays recommendations

## Mapping

```
{
    ""settings"": {
        ""number_of_shards"": 1,
        ""number_of_replicas"": 2
    },
    ""mappings"": {
        ""dynamic"": false,
        ""properties"": {
            ""entity_guid"": {
                ""type"": ""keyword""
            },
            ""cluster_id"": {
                ""type"": ""integer""
            },
            ""score"": {
                ""type"": ""float""
            },
            ""total_views"": {
                ""type"": ""long""
            },
            ""total_engagement"": {
                ""type"": ""long""
            },
            ""@last_updated"": {
                ""type"": ""date""
            },
            ""@last_engaged"": {
                ""type"": ""date""
            },
            ""@first_engaged"": {
                ""type"": ""date""
            }
        }
    }
}
```",3
104499807,2022-03-09 17:37:56.677,Clicks on homepage nav open homepage with sidebar,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Clicks on homepage nav open homepage with sidebar

### Steps to reproduce

Open homepage
Click on topbar Minds logo

### Platform information 

Web

### What is the current *bug* behavior?

Opens sidebar and shows searchbar at top

### What is the expected *correct* behavior?

Should just reload on homepage, else return to homepage if logged out, else return to newsfeed if logged in.

### Relevant logs and/or screenshots

![image](/uploads/7b1a31e9a22e44509f971043e08dc426/image.png)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
104469998,2022-03-09 12:20:34.115,Verify phone input malformed,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

See screenshot

### Steps to reproduce

Verify phone from onboarding widget

### Platform information 

Web

### What is the current *bug* behavior?

Malformed input

### What is the expected *correct* behavior?

Input shouldn't be malformed

### Relevant logs and/or screenshots

![image](/uploads/c28ed0eda108c1877c6fa9649c523488/image.png)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
104424491,2022-03-08 19:32:56.809,Onboarding changes do not stick,"### Summary

Onboarding steps do not always stick.  I did not get this on video, but the first time I tried to ""take a picture"" with the rear camera on my iPhone 13, it did not stick.

### Steps

1. Create a new account on the latest version of the mobile app
2. Click ""earn tokens""
3. Click ""setup channel""
4. Make changes
5. Completion status toggles back and forth

### Relevant logs and/or screenshots

![video-1646767612](/uploads/34927dcad5939ed3c20cae82a0b2b459/video-1646767612.mp4)",3
104289514,2022-03-07 13:15:22.349,Remove downvote from Engagement Rewards calculation,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

Simplify the rewards system as communicated to users, remove hesitance to downvote for disagreement, and address counter-downvoting.

## What needs to be done

Back in December, we started using downvotes to deduct from a user's daily engagement score for Rewards. We should remove part of the engagement score calculation.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

- Requires running a CLI script for contributions and rewards jobs
- Bigquery may fail in sandboxes?

## UX/Design

No design implications.

## Personas

Regulars and Champions who are engaged in the Engagement Rewards system.

## Experiments

No experiments for this change.

## Acceptance Criteria

- [ ] Downvotes are no longer part of the calculation of daily rewards scores
- [ ] Ping @markryansallee to announce

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments

---

_Original issue description:_

It was supposed to be a measure against bots/spammets, but often if those accounts are downvotd, they downvote the user back with 2+ accounts.

Overall, users shouldn't be punished for controversial opinions (which often would get downvotes naturally)

Source: (klara asks for the possibility to filter out downvotes, but if they pose negative impact it's not needed) https://www.minds.com/newsfeed/1344014454941028356",2
103017936,2022-02-24 21:38:08.813,"Staging: Seeing duplicate ""Top"" Posts On Newsfeed","### Summary

User is seeing some duplicate posts on Minds Newsfeed Top page. 

### Steps to reproduce

1. Subscribe to a huge number of channels.
2. Open Newsfeed -> Top. 
3. Notice that some posts are showing up as duplicate. 

### Platform information 
Not browser specific - all web - Staging environment

### What is the current *bug* behavior?

Seeing duplicate posts in Top feed

### What is the expected *correct* behavior?

Only one post should appear in Top feed

**Example Post that is duplicated:** https://www.minds.com/newsfeed/1343657608958971915

**Found after merging:** https://gitlab.com/minds/minds/-/issues/2917

### Relevant logs and/or screenshots

Logs:
`element.style {
}
body .m-theme--wrapper.m-theme--wrapper__dark m-app m-body, body.m-theme__dark m-app m-body {
    background-color: #242a30;
}
m-body.has-v3-navbar {
    margin-top: 75px;
}
m-body {
    margin-top: 52px;
    display: block;
    min-height: 100%;
}
body .m-theme--wrapper.m-theme--wrapper__dark, body.m-theme__dark {
    color: hsla(0,0%,100%,.87);
    background-color: #242a30;
}
body, html {
    font-family: Roboto,Helvetica,sans-serif!important;
}
body, html {
    font-family: Helvetica,Arial,sans-serif;
    font-size: 14px;
    font-weight: 400;
    line-height: 20px;
}
html {
    color: rgba(0,0,0,.87);
}
::selection {
    background: #b3d4fc;
    text-shadow: none;
}
﻿
VM5:1 You are accessing the window.web3 shim. This object is deprecated, please use window.ethereum instead.
vendor-es2018.ea5ca00….js:3 Diagnostics ID: 100000000000000341 | Environment: staging
ha-socket-alb-io-us-…polling&t=NyjbJah:1 
 Failed to load resource: net::ERR_NAME_NOT_RESOLVED
/static/en/:1 
 Failed to load resource: the server responded with a status of 403 ()
vendor-es2018.ea5ca00….js:3 Boost rotator recording impressions for 0 1343205884137836549 true
blob:https://www.min…907a-8d5214caeb81:1 
 Failed to load resource: net::ERR_FILE_NOT_FOUND
11
vendor-es2018.ea5ca00….js:3 [rotator]: out of view 1800
blob:https://www.min…be30-d89c3931934c:1 
 Failed to load resource: net::ERR_FILE_NOT_FOUND
vendor-es2018.ea5ca00….js:3 [rotator]: out of view 1800
blob:https://www.min…bda4-a2dee86ec999:1 
 Failed to load resource: net::ERR_FILE_NOT_FOUND
29
vendor-es2018.ea5ca00….js:3 [rotator]: out of view 1800
/static/en/:1 
 Failed to load resource: the server responded with a status of 403 ()
21
vendor-es2018.ea5ca00….js:3 [rotator]: out of view 1800
blob:https://www.min…8391-3efe1db17cf8:1 
 Failed to load resource: net::ERR_FILE_NOT_FOUND
20
vendor-es2018.ea5ca00….js:3 [rotator]: out of view 1800
/static/en/:1 
 Failed to load resource: the server responded with a status of 403 ()
4
vendor-es2018.ea5ca00….js:3 [rotator]: out of view 1800
DevTools failed to load source map: Could not load content for chrome-extension://iplppiggblloelhoglpmkmbinggcaaoc/app/content.js.map: HTTP error: status code 404, net::ERR_UNKNOWN_URL_SCHEME`

### Possible fixes

Notes: Found by @ottman. Speculation: Might have something to do with Twitter sync imported posts.",5
103017807,2022-02-24 21:31:56.715,My subscriptions list is broken,"https://www.minds.com/ottman/subscriptions

I am trying to clear my subscriptions list but can't because I am seeing many channels that I am not subbed to. 

![subslist](/uploads/969291cd38480db356838765a879eeeb/subslist.png)",1
102818573,2022-02-21 19:19:50.751,Deprecate TheChecker,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

TheChecker is no longer in use and intentionally silently failing. We should comment out references and add docs to the class that it is soft deprecated, but leave the code intact should we wish to bring it back.

### Steps to reproduce

N/A

### Platform information 

Engine

### What is the current *bug* behavior?

Silent failure, no apparent behavior, it's just not working, which is intentional but not properly removed.

### What is the expected *correct* behavior?

As it is now, user should be able to register regardless of the email being deliverable.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

N/A",2
102806491,2022-02-21 15:19:21.349,Grant email change grace period before email verification,"I helped husband with creating a Minds account, and we misspelled the address. Therefore his email was never verified, but when we try changing the email address, it requires us to type a code we ""received"" on unverified email.

![image](/uploads/02cc9bd637d454506ea2f0b049b169da/image.png)

![image](/uploads/96989b7b2f48abdcb018e7659e121db9/image.png)",2
102781585,2022-02-21 09:58:22.242,replies push notification url doesn't have focusedCommentUrn,"currently, a push notification to an android device RE a reply to a comment is something like this:

```js
      {
        badge: '1',
        bigPicture: '',
        body: '@manishoo test 1',
        from: '81109256529',
        'google.c.sender.id': '81109256529',
        'google.delivered_priority': 'normal',
        'google.message_id': '0:1645433184626441%5f10f41cf9fd7ecd',
        'google.original_priority': 'normal',
        'google.sent_time': 1645433184621,
        'google.ttl': 2419200,
        largeIcon:
          'https://www.minds.com/icon/1280480594752442369/large/1630666363/1639137731/1645398217',
        tag: 'f9832e7eebafae4d666b5393f6b9697085a0630804defed415b0d1cbfcd7d011',
        title: 'manishoo_test2 tagged you in their comment',
        uri: 'https://www.minds.com/newsfeed/1313161938816995332',
        user_guid: '1153095520021913602',
      }
```

notice that it's `uri: 'https://www.minds.com/newsfeed/1313161938816995332'` and not `uri: 'https://www.minds.com/newsfeed/1313161938816995332?focusedCommentUrn=urn:comment:1313161938816995332:1342411969755353095:1342415072978276371:0:1342429418622029839'`

without the focusedCommentUrn in the url clients won't be able to navigate to the reply. unless they do another http request to `api/v3/notifications/single/:urn` and get the notification.",2
102597902,2022-02-17 09:32:22.204,recommendations endpoint throws 502 [STAGING],"recommendations endpoint on staging throws 502 for all ""location""s",3
102627299,2022-02-16 19:04:34.781,Comment ordering goes both directions when navigating to level 0 comment from notifications (Staging),"## Summary

When you click on a L0 comment notification on a post with more than one comment, you will see the rest of the comments ordered going both ways on the post. see video. 

## Replication Video

![Screen_Recording_2022-02-16_at_12.01.13_PM](/uploads/cb86728e9d93b36f864c476a179c3fca/Screen_Recording_2022-02-16_at_12.01.13_PM.mov)",2
102544656,2022-02-16 13:38:50.089,Copy tags table to pseudo id tag table,"- [x] Create a new schema for user_hashtags that is partitioned by pseudo_id
- [x] When loading user_hashtags, copy to pseudo_id_user_hashtags table",3
102224645,2022-02-10 18:14:10.907,"Elasticsearch\Common\Exceptions\BadRequest400Exception: {""error"":{""root_cause"":[{""type"":""action_request_validation_exception"",""reason"":""Validation Failed...","Believe this is caused when accessing the logged-out home page when it tries to load suggestions and no user is provided. 

Sentry Issue: [ENGINE-2Q1Z](https://sentry.io/organizations/minds-inc/issues/2837251825/?referrer=gitlab_integration)

```
Elasticsearch\Common\Exceptions\BadRequest400Exception: {""error"":{""root_cause"":[{""type"":""action_request_validation_exception"",""reason"":""Validation Failed: 1: id is missing;""}],""type"":""action_request_validation_exception"",""reason"":""Validation Failed: 1: id is missing;""},""status"":400}
  File ""/vendor/elasticsearch/elasticsearch/src/Elasticsearch/Connections/Connection.php"", line 693, in Elasticsearch\Connections\Connection::process4xxError
    $exception = new BadRequest400Exception($responseBody, $statusCode);
  File ""/vendor/elasticsearch/elasticsearch/src/Elasticsearch/Connections/Connection.php"", line 333, in Elasticsearch\Connections\Connection::Elasticsearch\Connections\{closure}
    $this->process4xxError($request, $response, $ignore);
  File ""/vendor/react/promise/src/FulfilledPromise.php"", line 28, in React\Promise\FulfilledPromise::then
    return resolve($onFulfilled($this->value));
  File ""/vendor/ezimuel/ringphp/src/Future/CompletedFutureValue.php"", line 55, in GuzzleHttp\Ring\Future\CompletedFutureValue::then
    return $this->promise()->then($onFulfilled, $onRejected, $onProgress);
  File ""/vendor/ezimuel/ringphp/src/Core.php"", line 341, in GuzzleHttp\Ring\Core::proxy
    $future->then($onFulfilled, $onRejected, $onProgress),
...
(22 additional frame(s) were not displayed)

Elasticsearch\Common\Exceptions\BadRequest400Exception: {""error"":{""root_cause"":[{""type"":""action_request_validation_exception"",""reason"":""Validation Failed: 1: id is missing;""}],""type"":""action_request_validation_exception"",""reason"":""Validation Failed: 1: id is missing;""},""status"":400} in /var/www/Minds/engine/vendor/elasticsearch/elasticsearch/src/Elasticsearch/Connections/Connection.php:693
Stack trace:
#0 /var/www/Minds/engine/vendor/elasticsearch/elasticsearch/src/Elasticsearch/Connections/Connection.php(333): Elasticsearch\Connections\Connection->process4xxError(Array, Array, Array)
#1 /var/www/Minds/engine/vendor/react/promise/src/FulfilledPromise.php(28): Elasticsearch\Connections\Connection->Elasticsearch\Connections\{closure}(Array)
#2 /var/www/Minds/engine/vendor/ezimuel/ringphp/src/Future/CompletedFutureValue.php(55): React\Promise\FulfilledPromise->then(Object(Closure), NULL, NULL)
#3 /var/www/Minds/engine/vendor/ezimuel/ringphp/src/Core.php(341): GuzzleHttp\Ring\Future\CompletedFutureValue->then(Object(Closure), NULL, NULL)
#4 /var/www/Minds/engine/vendor/elasticsearch/elasticsearch/src/Elasticsearch/Connections/Connection.php(345): GuzzleHttp\Ring\Core::proxy(Object(GuzzleHttp\Ring\Future\CompletedFutureArray), Object(Closure))
#5 /var/www/Minds/engine/vendor/elasticsearch/elasticsearch/src/Elasticsearch/Connections/Connection.php(241): Elasticsearch\Connections\Connection->Elasticsearch\Connections\{closure}(Array, Object(Elasticsearch\Connections\Connection), Object(Elasticsearch\Transport), Array)
#6 /var/www/Minds/engine/vendor/elasticsearch/elasticsearch/src/Elasticsearch/Transport.php(110): Elasticsearch\Connections\Connection->performRequest('POST', '/minds-metrics-...', Array, '{""query"":{""bool...', Array, Object(Elasticsearch\Transport))
#7 /var/www/Minds/engine/vendor/elasticsearch/elasticsearch/src/Elasticsearch/Client.php(1946): Elasticsearch\Transport->performRequest('POST', '/minds-metrics-...', Array, Array, Array)
#8 /var/www/Minds/engine/vendor/elasticsearch/elasticsearch/src/Elasticsearch/Client.php(1365): Elasticsearch\Client->performRequest(Object(Elasticsearch\Endpoints\Search))
#9 /var/www/Minds/engine/Core/Data/ElasticSearch/Client.php(49): Elasticsearch\Client->search(Array)
#10 /var/www/Minds/engine/Core/Suggestions/Repository.php(157): Minds\Core\Data\ElasticSearch\Client->request(Object(Minds\Core\Data\ElasticSearch\Prepared\Search))
#11 /var/www/Minds/engine/Core/Suggestions/Manager.php(200): Minds\Core\Suggestions\Repository->getList(Array)
#12 /var/www/Minds/engine/Core/Suggestions/Manager.php(125): Minds\Core\Suggestions\Manager->getFallbackSuggested(Array)
#13 /var/www/Minds/engine/Controllers/api/v2/suggestions.php(38): Minds\Core\Suggestions\Manager->getList(Array)
#14 /var/www/Minds/engine/Api/Factory.php(87): Minds\Controllers\api\v2\suggestions->get(Array)
#15 /var/www/Minds/engine/Controllers/api/api.php(76): Minds\Api\Factory::build(Array, Object(Zend\Diactoros\ServerRequest), Object(Zend\Diactoros\Response\JsonResponse))
#16 /var/www/Minds/engine/Core/Router/PrePsr7/Router.php(154): Minds\Controllers\api\api->get(Array)
#17 /var/www/Minds/engine/Core/Router/PrePsr7/Fallback.php(80): Minds\Core\Router\PrePsr7\Router->route('/api/v2/suggest...', 'get')
#18 /var/www/Minds/engine/Core/Router/Middleware/Kernel/RouteResolverMiddleware.php(81): Minds\Core\Router\PrePsr7\Fallback->handle(Object(Zend\Diactoros\ServerRequest))
#19 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\RouteResolverMiddleware->process(Object(Zend\Diactoros\ServerRequest), Object(Minds\Core\Router\Dispatcher))
#20 /var/www/Minds/engine/Core/Router/Middleware/Kernel/ErrorHandlerMiddleware.php(64): Minds\Core\Router\Dispatcher->handle(Object(Zend\Diactoros\ServerRequest))
#21 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\ErrorHandlerMiddleware->process(Object(Zend\Diactoros\ServerRequest), Object(Minds\Core\Router\Dispatcher))
#22 /var/www/Minds/engine/Core/Router/Middleware/Kernel/ContentNegotiationMiddleware.php(45): Minds\Core\Router\Dispatcher->handle(Object(Zend\Diactoros\ServerRequest))
#23 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\ContentNegotiationMiddleware->process(Object(Zend\Diactoros\ServerRequest), Object(Minds\Core\Router\Dispatcher))
#24 /var/www/Minds/engine/Core/Router.php(98): Minds\Core\Router\Dispatcher->handle(Object(Zend\Diactoros\ServerRequest))
#25 /var/www/Minds/engine/index.php(9): Minds\Core\Router->route()
#26 {main}
```",1
101820720,2022-02-03 14:16:21.643,installer failing: configuration key `verify-service-sid` is not present on defaults or command line arguments,"```
INSTALLING MINDS
Installer verified
All settings correct for using Composer
Downloading...

Composer (version 2.2.5) successfully installed to: /var/www/Minds/engine/composer.phar
Use it: php composer.phar

Setting up Keys
Running install
- Building configuration file:
Warning: Undefined array key ""scheme"" in /var/www/Minds/engine/Core/Provisioner/Installer.php on line 191

Warning: Undefined array key ""email"" in /var/www/Minds/engine/Core/Provisioner/Installer.php on line 199

cli.php: [ERROR] Configuration key `verify-service-sid` is not present on defaults or command line arguments
    at makeError (/Users/manishoo/Projects/minds/minds/local/node_modules/execa/lib/error.js:59:11)
    at handlePromise (/Users/manishoo/Projects/minds/minds/local/node_modules/execa/index.js:114:26)
    at runMicrotasks (<anonymous>)
```",2
101736455,2022-02-02 13:06:43.908,Upgrade Growthbook PHP SDK and build out Features support in wrapper class.,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

We're informed the Growthbook team intends to release an upgrade to the PHP SDK at the end of next week (Making the estimate 11th Feb 2022) with support for Features - making a card so we can upgrade.

While we are there we should build out support for Features in the wrapper class - as that is the main thing we need from the upgrade to allow us to run experiments engine side.

## Caching

Front-end is caching for 24 hours. Backend should to the same (consider redis).",5
104613727,2022-01-31 22:34:30.037,Auto-enroll users in Open Boosts,"Automatically opt a subset of users into viewing Open Boosts, based on their responses to the Build Your Algorithm survey.

Include all users whose responses meet ALL of these requirements:

- I prefer: Mature content > 69
- I prefer: Challenging opinions > 69
- Misinformation: Should be debated > 69

Based on an export of responses in December, this set of requirements should include about 15% of BYA respondents.

Upon completion of the BYA survey, opt user into Open Boosts if their responses match the conditions above.

For users who've previously completed the BYA survey, do a one-time batch process to opt them into Open Boosts if their responses match the conditions above.

![image](/uploads/fea9b6e74726217bfcfc60ada695e34b/image.png)

## Acceptance

- Given a user hasn't previously completed the Build Your Algorithm survey,
- and the user starts the BYA survey,
- and the user's responses DO meet the criteria listed above,
- when the user clicks to save their BYA settings,
- then their Settings > Boosted Content > Open Content setting is automatically set to `Enable`.
---
- Given a user hasn't previously completed the Build Your Algorithm survey,
- and the user starts the BYA survey,
- and the user's responses DO NOT meet the criteria listed above,
- when the user clicks to save their BYA settings,
- then their Settings > Boosted Content > Open Content setting is not changed from its prior setting.
---
- Given a user HAS previously completed the Build Your Algorithm survey,
- and the user's responses meet the criteria listed above,
- when when Minds runs a one-time batch process described above,
- then their Settings > Boosted Content > Open Content setting is automatically set to `Enable`.
---
- Given a user HAS previously completed the Build Your Algorithm survey,
- and the user's responses meet the criteria listed above,
- and the user has been automatically opted into Open Content: `Enable`,
- and the user navigates to the Settings > Boosted Content settings,
- when the user manually toggles the Open Content setting to `Disable`,
- and the user clicks Save Boost Settings,
- then the user's Open Content setting is kept `Disable`.

----

### Target problem

We have a persistent backlog of Open Boost orders that we're unable to fulfill. Few users opt into viewing Open Boosts, so inventory remains low.

If a Boost order gets slotted into Open and can't fulfill within a certain timeframe, the order gets cancelled and the user refunded their tokens.

### Hypothesis

We can significantly increase the number of users opted into Open Boosts if we use their Build Your Algorithm preference responses to automatically opt them into Open Boosts. By increasing the # of users opted into Open Boosts, we'll increase inventory and reduce the backlog, and in turn reducing the number of rejected Boost orders.

### What is the primary metric that this change is aimed to improve?

Open Boosts inventory

### What is the current state of this metric, and what is the improvement goal?

Unknown

### How does this change affect the desired metric?

See above.

### What counter metric will ensure that an increase in the primary metric is a positive for the product?

""Report post"" events on Boosts

### Size estimate

Unknown",5
101598963,2022-01-31 14:50:25.352,Apply bot score to all ES metrics and filter out of contribution scores,":warning: Currently blocked until tasman pipeline is working :warning: 

## Goals

- [ ] When an 'action' metric is saved to `minds-metrics-*` apply a bot accuracy field value
- [ ] Update ES mapping to be a float
- [ ] Apply a filter to only include metrics with a bot accuracy score below X (settings.php value)",8
101227462,2022-01-25 15:05:31.974,"""Top Feed"" is including posts that the user doesn't subscribe to","<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

The unseen top feed endpoint is returning global top posts, not posts from users you are subscribed to

### Steps to reproduce

`api/v3/newsfeed/feed/unseen-top`

### Platform information 

API

### What is the current *bug* behavior?

The unseen top feed endpoint is returning global top posts

### What is the expected *correct* behavior?

Posts from users you are subscribed to

### Relevant logs and/or screenshots

### Possible fixes

See api/v2/feeds/subscribed for the subscribed sub query logic",3
100849782,2022-01-18 15:19:13.919,Change the 'For you' discovery endpoint to use our new recommendations 'wider-network' algorithm instead of hashtags,"- [ ] Replace hashtags with 'wider-network' algorithm
- [ ] Remove top digest/hero content and show only feed
- [ ] A/B test for discovery 'For you' pageviews increasing
- [ ] Spec tests",5
100790088,2022-01-17 17:18:59.079,Post youtube links to feed instead of transcoding the video,- Post a rich embed post to feeds instead of transcoding the videos,3
100670034,2022-01-14 20:25:18.261,Rectify legacy token memberships,"## Summary

We have a number of users on legacy token memberships that are still being charged, but not activating the perks of Minds+ or Pro. 

This is a result of a fix we made a few months ago to the membership system, which Minds+ and Pro both use for recurring revenue. It was not noticed until recently that it had this impact on some users existing memberships.

## Rectification

- [x] Gather list of all impacted memberships
- [ ] ~~Refund all users who were charged tokens and did not unlock Minds+ or Pro features~~ (https://gitlab.com/minds/engine/-/issues/2207)
- [x] Cancel all upcoming recurring payments that will suffer from this problem
- [ ] ~~Send communication / apology to customers with reward / perk~~ (https://gitlab.com/minds/engine/-/issues/2207)

## Later

We should bring back the ability to pay monthly for Minds+ or Pro with tokens. This task has challenges but is outlined here:
https://gitlab.com/minds/engine/-/issues/1941",2
100588876,2022-01-13 14:20:19.884,Implement account quality score,"- [x] Sync matrix from tasman to a Cassandra table
- [x] Manager/Repository to read from Cassandra table and return the scores
- [ ] API controller to expose the score

## Unknown variables

- What the table schema will look like
- How many scores there will be


## Example schema

PRIMARY KEY (`user_guid`, `last_updated_ts`), `score`",5
100158568,2022-01-05 16:33:15.272,Tool creation for data population in local environment,Creating a tool to populate data in local environment in order to test functionality for recommendations module.,8
100144549,2022-01-05 12:30:39.387,Fix linter error with bin dir,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Retroactive card for the purpose of tracking the MR properly - Dir needs excluding - without fixing we wont be able to spin up any new engine sandboxes so bringing it into the sprint.",1
106462504,2021-12-24 18:56:06.194,(bug) Notifications | No Wire notifications,"I just noticed, that there is no issue for the missing notification for Wires. Notifications about wires stopped working after the notification update.

I think that kind of notification is missing overall, and people who were used to it are wondering what happened to it.

Related issue - additional category to sort notifs: https://gitlab.com/minds/front/-/issues/4810

I think it's relevant for you @omadrid , you were working with notifs in here https://gitlab.com/minds/front/-/issues/4768 and here https://gitlab.com/minds/front/-/issues/4886",3
100152230,2021-12-22 10:05:41.231,(bug) Comments | Photos in comments transformed into 100px x 100px tiny pictures (desktop only),"I suspect this issue may be connected to https://gitlab.com/minds/engine/-/issues/2175 - I thought they would get fixed together, but the images still cause trouble.

Steps:
1. Try posting nice full image in comment
2. Picture will transform into small, 100x100px picture

![untitled](/uploads/d9f0b861b41fb776b297c290f0262cde/untitled.mp4)

[The post where this glitch is present - 3rd level](https://www.minds.com/newsfeed/1320275272213204995)

PS: Works well on the phone app (Tested on Android)",3
99296845,2021-12-17 22:24:11.976,(bug) Gifs glitching,"Gifs seems to be glitching. A friend tried uploading one as a post, then we tested in comments, but it resulted as a broken gif.

Tested logged in with canary on Brave on Windows, and also tested on Microsoft Edge:

![untitled](/uploads/42252ba7b765efb4277fb8ed41b88eac/untitled.mp4)

Apparently [known issue](https://www.minds.com/newsfeed/1318703116098473991), but keeping card open because I didn't see one for this.",5
99294899,2021-12-17 21:56:38.275,(bug) Memberships | Members send $/tokens into void if person deletes their account,"When user deletes their profile, all their members should have their memberships cancelled. I also believe a cleanup like this should happen when someone deletes their membership tier.

I remember a while ago, I saw in my membership list an empty name, and had no idea who it was. Later on I figured out (don't remember how) it was Sara Bonito, who deleted her account.

I don't have screenshot from my Memberships, but I have screenshots of the emails:

<details><summary>Before deletion (September)</summary>
![image](/uploads/a29580b6074d4284fb0ed418b6101c5c/image.png)
</details>


<details><summary>After Deletion (October)</summary>
![image](/uploads/f5b3f3aa66b4d158d02dbde1165101e4/image.png)
</details>",3
99077519,2021-12-15 11:35:39.877,Recommendation module MVP - part 2,"# Note: This ticket is a follow up from #2108 

## Work left to do:
- [ ] Recommendations algorithms
  - [ ] Create 'wider-network' recommendations algorithm
  - [ ] Create 'inferred' recommendations algorithm (optional for this ticket)
- [ ] Spec tests
- [ ] Code documentation
- [ ] Manual testing in envs

## Vision for the module

We want to create a module that can be easily expanded as we learn more about our data and usage patterns of the site. For example we want to be able to support multiple answers such as 'posts that by subscriptions have voted on' but also 'top posts my subscriptions have made'.

The API should be able to dynamically determine what algorithms or queries to return based on the `location` that is provided. This will allow us to easily change the recommendations and run experiments from a single place. The frontend only needs to support a simple component that can render the entities.  

### Example API Call

#### GET `api/v3/recommendations/?location=feed-sidebar`
RESPONSE:
```json
{
  ""query"": ""wider-network"",
  ""entities"": [ ],
}
```
```json
{
  ""query"": ""inferred"",
  ""entities"": [ ],
}
```
```json
{
  ""query"": ""favourite-subscribed-posts"",
  ""entities"": [ ],
}
```

### Example queries

#### Wider network
This will return entities from my wider network (ie. content that my subscribers have interacted with.

#### Inferred 
This will return entities based on content that I have interacted",13
98377923,2021-12-02 22:27:48.267,Guest mode feed duplicates at position 36,"## Summary

If you scroll down the guest mode feed, the feed starts over at position #36 and you begin to see the same posts again.

## Steps to replicate

1. Visit guest mode in staging
2. Scroll down feed to position 36
3. You will see content replicates and starts over from top

## Platform Info

- Macbook Air 13 inch
- Brave, Chrome
- Replicated by multiple team members",2
98200514,2021-11-30 21:23:31.884,Issue airdrop for twitter sync,"## Summary

- [x] Step 1 - Gather necessary data to issue airdrop for users who connected to Twitter with over 25,000 followers.
- [x] Step 2 - Issue airdrop off-chain to all users based on spreadsheet, on or before December 31, 2021

## Ideal Spreadsheet

| User ID | Date Connected to Twitter | Twitter Followers | Referring Minds User ID |
| ------ | ------ | ------ | ------ |
| cell | cell | cell | cell |
| cell | cell | cell | cell |",1
98161819,2021-11-30 09:52:28.382,Top Feed: seeing feed entities on the client side,"**As a user, given I've received the top feed, I want to mark as seen only the posts I've actually seen**

it's important not to assume and mark all returned posts in this endpoint as 'seen'. we should have an `api/v3/newsfeed/see` (or something like that) endpoint where the client calls with some UUIDs and marks them as read. this way we have more control over whether the user has actually seen a post or not

follows https://gitlab.com/minds/engine/-/issues/2145",5
97875391,2021-11-24 12:03:47.573,Implement on-the-fly skETH distribution strategy,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Supersedes investigative card at https://gitlab.com/minds/engine/-/issues/2144

We can add gas price calculations to all SKALE contract calls, [like so](https://gitlab.com/minds/engine/-/issues/2144#note_740426909), and have the user call an endpoint (and wait for the transaction to come in) if they do not have enough skETH to make a transaction.

### Spec

#### Engine

The endpoint should be added to the [SKALE routes](https://gitlab.com/minds/engine/blob/102cc1764afcf9b887b769dacc24b18679f52014/Core/Blockchain/SKALE/Routes.php), merging into the `feat/skale-prototype branch`, and **MUST** be rate-limited, best to do this by `user_guid`, `ip_hash`, `eth_address`, and `phone_num_hash`(?) in separate checks.

The request would ideally be made as a POST to `api/v3/blockchain/skale/faucet` with a parameter to pass the requested address through. It should only be accessible to logged-in users.

The endpoint should call a function in the SKALE `Controller`, which in turn should call a function in the SKALE `Manager`, that generates a new SKALE transaction to send an amount of skETH (see below ""How much should we send"" section).

This amount should be configurable in our `settings.php`.
The gas price per unit should also be configurable in our `settings.php` and exported to the front-end in the `skale` section of our blockchain config.

#### Front

The front-end will need modifying with all SKALE calls first checking the balance, using modified contract functions with an estimateGas param [as here](https://gitlab.com/minds/engine/-/issues/2144#note_740426909). We need to get the amount of gas required, multiply it by the gas price, then check a users balance to determine whether they have enough funds - if they do, we can let them withdraw, if they do not, we need to make a request to the engine endpoint above, then we should either:

* Implement a waiting state where a user waits for the tx, then metamask opens.
* Simply throw a toast warning saying we've send some skETH so they can make the transaction, and ask them to wait a short while and try again. 

### How much should we send

44,005 is the largest amount of gas I found required [digging through the block explorer](http://glamorous-syrma.explorer.dappnet.skalenodes.com/tx/0x0cc4191e7807b7e8bfdff2ceb2c7349afd87c090be6c517bbfc13850b0075fe9/internal-transactions). We can see this tx cost `0.0000000044005 skETH`. I think initially an amount of `0.00000022 SKETH` would provide enough for 50 of those large contract interactions, and sustain a user for quite a whilst, while remaining sustainable for us to distribute.",13
97875037,2021-11-24 11:56:00.681,Improve thumbnails creation speed,"

### Summary

We are currently building all the thumbnails from the full resolution source, a possible optimization for this can be making the thumbs in descending order (largest to smaller) and using the previous thumb as the source of the current one.

I did a quick local test and it's almost twice as fast and I couldn't note any quality difference between the resulting images.",3
97820102,2021-11-23 15:42:22.670,Use new blurhash extension to replace the php package,"

### Summary

In order to improve the performance, we will replace the package with a custom extension

https://gitlab.com/minds/engine/-/issues/1971",5
97801169,2021-11-23 11:21:44.361,[Investigation] Withdrawal payout transactions getting stuck,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

We need to come up with a solution for withdrawal payout transactions getting stuck. It is stressful for our members and puts strain on our admin team to be managing so many withdrawal issues.

Assess regression scope and time constraints.

### Steps to reproduce

It is not known exactly how this can be replicated at present, but one suspected frequent way this would happen is by approving two transactions in quick succession.

### Platform information 

Cross-browser web.

### What is the current *bug* behavior?

Members transaction appears as approved, but is not written to the chain.

### What is the expected *correct* behavior?

Member's transaction should be written to the chain.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

First - good read up on nonce handling here https://ethereum.stackexchange.com/a/2809 - a bit old but the information should still be accurate.

#### Diagnostic steps

###### 1. Monitoring
Log new transactions being dispatched on the backend in Sentry, with their nonce in the log string. This way we could monitor if there are any conflicts occurring, and see the patterns of nonce distribution to confirm or disprove the nonce collision hypothesis.

###### 2. Manually check failed TXs visibility in Infura
Make a note of the txid's of any failed payouts and query the Infura API to see if there is any way we can figure out what has happened - possibly via `eth_getTransactionByHash`.

#### Solutions to evaluate

##### 1. Nonce Cache
If it is found that the issues are with nonce conflicts, its entirely possible that upon deciding to dispatch a transaction with a new nonce, we could cache the nonce we've dispatched last, and increment there - there IS some logic here already but if an issue is found, it's obviously not working. Perhaps this is because pending doesn't include transactions that haven't hit the mem-pool yet, perhaps it's because of a bug in the code, perhaps it's because we're not using a shared instance of the class. 

![image](/uploads/c782da8f55c25c32fa1afeeb49c63e86/image.png)

##### 2. TX queue with Pulsar
A bit weightier a task, and IMO if we're going this route we should probably look to expand out into a Web3 microservice sooner rather than later; but we could refactor transactions out into a transactions queue, that awaits a transactions success status before moving onto the next one. The issue with this would be what happens when and if it gets stuck? Do we build in auto-retry logic?

##### 3. ITX with Infura (or Alchemy equivalent).
[ITX with Infura](https://infura.io/docs/transactions#section/Developing-with-ITX) may not be possible because I've not yet determined whether meta-transactions are possible with our contracts.
Regardless it would offer a solid solution to these kinds of issues AND gas pricing. It should be checked whether Alchemy offers a similar product.

##### 4. Do not allow admins to approve another withdrawal until the last is confirmed.
This is no doubt the option that would slow the admin team down the most, but is possibly the simplest. If we can determine from Infura that a transaction is still pending, we can simply throw an error when trying to approve the next transaction.

For improved UX, we could block the UI from making further requests with some kind of ""in progress"" indicator, and revoke the in-progress state when the tx is confirmed via sockets.

##### 5. Transaction retrier

We could build a state between `PENDING_APPROVAL` and `CONFIRMED`, ""`DISPATCHED`"" - a runner could iterate through ""`DISPATCHED`"" transactions periodically and redispatch any that have not been written to chain, or move them to `CONFIRMED`. We could also move to confirmed separately by listening to changes on the blockchain, similar to how we monitor for `PENDING => PENDING_APPROVAL`.

##### 6. Refactor Contracts
Expensive, difficult, and time-consuming but worth a mention. We could refactor contracts and architect withdrawals a bit differently, for example using a funding pool similar to SKALEs CommunityPool, where-in a user would deposit into a pool that they are free to withdraw from as they like - this pool could be used to pay for approvals. There are other ways that could be architected but that is one idea that comes to mind.

##### 7. Wait for L2 / Sidechain integration.
With L2 and sidechain integration, we should see quicker transaction resolution times which in theory should mean fewer issues.


### Additional resources

This is a known failed TX payout `0x05d3668a98737f7db00ac2d864b94cdb257aa1ce87b67b9e940540ca0e5f503d` from a couple of days ago - when we query Infura - we see nothing is found. 

```
{
    ""jsonrpc"": ""2.0"",
    ""method"": ""eth_getTransactionByHash"",
    ""params"": [
        ""0x05d3668a98737f7db00ac2d864b94cdb257aa1ce87b67b9e940540ca0e5f503d""
    ],
    ""id"": 1
}
```

Will return 

```
{
    ""jsonrpc"": ""2.0"",
    ""id"": 1,
    ""result"": null
}
```

In contrast to a known valid and confirmed transaction:

```
{
    ""jsonrpc"": ""2.0"",
    ""method"": ""eth_getTransactionByHash"",
    ""params"": [
        ""0xbb3a336e3f823ec18197f1e13ee875700f08f03e2cab75f0d0b118dabb44cba0""
    ],
    ""id"": 1
}
```

```
{
    ""jsonrpc"": ""2.0"",
    ""id"": 1,
    ""result"": {
        ""blockHash"": ""0xb3b20624f8f0f86eb50dd04688409e5cea4bd02d700bf6e79e9384d47d6a5a35"",
        ""blockNumber"": ""0x5bad55"",
        ""from"": ""0x398137383b3d25c92898c656696e41950e47316b"",
        ""gas"": ""0x1d45e"",
        ""gasPrice"": ""0xfa56ea00"",
        ""hash"": ""0xbb3a336e3f823ec18197f1e13ee875700f08f03e2cab75f0d0b118dabb44cba0"",
        ""input"": ""0xf7d8c88300000000000000000000000000000000000000000000000000000000000cee6100000000000000000000000000000000000000000000000000000000000ac3e1"",
        ""nonce"": ""0x18"",
        ""r"": ""0x2a378831cf81d99a3f06a18ae1b6ca366817ab4d88a70053c41d7a8f0368e031"",
        ""s"": ""0x450d831a05b6e418724436c05c155e0a1b7b921015d0fbc2f667aed709ac4fb5"",
        ""to"": ""0x06012c8cf97bead5deae237070f9587f8e7a266d"",
        ""transactionIndex"": ""0x11"",
        ""type"": ""0x0"",
        ""v"": ""0x25"",
        ""value"": ""0x1c6bf526340000""
    }
}
```",13
97745357,2021-11-22 14:52:09.513,Admins unable to bypass staggered MFA when adding missing withdrawals,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Admins are currently unable to bypass MFA for to add missing withdrawals. This is a regression in the MFA withdrawal changes where admin has not been made exempt from one part of the process. https://gitlab.com/minds/engine/-/commit/f1b0ba83deac32289ba2d7ba28e225243fd03613

### Steps to reproduce

1. Login as admin in Canary
2. Try to add a missing withdrawal.

### Platform information 

Platform agnostic web

### What is the current *bug* behavior?

Error shown (see below)

### What is the expected *correct* behavior?

Should allow the addition of a missing withdrawal

### Relevant logs and/or screenshots

![image](/uploads/9ecc19754c10f8fa9e7da9bdd90881be/image.png)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",3
97623383,2021-11-19 13:27:27.892,Explore improved trending tag logic,"It could be worthwhile exploring the current trending tag logic, and exploring if this could be improved.

* Current trending logic : https://gitlab.com/minds/engine/-/tree/master/Core/Trending
* https://www.minds.com/discovery/tags/trending

Trending tags are currently quite stale, and generally include broad tags such as `#life` `#politics` `#meme` - Trending should be a window into what's new / topical. New/topical tags presumably would be more effective in prompting engagement.

```Algorithm determines what is trending by favoring sharp spikes rather than gradual sustained growth, data scientist Gilad Lotan has explained. Trends are determined by a combination of volume and how much time it takes to create volume. In other words, one-day growth is trending, while 30 days is just more news.```

https://rethinkmedia.org/blog/how-does-twitter-decide-what-trending

cc @jotto141 - we touched on this last week, so thought I just create an issue what we can at least follow up on it moving forward.

## Deliverables

- [ ] Exploration
- [ ] Prototype of how it could work",5
97616746,2021-11-19 12:15:44.452,Build node web3 microservice PoC,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

Merge Requests to evaluate:

* Service: https://gitlab.com/minds/web3-server/-/merge_requests/1
* Engine side: https://gitlab.com/minds/engine/-/merge_requests/913
___

* Make a PoC express service that can handle Withdraw dispatching.
* Make endpoint for handling parameter encoding - returning encoded params in response.
* Make it able to handle message signing and transaction signing - returning signed data in response.
* Tie it in with the engine for withdrawals, delegating responsibility to the service.",20
97484263,2021-11-17 13:25:24.014,Create a blurhash php extension,Create a php extension for the blurhash encoder and include it on the minds PHP image,8
97474376,2021-11-17 10:39:52.758,Rollout Social Compass questionnaire and collect feedback,,2
97473362,2021-11-17 10:23:51.250,Extend the Core/Newsfeed/Controller to be able to support unseen 'top' content,"- [ ] 'api/v3/newsfeed/feed/unseen-top' endpoint
- [ ] Using a salted hash, so that we can see what a user has seen, record a list of seen entities in a redis key (use a 24 hour ttl).
- [ ] When fetching the top content, exclude the already seen keys",13
97380525,2021-11-15 19:24:20.086,Investigate and explore skETH faucet,"skETH is used to pay for transaction gas on the SKALE network and has NO MONETARY VALUE. Users have to have it to send transactions, and we need a method to distribute it to them.

We will need to investigate either:

##### 1. Distribution mechanisms for skETH 

* From a central wallet that users can request funds from?
* From a contract?
* Share X amount across all active wallets, give new accounts some? (how would users then get more?)

I'm concerned about the chance for Sybil attacks if we were to distribute the skETH ourselves. Though there's no monetary value associated with it, I do anticipate us having to try devise a Sybil-resistant distribution mechanism to prevent malicious users from trying to hoard skETH. This for example is an issue for things like Rinkeby ETH, where people try to hoard it despite it being valueless - thus faucets usually have to connect to Twitter to verify a users uniqueness.

##### 2. Allow members to mine in browser for skETH.

Even though its a very simple and lightweight in terms of operations (presuming this is the bulk of the logic https://github.com/skalenetwork/pow-demo/blob/main/skale-miner.js), this option would technically be building a miner into our web app, unless we spin a separate app up on a subdomain. We need to spin that demo app up locally so that we can get a full grasp of how things like a new block being proposed happen in any case to fully evaluate the option.

Various examples of methods of handling this can be found at:
* https://github.com/skalenetwork/pow-demo 
* https://docs.skale.network/skaled/3.7.x/skale-chain-eth",3
97169556,2021-11-11 13:23:15.967,Change guest-mode bottom banner text and make bar smaller,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

https://www.sketch.com/s/fa301655-276b-4d88-9247-9c61363c1eae/v/ebVWVW/a/JnpAyMr/r/w8ODnD",1
97027949,2021-11-09 16:42:54.726,Decide on bottom-bar text content for guest-mode,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

https://www.sketch.com/s/fa301655-276b-4d88-9247-9c61363c1eae/a/DPvWGve

Decided on this copy for now:

> Speak freely and earn crypto.

And this is with the expectation that we can reduce the height of the bar to (1) look good with the shorter string, and (b) be less in the way.",1
96583400,2021-11-02 14:24:56.275,Reports of email MFA codes still not working,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Some members are still reporting issues with their MFA codes not being accepted for various actions such as withdrawals and enabling other forms of MFA

### Steps to reproduce

Unable to replicate the issue at present.

### Platform information 

In this report, multiple devices with Windows 10 & Brave.

### What is the current *bug* behavior?

Member cannot enter the MFA code dispatched to their email (entered within a couple of minutes)

### What is the expected *correct* behavior?

The MFA code that is sent should be valid for 5 minutes.

### Relevant logs and/or screenshots

N/A

### Possible fixes

Fixing this issue will have to be somewhat blind - if we could find a way to replicate consistently, that would simplify the process slightly. One thing to check is that client-side timestamps are not being used, as there could be issues caused by timezones.",5
96526230,2021-11-01 17:51:26.364,Update circulating supply calculation in token analytics dashboard,"## Summary

The historical circulating supply data is incorrect because it thinks certain addresses are included in the calculation when they should not be.

We need to add a few more addresses to make sure they are not included in the calculation.

## Tasks

- [ ] Update addresses to exclude from Circulating Supply calculaton
- [ ] Re-run script to obtain historical data for Circulating Supply in token analytics dashboard

## Addresses To Exclude From Circulating Supply

- [x] Sale `0x1f28c6fb3ea8ba23038c70a51d8986c5d1276a8d`
- [x] Withdraw (current) `0x6f2548b1bee178a49c8ea09be6845f6aeaf3e8da`
- [x] Gnosis Safe `0xef5Be346D746761DC4a400A536E50B06B8F56b09`
- [x] Coinbase Custody `0x7ef271b4613c2f61ecd69fd4f5d1de91860bce4b`
- [x] Withdraw (legacy) `0x14e421986c5ff2951979987cdd82fa3c0637d569`
- [x] Minds General `0x1820ffad63fd64d7077da4355e9641dfff4dad0d`
- [x] Bounties `0x85c040378d17e84d5cc21398b3bbafe08e0eae6f`

## Addresses To Include In Circulating Supply (currently excluded)

- [ ] Boost `0x112ca67c8e9a6ac65e1a2753613d37b89ab7436b`
- [ ] Pro `0x97749850000766d54f882406adc9d47458b2c137`
- [ ] Create new address for Minds+ redemptions

## Questions

- Process to move reclaimed off-chain tokens into respective on-chain addresses (boost, pro, plus)
- What to do with Minds Sales wallet?
- What is the Minds Other wallet?",2
95776232,2021-10-20 09:53:37.682,Exception: Session required,"Sentry Issue: [ENGINE-VCG](https://sentry.io/organizations/minds-inc/issues/2377712746/?referrer=gitlab_integration)

```
Exception: Session required
  File ""/Core/Sessions/Manager.php"", line 319, in Minds\Core\Sessions\Manager::delete
    throw new Exception(""Session required"");
  File ""/Controllers/api/v1/authenticate.php"", line 162, in Minds\Controllers\api\v1\authenticate::delete
    $sessions->delete();
  File ""/Api/Factory.php"", line 87, in Minds\Api\Factory::build
    return $handler->$method($pages);
  File ""/Controllers/api/api.php"", line 91, in Minds\Controllers\api\api::delete
    return Factory::build($pages, $this->request, $this->response);
  File ""/Core/Router/PrePsr7/Router.php"", line 154, in Minds\Core\Router\PrePsr7\Router::route
    return $handler->$method($pages);
...
(9 additional frame(s) were not displayed)

Exception: Session required in /var/www/Minds/engine/Core/Sessions/Manager.php:319
Stack trace:
#0 /var/www/Minds/engine/Controllers/api/v1/authenticate.php(162): Minds\Core\Sessions\Manager->delete()
#1 /var/www/Minds/engine/Api/Factory.php(87): Minds\Controllers\api\v1\authenticate->delete(Array)
#2 /var/www/Minds/engine/Controllers/api/api.php(91): Minds\Api\Factory::build(Array, Object(Zend\Diactoros\ServerRequest), Object(Zend\Diactoros\Response\JsonResponse))
#3 /var/www/Minds/engine/Core/Router/PrePsr7/Router.php(154): Minds\Controllers\api\api->delete(Array)
#4 /var/www/Minds/engine/Core/Router/PrePsr7/Fallback.php(80): Minds\Core\Router\PrePsr7\Router->route('/api/v1/authent...', 'delete')
#5 /var/www/Minds/engine/Core/Router/Middleware/Kernel/RouteResolverMiddleware.php(81): Minds\Core\Router\PrePsr7\Fallback->handle(Object(Zend\Diactoros\ServerRequest))
#6 /var/www/Minds/engine/Core/Router/Dispatcher.php(57): Minds\Core\Router\Middleware\Kernel\RouteResolverMiddleware->process(Object(Zend\Diactoros
```",2
95775946,2021-10-20 09:52:09.924,Ensure iframely proxy exceptions are caught and not throwing 500 errors,"Sentry Issue: [ENGINE-2FYB](https://sentry.io/organizations/minds-inc/issues/2693683639/?referrer=gitlab_integration)

```
GuzzleHttp\Exception\ClientException: Client error: `GET https://open.iframe.ly/api/iframely?origin=minds&api_key=00d65e11718feb4a1e2956&url=https%3A%2F%2Fm.facebook.com%2Fstory.php%3Fstory_fbid%3D10209681773479153%26id%3D1774255843%26sfnsn%3Dmo` resulted in a `404 Not Found` response:
{
    ""status"": 404,
    ""error"": ""Iframely could not fetch the given URL. The content is no longer available at the ori (truncated...)

  File ""/vendor/guzzlehttp/guzzle/src/Exception/RequestException.php"", line 113, in GuzzleHttp\Exception\RequestException::create
    return new $className($message, $request, $response, $previous, $ctx);
  File ""/vendor/guzzlehttp/guzzle/src/Middleware.php"", line 65, in GuzzleHttp\Middleware::GuzzleHttp\{closure}
    throw RequestException::create($request, $response);
  File ""/vendor/guzzlehttp/promises/src/Promise.php"", line 204, in GuzzleHttp\Promise\Promise::callHandler
    $promise->resolve($f($value));
  File ""/vendor/guzzlehttp/promises/src/Promise.php"", line 153, in GuzzleHttp\Promise\Promise::GuzzleHttp\Promise\{closure}
    self::callHandler($id, $value, $handler);
  File ""/vendor/guzzlehttp/promises/src/TaskQueue.php"", line 48, in GuzzleHttp\Promise\TaskQueue::run
    $task();
...
(21 additional frame(s) were not displayed)

GuzzleHttp\Exception\ClientException: Client error: `GET https://open.iframe.ly/api/iframely?origin=minds&api_key=00d65e11718feb4a1e2956&url=https%3A%2F%2Fm.facebook.com%2Fstory.php%3Fstory_fbid%3D10209681773479153%26id%3D1774255843%26sfnsn%3Dmo` resulted in a `404 Not Found` response:
{
    ""status"": 404,
    ""error"": ""Iframely could not fetch the given URL. The content is no longer available at the ori (truncated...)
 in /var/www/Minds/engine/vendor/guzzlehttp/guzzle/src/Exception/RequestException.php:113
Stack trace:
#0 /var/www/Minds/engine/vendor/guzzlehttp/guzzle/src/Middleware.php(65): GuzzleHttp\Exception\RequestException::create(Object(GuzzleHttp\Psr7\Request), Object(GuzzleHttp\Psr7\Response))
#1 /var/www/Minds/engine/vendor/guzzlehttp/promises/src/Promise.php(204): GuzzleHttp\Middleware::GuzzleHttp\{closure}(Object(GuzzleHttp\Psr7\Response))
#2 /var/www/Minds/engine/vendor/guzzlehttp/promises/src/Promise.php(153): GuzzleHttp\Promise\Promise::callHandler(1, Object(GuzzleHttp\Psr7\Response), NULL)
#3
```",2
95775342,2021-10-20 09:49:19.786,TypeError: Minds\Controllers\api\v1\blog::checkBalance(): Argument #1 ($user) must be of type Minds\Entities...,"Sentry Issue: [ENGINE-QBW](https://sentry.io/organizations/minds-inc/issues/1829367935/?referrer=gitlab_integration)

```
TypeError: Minds\Controllers\api\v1\blog::checkBalance(): Argument #1 ($user) must be of type Minds\Entities\User, null given, called in /var/www/Minds/engine/Controllers/api/v1/blog.php on line 156
  File ""/Controllers/api/v1/blog.php"", line 442, in Minds\Controllers\api\v1\blog::checkBalance
    private function checkBalance(User $user): bool
  File ""/Controllers/api/v1/blog.php"", line 156, in Minds\Controllers\api\v1\blog::get
    $response['require_login'] = !$this->checkBalance($owner);
  File ""/Api/Factory.php"", line 87, in Minds\Api\Factory::build
    return $handler->$method($pages);
  File ""/Controllers/api/api.php"", line 76, in Minds\Controllers\api\api::get
    return Factory::build($pages, $this->request, $this->response);
  File ""/Core/Router/PrePsr7/Router.php"", line 154, in Minds\Core\Router\PrePsr7\Router::route
    return $handler->$method($pages);
...
(9 additional frame(s) were not displayed)

TypeError: Minds\Controllers\api\v1\blog::checkBalance(): Argument #1 ($user) must be of type Minds\Entities\User, null given, called in /var/www/Minds/engine/Controllers/api/v1/blog.php on line 156 and defined in /var/www/Minds/engine/Controllers/api/v1/blog.php:442
Stack trace:
#0 /var/www/Minds/engine/Controllers/api/v1/blog.php(156): Minds\Controllers\api\v1\blog->checkBalance(NULL)
#1 /var/www/Minds/engine/Api/Factory.php(87): Minds\Controllers\api\v1\blog->get(Array)
#2 /var/www/Minds/engine/Controllers/api/api.php(76): Minds\Api\Factory::build(Array, Object(Zend\Diactoros\ServerRequest), Object(Zend\Diactoros\Response\JsonResponse))
#3 /var/www/Minds/engine/Core/Router/PrePsr7/Router.php(154): Minds\Controllers\api\api->get(Array)
#4 /var/www/Minds/engine/Core/Router/PrePsr7/Fallback.php(80): Minds\Core\Router\PrePsr7\Router->route('/api/v1/blog/99...', 'get')
#5 /var/www/Minds/engine/Core/Router/Middleware/Kernel/RouteResolverMiddleware.php(81): Minds\Core\Router\PrePsr7\Fallback->handle(Object(Zend\D
```",1
95775116,2021-10-20 09:47:15.603,"TypeError: setcookie(): Argument #2 ($value) must be of type string, Lcobucci\JWT\Token\Plain given","Sentry Issue: [ENGINE-Y8Y](https://sentry.io/organizations/minds-inc/issues/2509747153/?referrer=gitlab_integration)

```
TypeError: setcookie(): Argument #2 ($value) must be of type string, Lcobucci\JWT\Token\Plain given
  File ""/Common/Cookie.php"", line 70, in setcookie
    setcookie($this->name, $this->value, $this->expire, $this->path, $this->domain, $this->secure, $this->httpOnly);
  File ""/Common/Cookie.php"", line 70, in Minds\Common\Cookie::create
    setcookie($this->name, $this->value, $this->expire, $this->path, $this->domain, $this->secure, $this->httpOnly);
  File ""/Core/Sessions/Manager.php"", line 283, in Minds\Core\Sessions\Manager::save
    ->create();
  File ""/Core/SSO/Manager.php"", line 161, in Minds\Core\SSO\Manager::authorize
    ->save();
  File ""/Controllers/api/v2/sso/authorize.php"", line 59, in Minds\Controllers\api\v2\sso\authorize::post
    ->authorize($_POST['token']);
...
(12 additional frame(s) were not displayed)

TypeError: setcookie(): Argument #2 ($value) must be of type string, Lcobucci\JWT\Token\Plain given in /var/www/Minds/engine/Common/Cookie.php:70
Stack trace:
#0 /var/www/Minds/engine/Common/Cookie.php(70): setcookie('minds_sess', Object(Lcobucci\JWT\Token\Plain), 1637315192, '/', '', true, true)
#1 /var/www/Minds/engine/Core/Sessions/Manager.php(283): Minds\Common\Cookie->create()
#2 /var/www/Minds/engine/Core/SSO/Manager.php(161): Minds\Core\Sessions\Manager->save()
#3 /var/www/Minds/engine/Controllers/api/v2/sso/authorize.php(59): Minds\Core\SSO\Manager->authorize('eyJ0eXAiOiJKV1Q...')
#4 /var/www/Minds/engine/Api/Factory.php(87): Minds\Controllers\api\v2\sso\authorize->post(Array)
#5 /var/www/Minds/engine/Controllers/api/api.php(81): Minds\Api\Factory::build(Array, Object(Zend\Diactoros\ServerRequest), Object(Zend\Diactoros\Response\JsonResponse))
#6 /var/www/Minds/engine/Core/Router/PrePsr7/Router.php(154): Minds\Controllers\api\api->post(Array)
#7 /var/www/Minds/engine/Core/Router/PrePsr7/Fallback.php(8
```",1
95528523,2021-10-16 13:36:58.875,Old account validation issue,![Screenshot_20211014-093218_Twitter](/uploads/1865f7e24f298ab880e69770d866779c/Screenshot_20211014-093218_Twitter.jpg),2
97494876,2021-10-14 14:39:34.694,"""api/v3/oauth/token"" should not return a valid session if the user is banned","Currently, when an account is banned, they will be able to log into the app and get past the auth state. But when they enter the app they can't do anything. And when the app is restarted, they will go back to the auth page.

## What should happen

- Given a user is banned, an error should be shown on the login screen.
- Given a user is banned and they're logged in, an error should be shown to them to let them know they've been banned and they should be navigated to the login screen.",1
94957709,2021-10-06 13:48:19.979,Create a Recommendations module that is expandable,"- [x] Create a module that can return entities based on a 'placement' variable
- [x] api/v3/recommendations controller
- [x] Spec tests


## Recommendations algorithms
  - [x] use Suggestions for 'suggested-channels' algorithm
  - [x] Create 'wider-network' recommendations algorithm
  - [ ] Create 'inferred' recommendations algorithm

## Vision for the module

We want to create a module that can be easily expanded as we learn more about our data and usage patterns of the site. For example we want to be able to support multiple answers such as 'posts that by subscriptions have voted on' but also 'top posts my subscriptions have made'.

The API should be able to dynamically determine what algorithms or queries to return based on the `location` that is provided. This will allow us to easily change the recommendations and run experiments from a single place. The frontend only needs to support a simple component that can render the entities.  

### Example API Call

#### GET `api/v3/recommendations/?location=feed-sidebar`
RESPONSE:
```json
{
  ""query"": ""wider-network"",
  ""entities"": [ ],
}
```
```json
{
  ""query"": ""inferred"",
  ""entities"": [ ],
}
```
```json
{
  ""query"": ""favourite-subscribed-posts"",
  ""entities"": [ ],
}
```

### Example queries

#### Wider network
This will return entities from my wider network (ie. content that my subscribers have interacted with.

#### Inferred 
This will return entities based on content that I have interacted",20
23758703,2019-08-14 01:23:06.806,(feature) Extend the individual entities to return the permissions object on activities,"When we get a specific entity, we need to include its permissions so the front end can parse its flags",3
23758676,2019-08-14 01:19:29.098,(feature) Extend feeds to return the permissions objects with their results,"Whenever we return a feed, we have the list of entities we need to permit.

We can implement the new permissions as middleware and return the permissions blob in the export",8
23758574,2019-08-14 01:10:25.788,(feature) Prevent editing of entities on the backend,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,8
23758561,2019-08-14 01:08:41.426,(feature) Prune entities denied by permissions from from the api responses.,"When a user marks a channel closed, the feeds need to return their entities through the Permissions object

Any entity that does not have the View permission must be removed.

The ACL permissions check must also make sure the individual channels are blocked",8
23758467,2019-08-14 01:01:05.224,Re-index closed channels in the feed,"- [ ] Move user mode change to own endpoint
- [ ] Delegate should trigger index of all entities (copy from delete flag part)
- [ ] Introduce a central entities/owner propagator.",3
23753381,2019-08-13 19:40:49.500,(bug): Fix notifications for sandboxes,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
23745517,2019-08-13 14:45:09.948,(feat): Increase pinned posts cap to 12 for Pro channels,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
23675098,2019-08-11 16:47:30.295,Set default license for media,Users should be able to set a default license on their media.,4
23582860,2019-08-07 17:17:12.738,(feat): Settings to allow forcing dark/light scheme,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
23553454,2019-08-06 20:41:29.234,"(feat): Logging in/signing up via Pro Domain should auto-subscribe the new user to that channel, if not already",,2
23552883,2019-08-06 20:03:04.014,(feat): Pro channel endpoint to filter by hashtag and/or query,To be used by hashtag and search listings,3
23552722,2019-08-06 19:53:03.298,(feat): Pro Settings tab for categories (hashtags),"Structure should be `{ tag: string, label: string }`. When normalizing, if no label, it should use `'#' . $entry['tag']`",2
23447939,2019-08-02 17:08:13.705,Re-index all autosuggested users with new analyzer to support numbers,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

It seems that usernames that are numbers, or begin with numbers, do not appear in search.
REF: https://www.minds.com/newsfeed/1003716877810827264

### Steps to reproduce

Search ""1085243"" in the top search bar. Observe ES does not find the user.

### Platform information 

Cross-platform

### What is the current *bug* behavior?

ElasticSearch is not weighting numerical names appropriately.

### What is the expected *correct* behavior?

The name should appear when typed in.

### Relevant logs and/or screenshots

![image](/uploads/f857bfcc52acc6809f7855c66556183a/image.png)

### Possible fixes

I'm presuming something needs tweaking at an ElasticSearch level.",4
23409227,2019-08-01 17:00:33.687,(feat): investigate how we can support transparent images for the logo,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
23394370,2019-08-01 13:22:20.237,(feat): Footer item settings,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
23356209,2019-07-31 15:54:58.605,Boosts from blocked users are being shown,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

When user 'A' blocks user 'B', user 'A' is being served the boosts from user 'B'.

### Steps to reproduce

1. Block a user
2. Go to Newsfeed
3. Boosts from that user persist

### What is the expected *correct* behavior?

Boosts should be blocked too.

### Relevant logs and/or screenshots

https://www.minds.com/newsfeed/1002258011014168576
https://www.minds.com/newsfeed/1031185109487849472",3
23329906,2019-07-31 02:16:25.865,(chore): Resolve !235 feedback (I),,5
23328594,2019-07-30 23:15:25.009,(fix): Campaigns entities should not be bypassing ACL,,2
23327607,2019-07-30 21:38:35.726,(feature) extend the front end to handle infinite feeds for groups,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
23327587,2019-07-30 21:37:13.866,(feature) Extend the front end to handle infinite feeds for the newsfeed,,2
23327568,2019-07-30 21:35:43.222,(feature) Extend the limit on group items to support infinite (just like a user's own feed),"Here's the feedback from the squad leaders on the current situation

Emi: There's a 150 posts hard limit on feeds right now.

Emi: We should workaround something for user's own feeds

Emi: because it seems that people like to scroll to the bottom of their own channel

Mark Harding: own channels is infinite now, newsfeed should be able to copy that logic easily

Emi: ah!, but I think they're mostly complaining about that for their own feeds and groups


Let's verify that there's more than a 150 posts on a user's own channel and then apply those changes to the back end",1
23327540,2019-07-30 21:33:41.838,(feature) Extend the limit on newsfeed items to support infinite (just like a user's own feed),"Here's the feedback from the squad leaders on the current situation

Emi: There's a 150 posts hard limit on feeds right now.

Emi: We should workaround something for user's own feeds

Emi: because it seems that people like to scroll to the bottom of their own channel

Mark Harding: own channels is infinite now, newsfeed should be able to copy that logic easily

Emi: ah!, but I think they're mostly complaining about that for their own feeds and groups


Let's verify that there's more than a 150 posts on a user's own channel and then apply those changes to the back end",10
23326880,2019-07-30 20:53:05.209,(refactor): Feeds should have a upper @timestamp bound to avoid showing scheduled posts,,8
23326854,2019-07-30 20:52:29.987,"(refactor): Blogs, images and videos should inherit time_created from it's parent activity.",,5
23326799,2019-07-30 20:51:32.536,(refactor): time_created can be passed from client when creating/editing,"If less than 5 minutes, it should be set to time(). If more than 3 months it should throw an exception. time_sent will be time().",4
23326743,2019-07-30 20:50:18.117,(feat): Add time_sent to Activity/Blog/Image/Video.,,4
23325157,2019-07-30 19:39:35.752,(fix): Ensure /fetch doesn't serve revoked/rejected/completed boosts (basic/campaigns),,3
23325079,2019-07-30 19:38:38.113,(feat): Payments delegate onConfirm should check all other payments to ensure budget covers the whole campaign,,5
23324971,2019-07-30 19:37:36.270,(feat): Validate all payments on validatePayments method at Payment delegate,,5
23324917,2019-07-30 19:37:01.276,(fix): Payment delegate onUpdate should act agains campaign (not campaignRef) with new payments merged in,,5
23324796,2019-07-30 19:35:32.547,(chore): Check engine date validation logic,"Creation: start cannot be in the past; end cannot be more than 1 month from start
Updating:
- If pending/created: start cannot be in the past; end cannot be more than 1 month from start
- If already running: start cannot be changed; end cannot be more than 1 month from start",4
23324699,2019-07-30 19:32:26.003,(feat): Implement lifecycle notifications to campaign owners,"On creation, payment confirmation/failure, cancel, reject and completion",3
23324687,2019-07-30 19:31:28.470,Implement daily fulfillment warning calculation (scheduled task),,8
23278569,2019-07-29 19:49:13.226,(fix): Delay when reading campaigns from elasticsearch,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
23271689,2019-07-29 15:56:18.255,(bug): Group chat stuck loading,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Group chats are not loading. Happens in canary and non-canary.

### Steps to reproduce

1. Open a group
2. See its not loading

### Platform information 

Reproduced on Chrome / Ubuntu and MacOS.

### What is the current *bug* behavior?

Group chat does not load.

### What is the expected *correct* behavior?

Group chat should load.

### Relevant logs and/or screenshots

```
""StaticInjectorError[l -> l]:
StaticInjectorError(Platform: core)[l -> l]:
NullInjectorError: No provider for l!""
```

![image](/uploads/2d5d8368e3c310dae241b92718157d12/image.png)

### Possible fixes

I see references to the CDN in the logs, need to further investigate.",1
23269018,2019-07-29 15:06:14.708,(fix): implement type filtering on Boost\Campaigns\ElasticRepository,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
23173308,2019-07-25 22:00:23.385,Container endpoint should support sorting algorithms,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
23173278,2019-07-25 21:58:36.614,(feat): Endpoint to return groups owned by a user,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
23173115,2019-07-25 21:54:07.037,(feat): Support uploading transparent images to be used as logo,"try and upload an unlisted image, and grab the /master version",3
23166803,2019-07-25 17:23:33.577,(feat): Pro settings,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
23161015,2019-07-25 14:03:56.192,(feat): new v2/feeds/channel endpoint,"Will try to load the channel's content from top. If that feed is empty, it will load latest.",3
23131895,2019-07-24 20:14:35.414,(fix): Campaign not starting as soon as payment is confirmed,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
23128042,2019-07-24 17:38:22.693,Divert embeded youtube videos to the modal,"- [ ] Avoid boost rotator glitch by launching youtube videos inside the modal
- [ ] Ensure it is still only 2 clicks. When the modal launches the iframe should be ready. (Do not use autoplay though as this causes issues with metrics).
- [ ] E2E test

",2
23120642,2019-07-24 15:08:39.101,(chore) Refactors to support PHP 7.3,"If you upgrade to php@7.2, phpspec will start failing because Minds\Entities\Object is now a reserved word. It won't even compile.

There are various additional errors that need resolving to upgrade to PHP 7.3...
* Use of `continue` in `case` statements that need replacing with either `break` or `continue 2`
* method signatures of classes that are extending an abstract class where the new method signatures do not match the method signatures of the abstract",2
23115980,2019-07-24 12:54:04.295,(chore): Enable boost/fetch/campaigns offset cache [after initial testing is done],,1
23115735,2019-07-24 12:46:14.389,"(fix): Avoid saving ""impressions_met"" to ElasticSearch on every impression",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
23115677,2019-07-24 12:44:00.854,(fix): Refund payments fractions are rounded down,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
23095853,2019-07-23 21:24:47.324,(chore) Fixes for *lots* of blocking and non-blocking errors in dev environment,"Too many to list them all, going to commit each individually with a description of what it's fixing.",2
23091922,2019-07-23 17:52:10.369,(feat): elasticsearch script for boost views prorating,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
26162926,2019-07-22 17:32:39.124,Moderation queue number incorrect & posts duplicating.,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

If you are a moderator of a closed group, when you've approved all of the posts, you will likely see one or two still remaining, that you are unable to approve, as they are not in the queue. You will also see that some posts that you have already approved, are duplicate in the feed, one approved entity, one unapproved, with nothing in the moderation queue.

### Steps to reproduce

Requires that you are a group moderator of a closed group.

### Platform information 

Cross-platform web

### What is the current *bug* behavior?

Queue will show posts awaiting approval that are not

### What is the expected *correct* behavior?

Queue should show empty if there are no posts to approve, furthermore posts should not be getting duplicated.

### Relevant logs and/or screenshots

Video at this link
https://www.minds.com/newsfeed/999958056778829824

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
23056272,2019-07-22 16:30:00.810,(fix): api/v2/entities returns error 500 on boost campaigns branch,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
23009419,2019-07-19 20:19:41.648,(bug): Plus not working locally,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
23000359,2019-07-19 13:42:56.516,(fix): fixes for boost campaigns,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
22999783,2019-07-19 13:20:01.695,(bug) endpoint api/v2/entities is not returning description for H&S group,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
22974972,2019-07-18 17:44:18.326,(feat): Change runners to facilitate new Minds Plus features,Preparing the runners for the change in Minds Plus for https://gitlab.com/minds/engine/issues/578,3
22970724,2019-07-18 15:10:22.156,(feat): adapt v2/boost/fetch/campaigns with new code from v2/boost/feeds,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
22969928,2019-07-18 14:44:53.416,(feat): Handle session cookies on Pro domains,,5
22969901,2019-07-18 14:44:02.857,"(refactor): Update Router CORS to support main minds domain, plus the current (sub)domain if Pro.",,8
22969865,2019-07-18 14:43:05.897,(feat): Core Module for Pro metadata and customization values.,Repository table dynamic data serialized with json_encode. User GUID should be the primary key. Materialized view with domain as key for lookups.,4
22969750,2019-07-18 14:39:24.913,(feat): User entity flag for Pro,Timestamp to be compared with time(). Create helper methods.,2
22966338,2019-07-18 13:08:23.831,(bug) gathering-heatbeat markers arrive at the client with an unsafe integer value for user_guid,"gathering-heartbeat markers are received with unsafe integer values where guid entities are sent as strings
```json
{
  ""user_guid"":994952798468575247,
  ""entity_type"":""group"",
  ""entity_guid"":""997822291385520137"",
  ""marker"":""gathering-heartbeat"",
  ""updated_timestamp"":1563367071,
  ""disabled"":false,
  ""read_timestamp"":null
}
```

This gives unexpected results if the value is use in Javascript",1
22912881,2019-07-17 09:01:43.513,(feat): Sending a daily notification about the total rewarded tokens in the previous day and allow the user to click and see the breakdown.,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
22846866,2019-07-16 16:31:25.374,(bug): notifications guid field is null,Endpoint /api/v1/notifications/...,2
22808736,2019-07-15 15:16:18.794,(test): Engine spec tests,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
22743484,2019-07-12 16:58:05.178,(chore) refactor activity links into a Propagate action,"We're doing a lot of this.

https://gitlab.com/minds/engine/blob/master/Core/Feeds/Firehose/Manager.php#L106

`foreach ($this->db->getRow('activity:entitylink:'.$entity->getGUID()) as $parentGuid => $ts) {`

Because blogs contain links to activities when they get published. Images and videos contain multiple links to activities (one image to many activities).  Yet, we have properties like NSFW, NSFW_LOCK, allow_comments ... etc that need to be propagated up and down the chain

So, when an owner or admin changes a property that applies to parents or their children, we need to create an action that applies those changes up and down the chain.

There's a question of source of truth. If there is a collision between a flag, who should win - the parent object or the object receiving the change?

Part of this card will be figuring out what flags need to be set and how they should be propagated.

Ideally, @markeharding wants them all to be activities with the attachments just inheriting the activities permissions, so we might want to take the opportunity to bring all our entities under the same banner. The activity has the permissions, the images, videos and blogs would just inherit their parent's permissions.

Looping in @markeharding @edgebal and @gthouret for their thoughts on how to roll this out.",10
22707889,2019-07-11 15:55:20.819,(refactor): boost campaigns rating should be calculated via nsfw,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
22676918,2019-07-10 17:33:07.211,(feat): Implement refunds [BC],Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,8
22676686,2019-07-10 17:19:59.997,(feat): Boost campaigns metrics and impressions,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,6
22645731,2019-07-09 19:52:27.018,(feat): Test notification for completed referral,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
22604489,2019-07-08 15:13:01.990,Backend for accepting subscription requests,"Create an api for requesting subscriptions to a channel
---------

**GET** `/api/v2/subscriptions/incoming`
> Gets a list of all pending subscription requests 

**PUT** `/api/v2/subscriptions/outgoing/{{channel_guid}}`
> Creates a new subscription request for a user
> Sends out a push notification to the channel owner that a new subscription request has been created

**DELETE** `/api/v2/subscriptions/outgoing/{{channel_guid}}`
> Deletes a subscription request made

**PUT** `/api/v2/subscriptions/incoming/{{channel_guid}}/accept`
> Accepts a new subscription request for a user, assigns them the subscriber role for that channel guid

**PUT** `/api/v2/subscriptions/incoming/{{channel_guid}}/decline`
> Denies a new subscription request",3
22604198,2019-07-08 15:05:49.506,(feature) Limit the feeds for channels to subscribers only,"When a user marks their channel as closed, we must update the feeds to only show to subscribers.

All posts in the feed will need to be marked with open and closed
Changing a channel's open or closed endpoint will need to reindex the channel
When a user requests a channel, we will need to provide a list of all channels they are subscribed too
We will need to exclude any entity which belongs to a closed channel that they do not subscribe too",15
22603819,2019-07-08 14:53:52.971,(feat) Implement api for marking channels closed or open,"Under the permissions module, extend the manager to be able to mark entities closed or open.

api/v2/permissions/channels/{guid} with { open, moderated, closed }

Set an attribute on the entity itself

The rbac permissions system will use this flag to determine whether or not subscribers and views can see and interact with this post",5
22603724,2019-07-08 14:51:08.746,(feat) Implement delete flag with the new permissions scheme,"Since our delete permissions are combined with editing permissions, this is an excellent place to start and role out the new RBAC permissions scheme.

Wherever we check for delete permissions, use the new role based stuff to calculate. When we look up an entitie's ownership, use RBAC to assign owner permissions. This will only have to get overridden by the admin roles and the group ownership roles",5
22603600,2019-07-08 14:47:15.231,(feat) Implement Zend RBAC framework for managing role based permissions,"In the Permissions Module, create a Roles namespace

Create roles for:
Admin
Moderator (user community folks with moderation privileges)
Owner (can own channels, groups or entities)
Subscriber (can subscribe to groups or channels)
Blacklisted (cannot see or interact with content)
Viewer (default permissions)

Track entity to role relationships
Admins are global, they have full permissions
Moderators are global, but they have limited permissions
Owners are associated to channels, groups or entities and have administrative privileges over things they own
Subscribers get permissions controlled by the owner


Permissions that can be assigned by roles (will grow over time)
canView
canDelete
canComment
canTag
canEdit
canBlacklist
canBlock  

TBD: flesh out individual permissions

Create admin endpoints under
/api/v2/permissions/users/{user guid}
GET Gets the user's permissions object, all roles, subscriptions,",20
22608137,2019-07-07 19:54:34.333,(bug): User images missing,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

https://www.minds.com/newsfeed/994094451015606272
A users images are not appearing correctly on the sidebar on a users profile, and in the images.

### Steps to reproduce

1. Visit https://www.minds.com/QuiteJane
2. Look at images (there should be many)

Note that the first time I did this, I could see all of her images fine. After going back and forth a few times, all dispeared.

### Platform information 

Cross platform on web only. (tested Android S7 edge on v3.7.2)

### What is the current *bug* behavior?

The images are not there.

### What is the expected *correct* behavior?

Her images should be visible.

### Relevant logs and/or screenshots

# The first attempt:
![Wire_2019-07-07_at_8_12_PM](/uploads/71427692997e7835a21bcd167c76d37e/Wire_2019-07-07_at_8_12_PM.png)

# After clicking around, they disappeared.

![image](/uploads/84c647561cf2e33137049d95e5b2859c/image.png)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",5
22551287,2019-07-05 14:54:51.908,(feat): v2/boost/fetch/campaign that returns boosts' and campaigns' urns && ownerGuid,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
22551157,2019-07-05 14:51:35.104,(bug): 500 error on editing blog activities text in newsfeed,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Changes to the activity of a blog are not saving. Checking the dev tools reveals a 500 error is at fault.

### Steps to reproduce

1. Post a blog.
2. Try to edit the test on your wall.

### Platform information 

Reproduced Chromium / Manjaro

### What is the current *bug* behavior?

Changes do not save.

### What is the expected *correct* behavior?

Changes should save.

### Relevant logs and/or screenshots

![image](/uploads/48eaf465267a64a62760ff98a9af39ac/image.png))

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
22551004,2019-07-05 14:45:08.404,(feat): Offchain 3 pending boost limit.,"Pending merge of https://gitlab.com/minds/engine/merge_requests/251 to avoid conflict

Chats with @IanCrossland and @javanick suggested that we put a pending boost limit of 3 boosts, to stop users spamming the queue with 1 token boosts, and also so that people cannot attempt to spam the network to gain overall control over the content being displayed.",5
22533278,2019-07-04 19:57:51.079,"(feat): If state decline expected, trigger event to send notification or email",,7
22533236,2019-07-04 19:55:02.706,"(feat): On user state state change, send a notification and notify of new reward multiplier",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
22533221,2019-07-04 19:54:01.023,(feat): Denormalize the user state on to entities,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
22533210,2019-07-04 19:53:19.183,(feat): Rewards issuance to pull in user state,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
22489431,2019-07-03 16:27:02.213,(feat): Make notifications fire on referral,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
22489404,2019-07-03 16:25:03.483,(feat): Create referrals notification delegate,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
22489363,2019-07-03 16:21:41.812,(feat): Add a notification view for referrals,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
22482568,2019-07-03 13:25:49.047,(chore): Review Ban Snapshot on sandbox (!247),Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
22481082,2019-07-03 12:41:10.050,(feat): Retry queue for ES indexing,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,6
22479737,2019-07-03 12:05:14.125,(feat): disable VPN restriction for staging server,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
22478851,2019-07-03 11:31:20.932,(feat): Backend - Yearly tier for Minds Plus Initial Endpoint and changes,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
22478744,2019-07-03 11:26:26.862,(feat): Introduce new Messenger table (remove from entities_by_time),Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
22477543,2019-07-03 10:31:24.288,(qa): Webhooks fire on successful payments,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
22477499,2019-07-03 10:29:20.939,(feat): Change 'wire' emails to respect currency,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
22477305,2019-07-03 10:20:59.555,(feat): Reintroduce stripe connect API's,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
22462989,2019-07-02 22:44:20.944,(feat): Queue runner that triggers campaign completion,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
22462974,2019-07-02 22:43:13.180,(feat): CLI Controller that triggers campaign start,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
22453673,2019-07-02 16:48:22.764,(feat) implement fetch from in feeds,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
22450359,2019-07-02 14:58:46.362,(refactor): Hashtags module to use Cassandra. Deprecate CockroachDB.,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
22425943,2019-07-01 21:56:07.527,(feat): Boost Delivery mechanism to fetch active campaigns and boost,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
22425935,2019-07-01 21:55:12.054,(chore): Rollback Raw Boost and normal Boost changes (re: #566),Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
22425871,2019-07-01 21:51:12.949,(refactor): Campaigns to use their own ES index and CQL table,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,8
126673625,2023-04-14 13:59:26.462,SPIKE: Use Vitess for storing Votes,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
Bringing comments to Vitess enables easier querying of a users social graph, it also helps us not show the same content in recommendations

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Create a prototype of storing votes in Vitess


## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/A

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
For feature flag

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Store votes in Vitess
- [ ] Query votes from Vitess, fallback to Cassandra for source of truth
- [ ] Migrating existing votes are out of scope

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",5
126190236,2023-04-03 23:51:19.397,Only export paywalled preview text when paywall context experiment is on,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->


## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
In https://gitlab.com/minds/engine/-/merge_requests/1289, we brought back 'teaser' text for paywalled media posts, which had been broken as a result of an unrelated bug. We made this change so that we can experiment with whether displaying a small amount of preview text increases Minds+ subscriptions https://gitlab.com/minds/minds/-/issues/3857. Because it _used_ to work, we implemented the backend change universally (e.g. NOT only for users in the experiment) and failed to consider how the teaser text would be displayed for users outside of the experiment. 

Currently, for users who are not in the experiment, we are only enabling 'read more' when the post's char count is > 280, but only 200 chars are exported for the teaser text. If the user isn't in the experiment, this results in teaser text looking like it just stops in the middle of a sentence, without a graceful transition (such as '...'). 

As seen in /newsfeed/1485362836300369927: 
![image](/uploads/9192f58341a56c36d5c858e55ef392f0/image.png)

The easiest way to fix this as was originally intended in https://gitlab.com/minds/minds/-/issues/3857 is to ""break"" the teaser text export again, only for users who are not included in the experiment. 

The change should be made in the `isStatusPost()` function in Core/Wire/Paywall/Events.php 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
Paywalled media teaser text 

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
n/a

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
Relates to 'minds-3857-paywall-context'

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Don't provide any teaser text for paywalled media posts for users outside of experiment 'minds-3857-paywall-context'

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",1
126072825,2023-03-31 14:51:25.474,Update Growthbook implementation to ensure stability of variation assignment,"## Goal

The value of running experiments in Growthbook comes from being able to reliably infer causal relations from the statistical difference of behaviour between a control group and treatment group. For this to be reliable, the assignment of a given user to a control group or a treatment group should be as stable as possible. There is room improve this stability in the current Growthbook integration.

## What needs to be done

- The first time an SDK call is made to select a user/device into a feature variation (in a logged-out state), save the selected variation to a dedicated local persistent cookie for that feature
- On all subsequent requests for a selection to a given feature (in logged-out state), first check to see whether a variation has been stored in a local persistent cookie. If so, return that value as the selection in the SDK call. If not, run the experiment assignment, and store the value as above

### Dev notes

https://gitlab.com/minds/front/-/blob/master/src/app/modules/experiments/experiments.service.ts#L85


- Store as a JSON object with a single key
- Confirm that it is an experiment before using the cached assignment

## QA

Ensure that for transitions between logged-in and logged-out states, and transitions to different devices and browser sessions that, as much as possible, the assignment of a variation for a given feature is stable for a given user.


## Acceptance Criteria

- [x] Logged-out variation assignments are stable between browser sessions
- [x] Logged-in variation assignments are consistent from session to session
- [x] Logged-out and logged-in assignments are consistent as much as possible
- [x] Rate-limiting of callbacks to Snowplow events, per-feature, are preserved as in the current implementation
- [x] Ensure rate-limiting is as reliable as possible (in both directions: not blocking events that should go, and blocking events that shouldn't go)

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA",3
126071976,2023-03-31 14:28:58.978,"Selection of recommendations cluster, post-signup, for newly-registered users","## Goal

Currently, new users, and users without any engagement data are all assigned to a default recommendations cluster.  The ETL pipeline is now providing a mechanism for selecting a cluster based on interest tags selected at signup. This task will make use of that facility when populating the Explore recommendations feed for such users

## What needs to be done

Obtain the list of selected interest tags for the user, place them in the appropriate query, and retrieve the corresponding cluster_id for recommendations. Use this cluster_id to populate the Explore recommendations feed.

## QA

Dev and data manual check of output data against inputs

## Acceptance Criteria

- [ ] New users and users without engagement data have feeds populated based on interest tag selection according to the query provided by the ETL pipeline

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA",3
126388369,2023-03-30 22:06:48.963,Update default tags in onboarding,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

Increase differentiation in audience interests indicated by interest tags selected during onboarding by updating the default tags presented.

## What needs to be done

Update the default tags presented in the onboarding tag selection modal.

![image](/uploads/5f7fde306a496983c1432214a13d4368/image.png)

| Order | Tag          | Change |
|-------|--------------|--------|
| 1     | technology   | keep   |
| 2     | crypto       | keep   |
| 3     | nature       | keep   |
| 4     | travel       | keep   |
| 5     | outdoors     | keep   |
| 6     | animals      | add    |
| 7     | memes        | keep   |
| 8     | erotica      | add    |
| 9     | news         | keep   |
| 10    | politics     | add    |
| 11    | spirituality | keep   |
| 12    | health       | add    |
| 13    | education    | add    |
| 14    | business     | add    |
| 15    | sports       | keep   |
| 16    | comedy       | keep   |
| 17    | fashion      | keep   |
| 18    | anime        | add    |
| 19    | gaming       | add    |
| 20    | art          | keep   |
| 21    | music        | keep   |
| 22    | photography  | keep   |


[Source](https://docs.google.com/spreadsheets/d/17YrfeEqFy6a7iyHAy0sr9hBQQIZScAwKlJxy4X5PPno/edit#gid=651592439)

OJM - these ones are removed: 
| REMOVE       |
|------------|
| blog      |
| minds      |
| myphoto    |
| videos     |
| journalism |
| blockchain |
| food       |
| nutrition  |
| film       |
| poetry     |

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Changes made as per table above

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",1
125987458,2023-03-30 08:19:55.602,Ensure payments are not created and captured when Vitess is down and cannot be written to.,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

If Vitess is for example in read-only mode, it appears as though payments will be taken but Vitess may not actually create the Boost

### Steps to reproduce

1. Have Vitess in read-only mode
2. Try to make a Boost

### Platform information 

Web

### What is the current *bug* behavior?

Payments are created with no Boost

### What is the expected *correct* behavior?

We need to fix this. We should also make sure that this doesn't happen on admin action.

Ideas:

- Writable state probe before we start the transaction.
- Graceful fallback logic in the event of failure (send tokens or cash back).
- Refactor logic to take payment after Boost creation, perhaps by creating it in a PENDING_PAYMENT state, then either failing or moving to pending based on whether payment is taken.

### Relevant logs and/or screenshots

N/A

### Possible fixes

See above",2
125958883,2023-03-29 17:40:45.285,Cannot post rich embed without content,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Cannot post rich embed without content

### Steps to reproduce

1. Post rich embed
2. Remove text
3. Hit post

### Platform information 

Web

### What is the current *bug* behavior?

Cannot post rich embed without content

### What is the expected *correct* behavior?

Should be able to post rich embed without content

### Relevant logs and/or screenshots

Pretty sure the issue was introduced here https://gitlab.com/minds/engine/-/merge_requests/1285/diffs#94ae1be37d4b0d4f24c8dd7cb64dee5e316f6e36_524_530

### Possible fixes

https://gitlab.com/minds/engine/-/merge_requests/1285/diffs#94ae1be37d4b0d4f24c8dd7cb64dee5e316f6e36_524_530",2
125882271,2023-03-28 10:12:58.040,Stripe conf issues for users with no emails,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Stripe conf issues for users with no emails

### Steps to reproduce

Try to post with no email

### Platform information 

Web

### What is the current *bug* behavior?

Can't post with no email

### What is the expected *correct* behavior?

Should be able to post 

### Relevant logs and/or screenshots

https://minds-inc.sentry.io/issues/4041441729/?query=is%3Aunresolved+user.id%3A756196975912689669&referrer=issue-stream&statsPeriod=14d&stream_index=5

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
125536036,2023-03-20 13:54:47.626,Backend support for accepting InAppPurchases for Minds+/Minds Pro,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
To comply with Google and Apple's terms of service, we are required to integrate in app payments for Minds+ and Minds Pro

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
See https://developer.android.com/google/play/billing/subscriptions#renewals

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

Note: The scope of the ticket is only in regards to Android's Minds+ and Minds Pro in-app purchases. Apple's in-app purchases will be implemented as part of a separate ticket TBC.

- [ ] Minds+ and Minds Pro can be be purchased and renewed
- [ ] Backend should be aware that a Minds+ subscription is via inapp purchases. Use the 'plus_method'.

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",8
125444124,2023-03-17 14:25:51.951,Attribute payments from Minds+ posts to the post owner,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
If a customer signs up for Minds+ by unlocking someone else's Minds+ post, and there are no referral cookies present, attribute the post owner as the affiliate. 

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
See AC

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Attribute the post owner as the affiliate

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",2
125443773,2023-03-17 14:19:58.539,Calculate affiliate earnings,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
Following from https://gitlab.com/minds/engine/-/issues/2543, we should issue the affiliate earnings to their partner earnings account.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
- A daily job that will read from https://gitlab.com/minds/engine/-/issues/2543 and calculate the aggregated deposit amount to make, similar to how Boost Partners work
- Affiliates will receive 45%, net of fees
- The referrer of the affiliate will earn 5% of what the affiliates has earned. This amount will come out of the Minds balance.

Affiliate revenue: Net spend * 0.45

Referrer revenue: (Net spend * 0.45) * 0.05

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Add deposits to Minds Commissions
- [ ] Validate the attribution percentage are as above

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",5
125443251,2023-03-17 14:11:06.797,Record affiliate transactions in a Vitess,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
In order to attribute affiliate earnings efficiently, we should store these transactions in Vitess.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

- Agree on a data model
- Store payment related information and their success/failure status

### Payments tables

Consider recording ALL payments in a table and having a column of who the affiliate was

### How the affiliate attribution works

- Referral cookie takes precedence
- If there is no referral cookie, fallback to User Entity -> Referrer field. If the Customer is greater than one year old, do not attribute the affiliate. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Agree on schemas to use
- [ ] We should know what payments should be attributed to which affiliate
- [ ] Respect the referrer cookie or user->referrer attribute values
- [ ] Boost, Minds Pay (Plus/Pro) should write the transactions

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",8
125435372,2023-03-17 12:38:14.603,Created time wrongly updated when edit a post,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

The created time of a post get wrongly updated when the post is edited. Even when a timestamp in the past is provided, it will be overwrite with current timestamp.

### Steps to reproduce

post to `api/v3/newsfeed/activity/{guid}` with a payload object containing 
```
{
...
  time_created: <timestamp>,
}
```

### Platform information 

Mobile

### What is the current *bug* behavior?

The created time of a post get wrongly updated when the post is edited and a timestamp is provided. 
The timestamp received is ignored and the created time will be overwrite with current timestamp.

### What is the expected *correct* behavior?

The created time should not be updated no matter the payload received unless scheduled.

### Relevant logs and/or screenshots

logs, and code as it's very hard to read otherwise.)

### Possible fixes

Mobile issue fixed #4828 by removing the `time_created` from payload.",2
125210214,2023-03-13 20:12:54.603,BlockchainRestrictions integration test failure,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

BlockchainRestrictions integration test failure

### Steps to reproduce

Open your logs, then on an account you do not mind being banned - go to:

`/api/v3/rewards/check/0x890099E17BfD3f49d8E5fe302B564997440d9079`

See it times out.

### Platform information 

CI, may happen in prod too though the ban will still work so it's effectively the same end result.

### What is the current *bug* behavior?

Request hangs

### What is the expected *correct* behavior?

Request should not hang.

### Relevant logs and/or screenshots

N/A

### Possible fixes


Looks like it may be an issue with a hanging of the SQS call in here:

```
            $this->banManager
                ->setUser($user)
                ->ban('1.4');
```

Should dig deeper though.",2
125113263,2023-03-10 17:33:01.088,Live comments are not working,"
### Summary

Live comments are not working. See screenshot.

### Steps to reproduce

1. Navigate to a post with comments
2. Notice the error message

### Platform information 

All - Prod

### What is the current *bug* behavior?

Live comments error message appears

### What is the expected *correct* behavior?

- [ ] Remove error message when sockets don't connect. It's ugly and alerts many smaller to medium-sized users to a problem they're not likely to notice or care about.
- [ ] Let DevOps room know if there is actually an issue with sockets.

### Relevant logs and/or screenshots

![20D8E903-84CD-4D02-9DEB-DC707F43D370](/uploads/cc8cb3ca124756e46335669a08a96cf6/20D8E903-84CD-4D02-9DEB-DC707F43D370.jpeg)",1
124991356,2023-03-08 18:20:12.171,Create Remote Search Index Dispatcher for Multi DC Support,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->


## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->


## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] ...

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",1
124891942,2023-03-07 15:54:07.411,Record 'create' metric in snowplow when a new post is made,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Adding 'create' events to snowplow will allow us to see attached contexts about the post.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
See acceptance criteria.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/A

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->
Everyone

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Composer should send snowplow contexts, consistent with other action events
- [ ] Strip out entity identifying information (guid, owner, etc) until we change our data retention policy
- [ ] Metrics should be sent to both elastic and snowplow

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",3
124559513,2023-02-28 12:27:03.007,Going to a boost page via notifications / email does not load Results & CPM data,"### Summary

Boost notification /email links take you to the specific boost page but does not load its results and cpm data. Occuring on mobile and web - mob investigation revealed that it is a backend issue (see comments)

### Steps to reproduce

1. Open minds app
2. navigate to a post and boost it
3. wait for boost to be accepted and notification to be thrown
4. tap on push notification
5. takes you to the post but results and cpm field is 0

Also triggerable via web through email links (report by Peggy with screenshots)

### Platform information 

- IPhone 13 Pro - Staging reported for mob.
- Likely platform agnostic.

### What is the current *bug* behavior?

Results and CPM field is 0

### What is the expected *correct* behavior?

Results and CPM values should match as in boost console for that post

### Relevant logs and/or screenshots

![529DCFDD-49DF-42BD-A006-3031A2B78DE6](/uploads/51cdc6c943c6397a5769e9d7dc89fa1f/529DCFDD-49DF-42BD-A006-3031A2B78DE6.jpeg)

![0C089F71-B591-433B-9709-C5661E1876B5](/uploads/5db8facd6b997c3c027e4d5f3fbbf52a/0C089F71-B591-433B-9709-C5661E1876B5.jpeg)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)

Check the `api/v3/boosts/:GUID` endpoint in the engine to make sure that the views count is happening correctly",3
124407893,2023-02-28 09:37:29.404,500 errors when trying to interact with entities,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

A 500 error is thrown when trying to interact with posts on discovery. Other pages may be impacted too.

See https://minds-inc.sentry.io/issues/3962878623/?environment=staging&project=1538020&query=is%3Aunresolved&referrer=issue-stream&statsPeriod=14d

### Steps to reproduce

Interact from https://www.minds.com/discovery/top

### Platform information 

Web

### What is the current *bug* behavior?

500 error is thrown.

### What is the expected *correct* behavior?

No error should be thrown. Types should be validated server side and not throw errors to the clients. 

### Relevant logs and/or screenshots

```json
{""client_meta"":{""platform"":""web"",""campaign"":""urn:activity:1470442537104707599"",""medium"":""feed"",""source"":null,""salt"":"""",""page_token"":"""",""delta"":0,""timestamp"":1677576602874}}
```

### Possible fixes

Types should be validated server side and not throw errors to the clients.",1
124352287,2023-02-27 12:04:05.789,Cannot reply to Superminds,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Cannot reply to Superminds.

### Steps to reproduce

1. Try to reply to a Supermind on a branch with master pulled in - I believe this effects all Superminds but if you need help debugging DM me.

### Platform information 

Web

### What is the current *bug* behavior?

Cannot reply to Superminds. 500 error relating to analytics (see Sentry below)

### What is the expected *correct* behavior?

Should be able to reply to Superminds

### Relevant logs and/or screenshots

https://minds-inc.sentry.io/issues/3961235410/?query=is%3Aunresolved+%2FCore%2FAnalytics%2FMetrics%2FEven&referrer=issue-stream&statsPeriod=14d

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
125335402,2023-02-23 19:47:07.065,Migrate new user marketing emails to Mautic,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

Move new user onboarding emails to Mautic for more rapid testing and iteration cycles.

## What needs to be done

Stop sending the following emails from the backend, and start sending them from Mautic.

- Welcome to Minds
- What do you think of Minds?
- Get paid for your posts
- Friends help friends

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Stop sending the emails cited above from the backend
- [ ] Coordinate with Ryan to start sending those emails from Mautic

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",1
123892459,2023-02-17 17:32:10.594,Boosts on channel pages should respect the users serving configuration,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
Channel owners should be able to control what kinds of boosts they show on their channel pages

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
The boost endpoint when called from a channel page should join onto the user configurations table and respect the flag that was set in https://gitlab.com/minds/front/-/issues/5917

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [x] Is Mobile Required? (maybe)

## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
Yes, boost partners

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Boosts are only delivered in accordance with the ""Serve boosts on my channel"" option

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",3
123881144,2023-02-17 14:10:52.280,Make the Boost estimates dynamic,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
The current boost system is making use of static values (from a mysql table) in order to provide the estimated reach calculations. We should build a process that will keep these variables up to date to provide near real time estimates. 

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
Build a cronjob that will calculate CPM's and update the boost_estimates table

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
Estimates are more accruate

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/A

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] A cli script that will estimate the boost values
- [ ] Make use of the existing table and update the variables

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",5
123791533,2023-02-16 10:34:49.247,Move Search indexer to pulsar entities-ops,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
Move the SearchIndexer and Cleanup queues over to pulsar stream

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

- Remove the old SQS queue (keep the runner code until we are on production)
- Introduce a new runner for the new subscription
- Cleanup old cold for submitting events to SQS

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
Extensive QA is required

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->
Developers :nerd: 

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Pulsar is used for search indexing

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [x] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",3
123679997,2023-02-14 17:09:33.533,Fix boost rankings on sandbox,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Fix boost rankings on sandbox

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information 

(Browser, device, system stats, screen size)

### What is the current *bug* behavior?

(What actually happens)

### What is the expected *correct* behavior?

(What you should see instead)

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
123389126,2023-02-09 18:00:52.762,Cannot access private property Minds\Core\Boost\V3\Models\Boost::$guid,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Error in Sentry trying to access private property - symptoms unknown but could extend to broken pagination or boost loading.

### Steps to reproduce

https://minds-inc.sentry.io/issues/3922300366/?project=1538020&query=is%3Aunresolved&referrer=issue-stream

### Platform information 

Web

### What is the current *bug* behavior?

Unknown - error in Sentry

### What is the expected *correct* behavior?

Should not be an error in Sentry

### Relevant logs and/or screenshots

https://minds-inc.sentry.io/issues/3922300366/?project=1538020&query=is%3Aunresolved&referrer=issue-stream

### Possible fixes

Change to `getGuid()`",1
123191776,2023-02-07 10:58:21.831,Boost feed unnecessary calls in newsfeed,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information 

(Browser, device, system stats, screen size)

### What is the current *bug* behavior?

(What actually happens)

When loading the newsfeed we are making 2 calls to the boost feed endpoint fetching the same data from both.

### What is the expected *correct* behavior?

(What you should see instead)

Optimise the logic to avoid making unnecessary calls to the boost feed endpoint.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",3
123147040,2023-02-06 17:26:02.433,New boosts are showing in feed for Minds+ members who have disabled boosts,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Make sure that users who pay for Minds+ and have boosts ""DISABLED"" do not see any boosts anywhere on Minds.


## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Make sure that users who pay for Minds+ and have boosts ""DISABLED"" do not see any boosts anywhere on Minds.

Example for https://minds.com/jack 

Settings:
![Screen_Shot_2023-02-06_at_10.25.24_AM](/uploads/f3e51e3a3097544d83193273b04c0d91/Screen_Shot_2023-02-06_at_10.25.24_AM.png)

Seeing Boost in Feed:
![Screen_Shot_2023-02-06_at_10.25.12_AM](/uploads/e8406c61df1866269ce82ada3cebebb7/Screen_Shot_2023-02-06_at_10.25.12_AM.png)


## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

If a user is active Minds+ and has Boosts disabled in Boost Settings, then they should not see any boosts in any feeds on either web or mobile.


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

None needed.

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

Should get fixed with backend change but need to confirm.

## Personas

<!---
Who does this user impact and why (optional)
--->

Minds+ customers.

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

None.

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Minds+ customers with boosts disabled should not see boosts anywhere on Minds (web and mobile)

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",1
123108645,2023-02-06 09:02:11.142,Record sidebar boost views,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
Record the sidebar boost views when the endpoint is called

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
See above

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->
Boosters

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Sidebar boost view events are fired when sidebar boosts are requested

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",3
123012879,2023-02-03 15:24:48.927,Denormalise channel served boost views,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
Create an efficient way to retrieve aggregated channel served views so that we can attribute these to users at a later date

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
See goal above

### Vitess

| Column | Description |
| ------ | ------ |
| served_by_user_guid       | PRIMARY KEY       |
| boost_guid | PRIMARY KEY |
| views | integer |
| last_viewed_timestamp | timestamp |

### Daily job

```sql
SELECT served_by_user_guid, SUM(views) as total_views_served, SUM((payment_amount / views) * 1000) as ecpm
FROM boosts_partner_views a
INNER JOIN boosts b ON a.boost_guid = b.guid
WHERE status = 9
AND DATE(completed_timestamp) = :ref_date
GROUP BY served_by_user_guid

```

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
Add feature flag to control paying rewards flow

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Spike task for calculating eCPM for a channel serving boosts
- [ ] Build out business rules
- [ ] Iterator and partner earning deposits implemented in https://gitlab.com/minds/engine/-/blob/master/Core/Monetization/Partners/Manager.php

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",13
123012722,2023-02-03 15:22:15.768,Add views to pulsar topic,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
To enable other services to consume our views we should submit our views to a new pulsar topic

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
Create a new pulsar topic we emit views to

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
N/A

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/A

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Views are being submitted to a pulsar stream
- [ ] Match the data payload to be client_meta/snowplow equivalent  

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",3
123012627,2023-02-03 15:20:17.372,Cleanup Gitlab Feature Flags,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
Remove the legacy features flags that we still have on gitlab. Also remove all the old unleash/feature code.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
Search for existing frontend and backend flags. Remove these from the code.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
QA will be required here

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/A

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->
Devs :nerd: 

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] All legacy features flags are removed from backend **AND** frontend
- [ ] Unleash code removed
- [ ] Remove from settings.example.php

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",5
122863385,2023-02-01 17:49:29.814,Missing push/in app notifications for when boost is completed,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

When a boost is completed no push or in app notification is sent.

### Steps to reproduce

1. Open app
2. Login successfully
3. create a boost
4. Wait for it to complete
5. notice that no notification is thrown from backend

### Platform information 

Web and mobile-staging

### What is the current *bug* behavior?

No push/app notification on boost completed

### What is the expected *correct* behavior?

Push/app notifications should appear

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
122785588,2023-01-31 18:13:27.399,Flag reported entities with matching boosts with a REJECTED status,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

Remove content with upheld reports from the boost queue and reset auto-approvals.

## What needs to be done

When a strike is applied to an entity, check if there is a boost of that entity - if there is, flag that boost as `REJECTED` status.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

How should REPORTED entities appear in the boost console.

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Do not allow auto-approval of users who have strikes
- [ ] Update the Business Logic spreadsheet to match this criteria
- [ ] When a boost is reported and accepted by an admin, reject boosts and use a new Report Reason
- [ ] Make sure the feat flag for https://gitlab.com/minds/engine/-/merge_requests/1237 is ON when we deploy, providing we want to enable it.

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA
- [ ] UX/Design
- [x] Personas
- [x] Experiments",3
122779754,2023-01-31 16:50:07.099,Boost console should be sorted by boost time - newest first,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

To ensure the sorting on boost console for admin and user - should be sorted by boost time - the newest boosted should show up on top. 

<!---
Clearly outline the goal of the issue and why we are doing it
--->


## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->


## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [x] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

New boost console 4638 flag

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] sort by boost time - newest one on top

The below screenshot is how it looks now and needs to be fixed:

![1B47E540-7B47-458B-A739-CB317FB48490](/uploads/1d32d7ead2553e574aae92de46a0030d/1B47E540-7B47-458B-A739-CB317FB48490.jpeg)

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",1
122696021,2023-01-30 16:50:17.801,Error case handling for new boost console,"
### Summary

When you do not have enough tokens and boost a post, should throw correct error message. Currently it says internal server error.

***This applies to both cash and token boost.

### Steps to reproduce

1. Open app
2. navigate to boost console with feature flag on
3. Create a new post
4. boost this post and choose more tokens/cash then you have.
5. Once you press the boost button, internal server error shows up.


### Platform information 

Mobile 4.31 v48 staging

### What is the current *bug* behavior?

Internal server error appears

### What is the expected *correct* behavior?

Proper error message must appear instead of internal server error

### Relevant logs and/or screenshots

![7797C2BF-5AD4-4F1B-BB7A-0471D2CDC4BC](/uploads/4f3ee9fa3a550af94ce93fb749e085d5/7797C2BF-5AD4-4F1B-BB7A-0471D2CDC4BC.jpeg)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
122175424,2023-01-20 10:20:34.935,Aggregate boost v3 views and display to users,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Allow users to see how well their boost is doing by summarising their boosts performance in a condensed table

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Update the boost_summary table to include the necessary information. Present this information to the users. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
Boost views should show in the console.

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/A

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

A future ticket can be made to show the views. 

## Personas

<!---
Who does this user impact and why (optional)
--->
Boosters

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Boost views are stored in the boost_summary table

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",5
122173841,2023-01-20 09:54:37.955,Support the new clustered recommendations in discovery 'top',"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Following on from https://gitlab.com/minds/data-science/minds-etl/-/issues/40, the API should deliver these new recommendations

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

- Update the queries to match the new schemas (from https://gitlab.com/minds/data-science/minds-etl/-/issues/40)
- Ensure the deranking of seen posts still works
- Users with no cluster ID should still receive recommendations


### Sample query

```sql
select
    recommendations_cluster_activity_map.*
from
    minds.recommendations_user_cluster_map
    inner join minds.recommendations_cluster_activity_map on
        recommendations_user_cluster_map.cluster_id = recommendations_cluster_activity_map.cluster_id
where
    user_id = 100000000000000063
order by
    cluster_id,
    _valid_from desc,
    score desc
limit 200
;
```

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

Recommendations are delivered. 

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Mobile

<!---
Does a mobile card need to be created? Any notes for mobile?
--->

- [ ] Is Mobile Required?

## Personas

<!---
Who does this user impact and why (optional)
--->

users

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

Yes, a new flag needs to be made. `engine-2494-clustered-recs-v2`

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] The clustered recs endpoint is reading from the new tables
- [ ] Seen posts are deranked
- [ ] There is a feature flag

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",3
121257204,2023-01-04 21:55:17.204,Provide payment_txid for dynamic boost exports,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
Provide `boost.payment_txid` to be used in receipt link for users in the boost console. To be used as depicted in mockup below:

![image](/uploads/2bffe4dd8cfe936372bee203b577f2ec/image.png)

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
Provide a `payment_txid` for the receipt of dynamic boosts on export, (if a receipt exists).

This field should be usable in the same way that it is used in the supermind console, e.g. alongside the `api/v3/payments/receipt` endpoint, like: 
`[href]=""'/api/v3/payments/receipt/' + boost.payment_txid""`

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
- Links are provided when a receipt exists
- Links point to the correct place

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
See screenshot above

## Personas

<!---
Who does this user impact and why (optional)
--->
Boost users

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
Relates to `epic-293-dynamic-boost`

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] `payment_tx_id` provided in boost export if available
- [ ] Clicking on a cash receipt link to `api/v3/payments/receipt/{boost.payment_tx_id}` should redirect to receipt page
- [ ] Clicking on an onchain boost reciept link should go to `etherscan.io/tx/{boost.payment_tx_id}`

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",1
121254317,2023-01-04 20:37:36.550,Get counts of boosts for each target audience type for admin boost queue,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
Admins should know how many items are in each tab of the boost queue, as pictured in the ""safe""/""controversial"" row below:


![image](/uploads/fd98ae8283ae011234f63183e9c3471a/image.png)

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
Add endpoint that allows clients to request/receive counts of pending boosts in the admin boost queue, grouped by target audience/suitability. The boost queue counts should be accessible by admins only. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
Counts are accurate and up-to-date. 
Counts should decrement when the admin takes action on a pending boost (either approves or rejects it).

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
See screenshot above for proposed functionality for this feature.

## Personas

<!---
Who does this user impact and why (optional)
--->
Admins

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
Relates to `epic-293-dynamic-boost`

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [x] Admins can get total counts of items in the boost queue, grouped by target audience type
- [x] Implement to frontend admin console as per screenshot above
- [x] New api endpoint for 'api/v3/boost/admin/stats'

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",3
121252046,2023-01-04 19:38:23.804,Add completed state to dynamic boosts,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
Denote whether a boost has been successfully completed -- for use in the boost console.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
Add a new boost state `COMPLETED` to the dynamic boost data model, and provide this value on export of boosts. Currently assuming it will be attributed to number `9` in the enum.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
The `boost_status` is in `COMPLETED` state if the boost duration has elapsed since the boost was approved/boosted. 

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/a

## Personas

<!---
Who does this user impact and why (optional)
--->
Boosting users

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
Relates to `epic-293-dynamic-boost`

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] `COMPLETED` boost state is incorporated into boost api
- [ ] Cronjob should mark completed boosts as completed
- [ ] Should also send onComplete ActionEvent via Boost ActionEventDelegate

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",3
120638218,2022-12-19 15:05:17.983,SPIKE: Investigate introducing an automated marketing tool,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
Non-devs wish to be able to control the marketing plane 

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
Investigate possible tools such as:

- Posthog (https://posthog.com/)
- Mautic (https://www.mautic.org/)
- Laudspeaker (https://laudspeaker.com/)

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
N/A

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/A


## Personas

<!---
Who does this user impact and why (optional)
--->
Internal team

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Prototype of working platform in a sandboxed environment


## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments

S",8
119943568,2022-12-06 13:27:55.790,Spike: Explore Estimated Reach logic for boosts,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

Provide meaningful estimates on boost reach to boosting users

## What needs to be done

Devise a strategy to provide users meaningful estimates on Boost Reach

## QA

No deliverable to QA in the traditional sense - we should peer review the ideas created from this card.

## UX/Design

No UX and design however we may need to make subsequent design changes based on the outcome of this card.

## Personas

Boosting users.

## Experiments

The eventual feature will be under the parent dynamic boost epic flag.

## Acceptance Criteria

- [ ] Create a proposal for a strategy for delivering estimated reach that provides users a meaningful estimate with a reasonable degree of accuracy.
    - Lower bound is especially important - if we do not believe we can do this accurately, we should consider omitting it.
    - Estimates should be conservative so that we under-promise / over-deliver the majority of the time.
    - Be aware the amount in the pool WILL shift and move as different users drop different amounts of funds in. Playing with the max daily amount is one way we could try to minimize this volatility.
    - Doing different things at different stages of release is an option.
- [ ] Create subsequent tasks for backend implementation and front-end changes.

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",5
119877276,2022-12-05 14:38:38.064,A user should be able to hide a boost and they should not see it again in any boost slots,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
A user should be able to hide a boost and they should not see it again in any boost slots.


## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

To facilitate a 'not interested' or 'don't show again' feature, we may need to implement a new table to store such data. The boost table would then need to join against this when querying. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
Adding to the dropdown of the entity menu (post menu).

## Personas

<!---
Who does this user impact and why (optional)
--->
Consumers

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
Use the epic flag.

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [x] Implement rule Boost-22 - ""A user should be able to hide a boost and they should not see it again in any boost slots""
- [x] Implement new table to store the hidden entities for each user. Store the guid of the entity, not the boost
- [x] Wire up to the Boost table via a join
- [x] Frontend should display ""Hide"" button in the dropdown
- [x] Limit the hide action to 5 (config variable) per day unless in Minds+
- [ ] Integration test

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",5
119876170,2022-12-05 14:33:37.303,Do not allow an entity in an accepted boost state to be deleted or edited,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
It should not be possible to delete or edit a post whilst it is in the Accepted state

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
Implement the goal/acceptance criteria

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/A

## Personas

<!---
Who does this user impact and why (optional)
--->
Boosters

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Implement rule **Boost-23** ""An activity post can not be edited or deleted when in an Accepted Boost state""
- [ ] Integration test

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",2
119757086,2022-12-02 14:31:55.730,Filter unmarked expired Superminds from pending queue,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Superminds that are still in a state where they can be accepted, can be expired if the time to accept has elapsed runner hasn't updated the state of the Supermind yet.

### Steps to reproduce

Get a supermind with a state that can be accepted (CREATED?) and force the timestamp to be expired - you will still see it in the pending queue of the console.

### Platform information 

Web / Mob

### What is the current *bug* behavior?

Expired boosts still appear and allow users to attempt to accept in many cases - it also messes with count queries which are used to determine whether to show the feed notice indicating a user has pending Superminds.

### What is the expected *correct* behavior?

We should filter by timestamp in the query so only non-expired Superminds are returned for the pending list. (note pending / created terms conflict on front-end and backend)

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
119121885,2022-11-21 16:30:01.217,Onchain Boost payment process for new dynamic boost system,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
Allow for onchain boosts to be submitted for the new dynamic boost pricing system

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

We need to confirm that the transaction has not previously been used

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
As acceptance criteria

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/A

## Personas

<!---
Who does this user impact and why (optional)
--->
Boosters

## Experiments

Controlled via https://growthbook.minds.com/features/engine-2475-onchain-boosts

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] A user can pay for their boost via onchain
- [ ] The onchain transaction can only be used once, fraud prevention should be taken into account

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",5
119109547,2022-11-21 14:18:14.533,QA to be able to use stripe in test mode,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
QA should be able to test with test stripe accounts and cards on the production (staging) environment.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Provide a secure and isolated way for developers and qa to use stripe in test mode. Ordinary users must not be exposed, nor should they be able to take advantage of this. 

Extra configurations will also need to be provided. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
Yes

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/A

## Personas

<!---
Who does this user impact and why (optional)
--->
:nerd: 

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Able to use stripe test creds (if required) on the main minds environments (staging, canary, production)

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments

Ab",3
119104658,2022-11-21 13:06:55.633,Stripe Checkout: Return redirect url for mobile,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

We need to apply the same logic as we did on stripe/onboarding for the checkout: return the url and let the client handle the redirection themselves.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

The endpoint should return the redirect url.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

N/A

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

N/A

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] api/v3/payments/stripe/checkout/setup returns the redirect url on mobile

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",1
119098159,2022-11-21 11:37:10.384,Boost 'ranking' service to ensure fair distribution based on bid price,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
To aid with https://gitlab.com/groups/minds/-/epics/293, we require a service that paces the boosts based on their respective bid.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

A long running service that is able to rank boosts based on their respective bids. For example if the total bid pool was $100, and I have bid $10, I should receive 10% of all the available views. 


## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
N/A

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/A

## Personas

<!---
Who does this user impact and why (optional)
--->
Boosters

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Deployed via the new runners helm chart (with argo)
- [ ] Spec tests to ensure the pacer/ranking system works
- [ ] Possible changes to the way we record view for efficiency 
- [ ] Changes to schemas if necessary to support the calculations and rankings

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",8
119097084,2022-11-21 11:32:07.811,Create new boost v3 module,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Backend support for the new dynamic boost pricing system

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Create skeleton and data resources for the new dynamic boost system

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

Integegration tests


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/A

## Personas

<!---
Who does this user impact and why (optional)
--->
Boosters

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/A (this is a new backend endpoint)

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] New boost module under Core/Boost/V3
- [ ] API endpoints under api/v3/boost
- [ ] Payment methods working and charging/refunding
- [ ] Schemas agreed and implemented via Repository classes
- [ ] Integration tests

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",8
118841838,2022-11-16 14:24:33.784,Post to Twitter checkbox and text shouldn't show if a user does not have Twitter OAuth2 connected,"### Summary

Post to Twitter checkbox and text shouldn't show if a user does not have Twitter OAuth2 connected. Currently it does. The state of posting should never be reachable if a Supermind DOES require Twitter and the user is not connected.

### Steps to reproduce

1. Login as a user with funds to send a Supermind.
2. Send a supermind to a user without Twitter connection, with the `require Twitter reply` checkbox not selected.
3. Login as user 2 and click on accept offer for the supermind.
4. You should not be prompted to connect to Twitter.
5. Enter supermind reply and Press Send.
6. In the confirmation modal, you should not see the option to cross-post to Twitter, as Twitter is not connected. 

### Platform information 

Web, production.

### What is the current *bug* behavior?

Flow is incorrect

### What is the expected *correct* behavior?

- Post to Twitter option should not be available on Supermind reply if the user does not have Twitter Connected
- If they do, it should be.
- Connect Twitter option should not be shown for a Supermind that does not require Twitter.

![image](/uploads/cc09e0f32825e1ecac541b04ff231e6b/image.png)

### Relevant logs and/or screenshots

![image](/uploads/d432c5bd103daee2e10c26aeb0863c04/image.png)

### Correct UX/UI Designs

![Creator_Reply_Confirmation__Twiiter_Optional_](/uploads/5bf7ec8ce9d872671261dcf302af5d02/Creator_Reply_Confirmation__Twiiter_Optional_.png)
![Creator_Reply_Confirmation__Twitter_Required_](/uploads/0e0074e5a90eb5b1413655debf17cde2/Creator_Reply_Confirmation__Twitter_Required_.png)",1
118366332,2022-11-08 16:07:52.091,Codecept/Playwright test parallelization,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

Reduce run-time in CI of our E2E suite.

## What needs to be done

Parrellize our Codecept/Playwright tests.

## QA

Check for green light / test stretch.

## UX/Design

N/A

## Personas

Developers

## Experiments

N/A

## Acceptance Criteria

- [ ] Tests running in parallel - threads and workers to be discussed
- [ ] Minimal flake - some tests or low level helpers may need to be rewritten slightly to increase idempotency.

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",1
118155285,2022-11-04 15:22:27.295,Generate a readable 'description' for all stripe payment intents,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Have a human readable 'description' field on stripe payment intents and also display to a user on their receipts. 

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Stripe has a 'description' field that we can set.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
Descriptions are applied.

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/A

## Personas

<!---
Who does this user impact and why (optional)
--->
Spenders

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] New payment intents to generate a readable description such as ""Supermind to @mark"", ""@mark's Bronze Membership"", ""Tip to @mark"", ""Minds Plus"", ""Minds Pro""
- [ ] Script to retrospectively update old payment intents

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments

Gne",3
118147267,2022-11-04 13:43:10.545,Show cash boost offers at the top of the queue (both admin review and approved feeds),"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

To incentivise cash boosts, deliver them first before token boosts.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
We will need to modify the sort filters for the Elastic repository on boost. 'Cash' boosts should be show first. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
TBD

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/A

## Personas

<!---
Who does this user impact and why (optional)
--->
Boosters

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/A 

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] A cash boost is shown before token boosts

## Dev notes

https://gitlab.com/minds/engine/-/blob/master/Core/Boost/Network/ElasticRepository.php#L27

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",2
118147047,2022-11-04 13:38:53.938,A method for developers to change the boost cash price,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Developers need to be able to specify the boost price for cash to control the backlog of boost

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

- In the future this will be dynamic, however for now we need a variable that developers can set without hard coding.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

N/A

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->
Boosters

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [x] Config that developers can set and which updates the boost price
- [x] Support for future dynamic pricing by having a function that returns the price

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",3
118145536,2022-11-04 13:17:08.291,Backend support for creating and accepting Cash boosts,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Allow for boosts to be paid for with cash so that we can increase revenue

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

- Update the boost payment methods to support cash

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

Pay for, accept and reject boosts with cash

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A


## Personas

<!---
Who does this user impact and why (optional)
--->
Boosters

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
Yes, for feature flag

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [x] Cash boosts can be made for newsfeed and sidebar boosts
- [x] Cash boosts can **not** be made for boost offers
- [x] Admin api can accept and reject boost offers
- [x] Backend must verify the bid -> view price
- [x] Statement descriptor and description on payment intent referencing the boost
- [x] Feat flagged
- [ ] Integration tests

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",5
118092160,2022-11-03 15:39:47.199,Cannot call export on null,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Error being thrown by engine likely relating into the entity hydration feat flag

### Steps to reproduce

Unknown - see Sentry

### Platform information 

Web

### What is the current *bug* behavior?

Error is thrown

### What is the expected *correct* behavior?

Should not throw error out - should it log? to discuss. User may be banned or deleted - need to investigate context.

### Relevant logs and/or screenshots

https://sentry.io/organizations/minds-inc/issues/3697130365/?query=is%3Aunresolved+user.id%3A1424430417754198018&referrer=issue-stream&statsPeriod=14d

### Possible fixes

Need to check if user is null before calling export.",2
118066121,2022-11-03 09:47:46.743,Backend for InApp verification code on mobile,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

A backend api is required to both send and verify In-App user verification codes

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

- Figure out a schema to store all the code requests by device id
- Hook into the current push notifications system

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

TBD

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->
Mobile users

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/A (mobile will have the toggle)

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] New module for the verification flow
- [ ] Schemas built out
- [ ] Working API
- [ ] Endpoint to inform if verification has been completed or not
- [ ] Integration tests if possible

## Dev notes

- TTL for request? Parameter. ~15 mins.
- Make another task for S3 data dump
- Happy path etc https://gitlab.com/groups/minds/-/uploads/a395dab183ecba601730f0d679f1f0e4/In-app-registration.pdf
- https://github.com/thiagoalessio/tesseract-ocr-for-php

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [x] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",8
117899929,2022-10-31 22:38:58.260,Supermind twitter cards - generate text thumbnails,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
As a creator, I want to post my Supermind **text-only** content to Twitter in an **eye-catching way** so that my followers are engaged and want to send me more Superminds. 

Note: This issue has been generated as a result of this spike: https://gitlab.com/minds/engine/-/merge_requests/1157. 

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
Building off of the work in https://gitlab.com/minds/engine/-/merge_requests/1157, 
we need to further refine the auto-generated text-only twitter cards so that: 

- font-size is dependent on content length (shorter posts have larger text)
- we only allow 280 characters of post text on a card
- multiple lines of text fit onto the card (we need to manually insert new lines, and cover edge cases like extremely long words with no spaces)
- add minds icon on top row of text content, so it matches designs
- truncate long usernames in the bottom (attribution) row of the card

Some of the groundwork for sizing has already been done and shared in imagick forums (see [this](https://stackoverflow.com/questions/5746537/how-can-i-wrap-text-using-imagick-in-php-so-that-it-is-drawn-as-multiline-text) for example), we can probably build off of those. 

This issue should be completed before related issue(s) that include media on the twitter cards (https://gitlab.com/minds/engine/-/issues/2457).

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
Auto generate images with different text lengths/font sizes and different username lengths.

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
See figma link on https://gitlab.com/minds/engine/-/issues/2452

## Personas

<!---
Who does this user impact and why (optional)
--->
Supermind users

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
n/a

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] readable twitter cards can be generated with no text overflow with various text lengths
- [ ] font sizes are larger for shorter posts, and vice-versa
- [ ] cards have minds logo on top
- [ ] cards have minds user name on bottom (with no text overflow)
- [ ] endpoint that will generate the images and have a good caching policy
- [ ] frontend should use new endpoint for open graph tabs 

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",5
117863282,2022-10-31 13:45:07.277,Fix Supermind module testbed conflicts,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

https://gitlab.com/minds/engine/-/merge_requests/1155 was merged alongside the testbed for the Supermind module and caused unforseen conflicts, as the tests now fail.

### Steps to reproduce

Run unit tests.

### Platform information 

CLI / CI

### What is the current *bug* behavior?

Test failures

### What is the expected *correct* behavior?

Should green light

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
116838248,2022-10-13 14:42:55.489,Update Supermind email to point non-accepted to single Supermind pages,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

Direct users straight to the single Supermind page rather than just their inbox

## What needs to be done

Update emails to point to a single supermind page rather than just the whole inbox.

## QA

Test emails

## UX/Design

N/A

## Personas

Web

## Experiments

N/A

## Acceptance Criteria

Update links at:
- [ ] - [ ] https://gitlab.com/minds/engine/-/blob/84f946fb60bbf6d529cd63b823759155f357cacf/Core/Email/V2/Campaigns/Recurring/Supermind/Supermind.php#L99

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",2
116699536,2022-10-11 18:58:24.845,Supermind console pending feed should be sorted from newest to oldest,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Supermind console pending feed should be sorted from newest to oldest

We need to remove the condition reversing the order for inbox AND outbox

### Steps to reproduce

Check pending filtered inbox

### Platform information 

Web

### What is the current *bug* behavior?

Order is showing oldest first, which makes no sense with see latest button

### What is the expected *correct* behavior?

Should show from newest to oldest

### Relevant logs and/or screenshots

N/A

### Possible fixes

Should be some if statements in the repo that can be removed",1
116418172,2022-10-06 16:24:54.203,Optimise and improve development process for playwright tests,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

Optimise and improve development process for playwright tests

## What needs to be done

Optimise and improve development process for playwright tests

## QA

Run tests

## UX/Design

N/A

## Personas

Developers

## Experiments

N/A

## Acceptance Criteria

Within the timebox, see what we can accomplish from the below list:

- [x] Rebase framework to use standard configs. - recreate with typescript option out of the box.
- [x] Use of DI system. See if this system is suitable when post-rebase.
- [x] Config separation for local and sandbox.
- [x] Retry logic for flake mitigation (3 retries).
- [x] Make timeouts waiting on elements and requests global (but overridable) 30 seconds.
- [x] ​Change naming conventions of misaligned areas to match docs like Components => Fragments, maybe some stuff around helpers too.
- [x] Add scripts to package json for building typescript - maybe even making a Page etc

- [x] Spin up cards for subsequent work such as for parallelization.
- [x] Migrate helpers to actual Codecept helpers. (stretch goal).
- [ ] Rewrite existing tests that are not making use of POMs (stretch goal).
- [ ] Improve any flake that appears during the process (stretch goal).
## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",5
116416991,2022-10-06 16:04:28.008,Make Stripe iframe 500px,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Temporary patch for https://gitlab.com/minds/minds/-/issues/3457?work_item_id=116404432

Make Stripe iframe 500px height as a temporary solution to enable users to add their bank cards who have to go through security measures that go beyond the given height of the iframe (I believe it's currently 150px).

### Steps to reproduce

Try enter a card with 3DSecure - unsure how to effectively replicate this with test cards.

### Platform information 

Web

### What is the current *bug* behavior?

Stripe iframe is too short to complete for some users with some banks.

### What is the expected *correct* behavior?

Height should be taller

### Relevant logs and/or screenshots

![image](/uploads/bb2c5d8fe98987dfb5d8a0590cffdaf1/image.png)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
116415255,2022-10-06 15:49:31.791,Add unit test coverage for Supermind module,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

Improve test coverage for Supermind module.

## What needs to be done

Unit test core parts of the Supermind module.

## QA

Check unit tests pass.

## UX/Design

N/A

## Personas

Developers

## Experiments

N/A

## Acceptance Criteria

- [ ] Improved test coverage of areas like Manager and Repository.

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",3
116270475,2022-10-04 16:24:53.633,Cannot send tokens to a user who has no account connected,"### Summary

Sending tokens to a user who does not accept cash should be allowed.

### Steps to reproduce

1. Open web app.
2. Login successfully.
3. Navigate to a channel with no account.
4. Select superminds.
5. Tap Tokens.

### Platform information 

Chrome

### What is the current *bug* behavior?

Throws error

### What is the expected *correct* behavior?

Should let you send tokens

### Relevant logs and/or screenshots

![image](/uploads/fc89ec383719dabd02b51a3b8c979a9e/image.png)",1
116210280,2022-10-03 19:48:02.058,Sending superminds is throwing Internal Server Error,"### Summary

Tapping the superminds send button when you have drafted a superminds post, throws Internal Server Error. 

### Steps to reproduce

1. Go to any channel (with or without bank account connected)
2. Tap on Superminds.
3. Enter Superminds details and set it to cash. 
4. Agree to terms and hit save.
5. Compose a post.
6. Hit Send.

### Platform information 

Chrome - Staging/Sandboxes

### What is the current *bug* behavior?

Internal server error appears

### What is the expected *correct* behavior?

Should see an error saying 

`X is unable to receive payments at this time`

### Relevant logs and/or screenshots

Logs: https://sentry.io/organizations/minds-inc/issues/3590369693/?query=is%3Aunresolved

![image](/uploads/d037f89273b8339c7e91c664d76c18ce/image.png)",1
117278515,2022-09-29 17:05:07.971,Spike: Optimize Supermind links for sharing on Twitter,"## Goal

As a creator, I want to post my Supermind content to Twitter so that my followers are engaged and want to send me more Superminds.

## What needs to be done

Implement Twitter cards (`[Summary Card with Large Image](https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/summary-card-with-large-image)`) for Supermind replies, and generate 2:1 images to display in those Twitter cards.

Generated images are used to represent the content of the Supermind OFFER post. For offer posts with text, generate a 2:1 text-based graphic. The font size used for the graphic should adjust depending on the character count being shown. Character count should be limited to 280 characters.

For offer posts without any text, generate a 2:1 graphic with media from the post.

| Offer post content | twitter:card        | twitter:site | twitter:creator                   | twitter:title           | twitter:description                                         | twitter:image                                                                                                                   |
|--------------------|---------------------|--------------|-----------------------------------|-------------------------|-------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------|
| Text only          | summary_large_image | @minds       | [Name] (of the Supermind replier) | [Name]'s reply on Minds | Get replies from [Name] and elevate the discourse on Minds. | Generated 2:1 graphic. Up to 280 characters of the offer post. If the post is longer than 280 character, end with ... ellipses. |
| Text + media       | summary_large_image | @minds       | [Name] (of the Supermind replier) | [Name]'s reply on Minds | Get replies from [Name] and elevate the discourse on Minds. | Generated 2:1 graphic. Up to 280 characters of the offer post. If the post is longer than 280 character, end with ... ellipses. |
| Media only         | summary_large_image | @minds       | [Name] (of the Supermind replier) | [Name]'s reply on Minds | Get replies from [Name] and elevate the discourse on Minds. | Media content                                                                                                                   |

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

[Figma link](https://www.figma.com/file/JARto6zhlRrS8AVh7rFK6m/Superminds-screenshots?node-id=227%3A3202)

![image](/uploads/05a0eb7450d5709ef11c514d46dde33b/image.png)

## Personas

Potential Minds users

## Experiments

n/a

## Acceptance Criteria

- [ ] Find a tool that can render the graphics
- [ ] A 2:1 graphic is generated for posts with text in the offer post
- [ ] A 2:1 graphic is generated for posts without text / only media in the offer post
- [ ] When the Supermind reply is shared on Twitter, the Twitter card with large image is displayed.

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",3
115989870,2022-09-29 09:21:30.940,Provide 'description' on payment intents to be descriptive,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

We are currently not sending a 'description' field with our payment intents (stripe). This means that our receipts just say 'Payment to Minds, Inc.'. Provide an informative description. 

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Add statement descriptors for different minds services payment intents. Requirements for the card are Supermind, Membership and Tip - Plus Pro and Withdrawal are bonus items - if they're going to cause the card to go overweight we should split into another card.

```
Minds: Supermind
Minds: Membership
Minds: Tip
Minds: Plus sub
Minds: Pro sub
Minds: Withdrawal
```

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

N/A


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

Spenders

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] The description supplied in Payment Intents are informative

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",2
115932552,2022-09-28 13:42:37.188,Common User Configurations Repository,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Following on from https://gitlab.com/minds/engine/-/issues/2427#note_1117620482, we now can proceed with creating a common user configurations table. This will make it easier to maintain user state on the backend and not rely on the client side. 

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Below is an example schema.
```
CREATE TABLE IF NOT EXISTS user_configurations (
    user_guid bigint,
    my_example_value float,
    terms_accepted_at timestamp,  
    PRIMARY KEY (user_guid)
) ENGINE=InnoDB;
```

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A


## Personas

<!---
Who does this user impact and why (optional)
--->

Developers

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Manager/Repository/Models are created and extensible
- [ ] Create, Update and Read operations 
- [ ] New spike task created for handling schemas

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [x] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",3
115874178,2022-09-27 18:02:10.763,Supermind expiring soon push & in-app notifications,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
Trigger push & in-app notifications when a supermind request is expiring soon.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
Connect the notification work done in #2409 with the expiring soon cronjob work done in #2432. Both of these issues should be completed before starting this one. 

Probably by linking the push notifs stuff with the `ACTION_SUPERMIND_REQUEST_EXPIRING_SOON` event consumed in SupermindEventStreamsSubscription.php

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
make sure the notifications send 

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
n/a

## Personas

<!---
Who does this user impact and why (optional)
--->
supermind users

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
supermind experiment

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [x] in-app notification sent when supermind expiring soon
- [x] push notification sent when supermind expiring soon

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",1
115663119,2022-09-23 12:02:55.936,Prevent Supermind Replies from also sending out Quote post notifications,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Currently Supermind Replies also send out Quote post notifications

### Steps to reproduce

Send a Supermind Reply with the notifications change in place.

### Platform information 

Platform agnostic.

### What is the current *bug* behavior?

2 notifications sent for same action.

### What is the expected *correct* behavior?

Should only see Supermind reply notification, not quote.

### Relevant logs and/or screenshots

![image](/uploads/2502058db6475a70382e82bf1e7b91ea/image.png)

### Possible fixes

Add supermind context to ActionData https://gitlab.com/minds/engine/-/blob/master/Core/Feeds/Activity/Delegates/NotificationsDelegate.php",2
115561922,2022-09-22 08:13:41.303,Plus overview returning no entities for front,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Plus overview is returning no entities for front.

### Steps to reproduce

1. Go to https://www.minds.com/discovery/plus/overview
2. Observe no entities 

### Platform information 

Web

### What is the current *bug* behavior?

No entities returned by endpoint https://www.minds.com/api/v3/discovery/trends?plus=true

### What is the expected *correct* behavior?

Entities should load

### Relevant logs and/or screenshots

![image](/uploads/489a214e2ee21830ca6120a564ceb750/image.png)

### Possible fixes

One interesting thing is that it works fine from mobile - possibly a different endpoint?",2
115089465,2022-09-15 00:52:22.595,Store Supermind reply activity guid in SupermindRequest entity and use it in email template,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
See issue title.


## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
When a Supermind request is accepted and the reply activity is created, we need to store the reply's activity_guid in the SupermindRequest so we can use it to populate the link of the action button in the `supermind_request_accepted` email.  The button is in the designs (see https://gitlab.com/minds/engine/-/issues/2395) but we had to remove it until the activity_guid is accessible when the email is triggered. 

To enable, uncomment the lines pictured below and on line 109 change `getActivityGuid()` to use `getReplyActivityGuid()` (or whatever it will be called).  

![image](/uploads/d2f1ca5cea7cb273cbe450ba54c255e9/image.png)

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
Reply activity guid is correct and the email action button goes to the activity page

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
n/a

## Personas

<!---
Who does this user impact and why (optional)
--->
supermind users

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
n/a

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->
- [ ] supermind reply activity guid added to SupermindRequest entity
- [ ] `supermind_request_accepted` email has a working ""view reply"" action button

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",2
115088650,2022-09-15 00:10:01.457,Cronjob to send emails and push notifications 24hrs before Supermind expires,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal
Set up a chronjob to send an email to Supermind receiver if there is 24hrs left to reply and they haven't made a reply yet. 

<!---
Clearly outline the goal of the issue and why we are doing it
--->


## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
The email template is already created, and is built in /engine/Core/Email/V2/Campaigns/Recurring/Supermind/Supermind.php (topic is `supermind_request_expiring`). When it is ready to be sent, send it the same way the others are sent (see Core/Supermind/SupermindEventStreamsSubscription).

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
Make sure the email sends 24hrs before the Supermind expires, but only if the receiver hasn't replied yet.

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/a

## Personas

<!---
Who does this user impact and why (optional)
--->
Supermind users

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/a (if Superminds aren't enabled already, the email won't send)

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Cronjob and runner to execute every hour
- [ ] Supermind expiring reminder email sends to receiver 24hrs before expiry
- [ ] Trigger push notification via https://gitlab.com/minds/engine/-/issues/2409

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [x] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",3
114988829,2022-09-13 18:49:50.972,Analysis of integration with Unstoppable Domains,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Analyze integration with Unstoppable domains and determine complexity.


## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Research reverse resolution on UD documentation to understand requirements for Minds to implement ability for ETH addresses to be read as UD domains. 

https://docs.unstoppabledomains.com/


## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

- N/A

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

- N/A


## Personas

<!---
Who does this user impact and why (optional)
--->

- N/A


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

- N/A


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Determine weight of task to implement UD support

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments

Anal",1
114988329,2022-09-13 18:39:37.735,Analyze best way to make all Minds transaction receipts downloadable,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Analyze best way to make all Minds transaction receipts downloadable so that we have good records of our communication with customers for disputes, and so customers can easily export any transaction receipts.


## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

This task is a placeholder so we can analyze different options and come up with a plan.


## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

Can a user download their receipts?


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

TBD


## Personas

<!---
Who does this user impact and why (optional)
--->

- Customers
- Admins


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Is a user notified when they complete a transaction with Minds?
- [ ] Is a user able to download a receipt of their transaction?
- [ ] Is an admin able to download a receipt of any user transaction?

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",3
114980798,2022-09-13 16:54:08.491,Add ACL check for Blocked Channels on Superminds,"## Goal

Determine what ACL requirements need to be followed for below cases:
1. Can you supermind to a user who has blocked you?
2. Can you supermind a user who you have blocked?


## What needs to be done

Update function logic based on requirements decision on the questions above. 

Currently the functionality is:
1. Allowed even though it says you should not be able to interact with them. 
![image](/uploads/edefdb6fe2ae5286303fc7242fe6029f/image.png)
2. Not see supermind option on user channel you have blocked. 


## QA

Test superminds security with blocked channels. 


## UX/Design

N/A


## Personas

N/A


## Experiments

N/A


## Acceptance Criteria

- [ ] Add logic for determining what behavior will be there for superminds for blocked channels
- [ ] Do we need to do this for banned channels?

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",3
114869239,2022-09-12 14:13:38.821,[Spike] Gather requirements and analysis for storing user configurations,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

There are often requests to save user settings, currently we attach these to the user entity or create new implementations per service, however this adds bloat. To simplify this, we wish to have a central user configurations endpoint. 

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Investigate how this could be used by other features and what technologies would be the most appropriate. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

N/A

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

Developers :nerd: 

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
N/A


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Tech analysis

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [x] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",3
114457400,2022-09-05 15:47:42.280,Supermind API initial Integration Tests,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->


## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
Add initial integration tests for Supermind API to cover main scenarios.

Scenarios to be added

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->


## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Create integration tests for Supermind API

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",3
114456094,2022-09-05 15:24:07.651,Set Supermind requests as expired after 7 days from creation,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->


## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->


## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->


## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Create cli job to update the state of a Supermind request to expired after 7 days from creation if it has not been accepted yet.

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",2
114193557,2022-08-31 04:11:02.767,Support Querying Delegated Nostr Events (NIP-26),"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

In order for Minds to sign Nostr events on behalf of a Nostr user, we need to implement support for querying [NIP-26](https://github.com/Minds/nostr-nips/blob/minds-nip-26/26.md) signed events.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Upon requesting events for a designated public key, we should also query for delegated events signed on behalf of the requested author.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

We can query for Nostr events based on the delegate token w/ a client.

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

Digital nomad

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Delegated events are included in `REQ` queries for an author's public key
- [ ] Spec tests and integration tests

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [x] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",3
114181821,2022-08-30 21:12:38.328,Modify the application fee referrer splits,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Split the application fee 50/50 with the referrer. Currently the referrer get 100%.


## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

- Remove logic that attributes referral based on ownership of page you came through
- Make the commission 5% to Minds and 5% to referrer if there is a referrals code (Otherwise 10% to Minds)
- In order to be eligible, referrer must be onboarded to Stripe


## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->


## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [x] Remove logic that attributes referral based on ownership of page you came through
- [ ] Make the commission 5% to Minds and 5% to referrer if there is a referrals code (Otherwise 10% to Minds)

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",3
113357839,2022-08-16 16:52:20.561,Ban channels when connecting or sending from an OFAC sanctioned ETH address,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

To be complaint with OFAC, we should ban channels when connecting or sending from an OFAC sanctioned ETH address

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

See acceptance criteria. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

May be tricky to QA this, but should be easy enough to have integration tests for. 

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A


## Personas

<!---
Who does this user impact and why (optional)
--->

Crypto

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] When connecting a wallet to Minds, check the OFAC sanctions list
- [ ] When someone sends an onchain wire, check the OFAC sanctions list
- [ ] Ban the user if match on the list
- [ ] Find best method of obtaining OFAC sanctions list
- [ ] Considering the size of the list, copy into Cassandra
- [ ] Integration teest 

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [x] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",5
113197860,2022-08-12 14:44:32.477,Metrics endpoint response error,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

The metrics endpoint is returning a string instead of a json for its response and the middlewares aren't happy about it

https://sentry.io/organizations/minds-inc/issues/3340278369/?environment=production&query=is%3Aunresolved

### Steps to reproduce

happens all the time

### Platform information 

engine

### What is the current *bug* behavior?

read summary

### What is the expected *correct* behavior?

should return a json

### Relevant logs and/or screenshots

https://sentry.io/organizations/minds-inc/issues/3340278369/?environment=production&query=is%3Aunresolved

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
112785424,2022-08-04 12:23:34.724,Pseudo ID cookie is expiring after every session. Persist.,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Pseudo ID cookie is expiring after every session. Persist.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Have a very high expiry time.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

Check expiry date of cookie

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

Everyone

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [x] Ensure minds_pseudoid cookie does not expire every session

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [x] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",1
112680762,2022-08-02 18:22:44.430,Allow comment parents to delete child comments,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->
The ""delete"" option was visible for comment parents to delete children comments made by other users. But when they click delete, the comment is not deleted. 

![image](/uploads/0e296df0a1a172b9fffc3eb712735c04/image.png)

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->
If we want comment parents to be able to delete child comments, the backend should allow this to happen.

We also should add the delete option back to the dropdown menu in the front end (aka put the green line back into the comment component).
![image](/uploads/bc7823b9d4f70fd32fd7a3bf5bfc4398/image.png)

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->
The comment should actually be deleted.

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->
n/a

## Personas

<!---
Who does this user impact and why (optional)
--->
comment owners who want to curate their responses

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->
n/a

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] comment parents can delete their child comments
- [ ] comment parents can see the delete option on the child comment drop downs

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",3
112500968,2022-07-29 11:54:39.731,Supermind notifications: Email,"## Goal

Communicate to both the sender and the receiver of a Superminds offer the relevant and actionable events of the offer, so that (a) the sender is aware of when an offer is accepted or declined, and that (b) a receiver is aware of when an offer is received.

## What needs to be done

Create email notifications that communicate the events listed here, and trigger those notifications at the appropriate time.

| Event          | To whom   | Subject                                     | Preview text                                                                                               | Header                                              | Body                                                                                                       | CTA        | CTA link           | Figma                                                                            |
|----------------|-----------|---------------------------------------------|------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|------------------------------------------------------------------------------------------------------------|------------|--------------------|----------------------------------------------------------------------------------|
| Offer sent     | Sender    | You sent a $xx Supermind offer to @Username | They have 7 days to reply and accept this offer.                                                           | You sent a $xx Supermind offer to @Username         | They have 7 days to reply and accept this offer.                                                           | View Offer | Console > Outbound | https://www.figma.com/file/thrGepQAxmcMGB7MoEEckM/Supermind?node-id=1072%3A18817 |
| Offer received | Recipient | @Username sent you a $xx Supermind offer    | You have 7 days to reply and accept this offer.                                                            | @Username sent you a $xx Supermind offer            | You have 7 days to reply and accept this offer.                                                            | View Offer | Console > Inbound  | https://www.figma.com/file/thrGepQAxmcMGB7MoEEckM/Supermind?node-id=160%3A1972   |
| Offer declined | Sender    | @Username declined your Supermind offer     | Don't worry, you have not been charged. You can try increasing your offer to improve your chance of reply. | @Username declined your Supermind offer             | Don't worry, you have not been charged. You can try increasing your offer to improve your chance of reply. | Learn More | Supermind FAQ      | https://www.figma.com/file/thrGepQAxmcMGB7MoEEckM/Supermind?node-id=160%3A2417   |
| Offer accepted | Sender    | @Username replied to your Supermind offer   | $xx was sent to @Username for their reply.                                                                 | Congrats! @Username replied to your Supermind offer | $xx was sent to @Username for their reply.                                                                 | View Reply | Activity post URL  | https://www.figma.com/file/thrGepQAxmcMGB7MoEEckM/Supermind?node-id=160%3A2382   |
| Reminder       | Recipient | Your $xx Supermind offer expires tomorrow   | You have 24 hours remaining to review @Username's $xx offer.                                               | Your $xx Supermind offer expires tomorrow           | You have 24 hours remaining to review @Username's $xx offer.                                               | View Offer | Console > Inbound  | https://www.figma.com/file/thrGepQAxmcMGB7MoEEckM/Supermind?node-id=355%3A11986  |
| Offer expired  | Sender    | Your Supermind offer to @Username expired   | Don't worry, you have not been charged. You can try increasing your offer to improve your chance of reply. | Your Supermind offer to @Username expired           | Don't worry, you have not been charged. You can try increasing your offer to improve your chance of reply. | Learn More | Supermind FAQ      | https://www.figma.com/file/thrGepQAxmcMGB7MoEEckM/Supermind?node-id=368%3A12174  |

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

[Email_Template.zip](/uploads/f76d52645a252ef8462faedb1d53897a/Email_Template.zip)

## Personas

- Fans
- Creators

## Experiments

n/a

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Email notifications are sent to offer senders and recipients according to the table outlined above.
- [ ] Email notifications have links that point to the appropriate sections of the Superminds console.

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",5
112490054,2022-07-29 09:13:39.105,Introduce Backend API testing framework,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

We need backend API tests.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Implement https://codeception.com/docs/10-APITesting and configure backend tests to work against local and sandbox environments to begin with.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

Pipeline passes.


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

:nerd: 

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Implement codeception (https://codeception.com/docs/10-APITesting)
- [ ] Create an example API test (ie. authentication, registration)
- [ ] Setup the CI Pipeline to run Post review deploy

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",8
112385958,2022-07-28 18:24:49.394,See Latest Posts button not scrolling back to top of newsfeed,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

(Summarize the bug encountered concisely)

See Latest post button is not scrolling to the top of the newsfeed when clicked.

![Screen_Recording_2022-07-28_at_12.23.22_PM](/uploads/41e38118127d55f01f2564d7a59fc26d/Screen_Recording_2022-07-28_at_12.23.22_PM.mov)

### Steps to reproduce

(How one can reproduce the issue - this is very important)

1. Scroll deep in newsfeed with active subscriptions
2. Wait until there are latest posts to load
3. Click see latest posts and see where the scroll takes you.

### Platform information 

(Browser, device, system stats, screen size)

iOS, macbook, brave browser

### What is the current *bug* behavior?

(What actually happens)

See summary

### What is the expected *correct* behavior?

(What you should see instead)

See latest posts button should always take you to very top of newsfeed with new posts loaded

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
111962451,2022-07-21 08:12:55.544,Do not issue reward if a payout_tx already exists,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Kubernetes jobs unreliably restart and have caused rewards to be paid out twice (or multiple times).

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

If a 'payout_tx' column exists on the token_rewards table, **DO NOT** payout again. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

Rerun token rewards job and note no additional payouts

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

Crypto

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] If a 'payout_tx' column exists on the token_rewards table, **DO NOT** payout again. 
- [ ] Log an error
- [ ] Spec test

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [x] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",2
111940073,2022-07-20 19:04:26.858,Support collecting avatars from Nostr KIND 0 events,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Pull in avatars with Nostr Metadata update events.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Nostr provides a url for avatars. We need to scrape this and pass through to our avatar service. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

Avatar changes should pull into Minds.


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

Nomads

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Nostr KIND 0 avatar/profile pic changes are reflected on Minds
- [ ] Ensure we only scrape external urls. Security.
- [ ] Spec tests

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",3
111878804,2022-07-19 20:19:26.754,Implement NIP-09 for Event Deletion,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

[NIP-09](https://github.com/nostr-protocol/nips/blob/master/09.md) describes a fifth event kind for deleting posts. In order to allow users to delete their posts from our relay, we should implement this NIP.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

1. Implement support in the relay project for sending kind 5 events to the engine.
2. Expose an endpoint on the engine for deleting Nostr events when supplied a list of events in a kind 5 payload.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

We can test by creating and deleting posts with a test account.

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

N/A

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

N/A

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Events can be deleted by sending a kind 5 event payload to the Minds Nostr relay.

## Definition of Ready Checklist

- [X] Definition Of Done (DoD)
- [X] Acceptance criteria
- [X] Weighted
- [X] QA
- [X] UX/Design
- [X] Personas
- [X] Experiments",5
111771539,2022-07-18 09:10:27.864,Mobile triggering 500s trigger when updating tags on an image,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Mobile triggering 500s trigger when updating tags on an image

### Steps to reproduce

1. Post image
2. Edit it to add tags
3. On save, see 500

### Platform information 

Looks like it is engine side affecting mobile.

Replicated S10 / Android

### What is the current *bug* behavior?

500 error, cannot save

### What is the expected *correct* behavior?

Should allow save

### Relevant logs and/or screenshots

Given timing - may relate into either or both of:
 
- https://sentry.io/organizations/minds-inc/issues/3354328885/?query=is%3Aunresolved
- https://sentry.io/organizations/minds-inc/issues/3411694851/?query=is%3Aunresolved

[bashy-tag-bug](/uploads/6e35d05a7aa84801ceedbe1f79215c65/bashy-tag-bug)

### Possible fixes

See Sentry",2
111710390,2022-07-15 19:40:52.937,Supermind API,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Create API endpoints for the Supermind service. 

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Superminds will support multiple currencies, Tokens and USD (stripe). Only offchain tokens will be supported for the initial phase. 

We should use **vitess** as our datastore. Proposed schema (subject to change):

### Schema / Data structure
```
CREATE TABLE superminds (
  guid bigint, // Should this be the guid of the activity supermind request or another column
  sender_guid bigint,
  receiver_guid bigint,
  status int, // enum
  payment_method text,
  payment_txid text,
  created_timestamp timestamp,
  updated_timestamp timestamp,
  PRIMARY KEY (guid)
)
```

#### Status enums

| Enum | Status |
| ------ | ------ |
| 0 | created |
| 1 | accepted, replied |
| 2 | sender revoked |
| 3 | receiver rejected |
| 4 | payment failure |
| 5 | request expired |

### API outline
| Method | Endpoint | Description |
| ------ | ------ | ------ |
| `DELETE` | `api/v3/supermind/{{guid}}`  | REVOKES a supermind request |
| `POST` | `api/v3/supermind/{{guid}}/reject`  | REJECTS a supermind request and refunds the requester |
| `GET` | `api/v3/supermind/inbox` | LISTS all supermind requests received |
| `GET` | `api/v3/supermind/outbox` | LISTS all supermind requests sent |

### Creation flow

All Supermind Requests are **Activity posts**. All Superminds Replies are both **Activity posts** and **quote posts** of the original Supermind Request.

Therefore, Supermind posts should be created from the composer and pass data via payloads. 

For example a request:

`POST api/v2/newsfeed`

```
{
...
""supermind_request"": {
  ""receiver_guid"": << guid of receiver >>,
  ""payment_options"": {
    ""method"": ""usd"",
    ""usd_payment_intent"": ""pi_ref << stripe payment intent >>"",
    ""amount"": 100.00
  }
}
```

For example a response:

`POST api/v2/newsfeed`
```
{
...
""supermind_reply_guid"": << supermind guid >>
```

It is recommended to use the Minds internal events to tap into the Activity save events if possible. 

### Payment

Cards should **not** be charged until a Supermind reply has been made, instead use an authorization. Once a reply is made the card should be charged. If the card fails to charge the Supermind should be marked as `payment failed`.

Ensure we add a reference to the the supermind_guid on the payment metadata. 

Token balances should only be charged at time of reply. Avoid using an escrow. If no fund available at time of acceptance, mark as payment failed, insufficient funds. 

### Expiry

Supermind requests expire after 7 days. Card holds should be automatically released after this time. Only status `created` Superminds can expire. 

### Talking points

- Confusion over supermind request and supermind reply. Designs have the same badge on both, but they need to be distinguished. 
- Audit state changes. Consider snowplow. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A. This is a backend task.


## Personas

<!---
Who does this user impact and why (optional)
--->

All


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

Introduce with a new experiment and enable with a feature flag.

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [x] Create a new Supermind module
- [x] Add new `api/v3/supermind` routes
- [x] Implement new data structure as mentioned above
- [x] Support for usd (stripe) and token (offchain) payment methods
- [ ] On `replies` save a `supermind_reply_guid` field to the activity entity
- [ ] On `request` save `supermind_request_guid` field to the activity entity
- [ ] Index the `supermind_reply_guid` and `supermind_request_guid` fields on elasticsearch
- [ ] Garbage collection job to mark supermind requests older than 7 days as expired
- [ ] Integration and spec tests

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",20
111708606,2022-07-15 18:50:39.081,Implement 10% Minds cut + processing fees,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Increase Minds Fee

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

See acceptance criteria.

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->


## Personas

<!---
Who does this user impact and why (optional)
--->


## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->


## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Increase stripe application fee from 5% to 10%
- [ ] Update reference to fee in relevant places

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",2
111708559,2022-07-15 18:48:43.188,Ability to authenticate against Twitter OAuth,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

Allow for cross posting to twitter by authentication twitter accounts to minds


## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

See above and acceptance criteria below. 

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->


## Personas

<!---
Who does this user impact and why (optional)
--->

N/A

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

Feature flag.

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [x] Introduce Twitter OAuth flow
- [x] Store access tokens in a new table and handle refresh tokens on failure
- [x] Proof of concept script to create a tweet from minds api
- [x] Encrypt the access tokens on the database
- [ ] Tests (Spec & Integration)

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments",8
113216085,2022-07-15 18:34:37.647,Supermind notifications: Push & In-app,"## Goal

Communicate to both the sender and the receiver of a Superminds offer the relevant and actionable events of the offer, so that (a) the sender is aware of when an offer is accepted or declined, and that (b) a receiver is aware of when an offer is received.

## What needs to be done

Create email, push, and in-app notifications that communicate the events listed here, and trigger those notifications at the appropriate time.

| Event                            | Notified user | Clicks to                    | Push notification copy                                |
|----------------------------------|---------------|------------------------------|-------------------------------------------------------|
| Sender sends a Supermind offer   | Sender        | n/a                          | n/a                                                   |
| Sender sends a Supermind offer   | Recipient     | Supermind console > Inbound  | @channelName sent you a Supermind offer               |
| Receiver declines an offer       | Sender        | Supermind console > Outbound | @channelName has declined your Supermind offer        |
| Receiver accepts an offer        | Sender        | Activity post URL            | @channelName has replied to your Supermind offer            |
| 24 hours before an offer expires | Recipient     | Supermind console > Inbound  | Don't forget to review @channelName's Supermind offer |
| An offer expires                 | Sender        | Supermind console > Outbound | @channelName missed your Supermind offer              |

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->


## UX/Design

https://www.figma.com/file/thrGepQAxmcMGB7MoEEckM/Supermind?node-id=1024%3A23254

## Personas

- Fans
- Creators

## Experiments

n/a

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [x] Push notifications are sent to offer senders and recipients according to the table outlined above.
- [x] Push notifications have links that point to the appropriate sections of the Superminds console.
- [ ] There's an in-app representation of the push notification that taps to the appropriate section of the Superminds console.
- [x] Backend should support returning a supermind by its guid `GET /api/v3/supermind/:guid`
- [x] Clicking on an single supermind notification should navigation to a single view supermind page in the console
- [ ] Clicking on multiple/stacked superminds notifications should navigate the the supermind console
- [x] Push notification should supply a uri for the supermind notification (deeplinking support)
- [x] Add supermind toggle to the push notification settings
- [x] Playright tests 

## Definition of Ready Checklist

- [ ] Definition Of Done (DoD)
- [ ] Acceptance criteria
- [ ] Weighted
- [ ] QA
- [ ] UX/Design
- [ ] Personas
- [ ] Experiments",8
111700586,2022-07-15 14:57:32.260,Read clustered recs from Vitess,"<!---
Please read this!

The Definition of Ready (DoR) can be found at https://developers.minds.com/docs/handbook/how-we-work/#definition-of-ready-dor

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""Type::Feature"" label and verify the feature you're about to submit isn't a duplicate.
--->

## Goal

<!---
Clearly outline the goal of the issue and why we are doing it
--->

We can't exclude enough seen posts with the current ElasticSearch solution. #2363 will enable us do a `JOIN` query in order to exclude seen results much easier, and with much less bandwidth usage.

## What needs to be done

<!---
Clearly detail what needs to be done to achieve the goal set out above
--->

Read clustered results from MySQL.

```sql
CREATE TABLE clustered_entities_recs (
  cluster_id int,
  entity_guid bigit,
  score float,
  ...
  PRIMARY KEY (cluster_id, entity_guid)
)
```

ES is currently:
```json
{
  'entity_guid': record[0],
  'entity_owner_guid': rprops[0],
  'cluster_id': record[1],
  'score': record[2],
  'total_views': rstats[2],
  'total_engagement': rstats[3],
  '@first_engaged': rstats[0].strftime(""%Y-%m-%dT%H:%M:%SZ""),
  '@last_engaged': rstats[1].strftime(""%Y-%m-%dT%H:%M:%SZ""),
  '@last_updated': update_str,
  '@time_created': rprops[1].strftime(""%Y-%m-%dT%H:%M:%SZ"")
}
```

## QA

<!---
Consideration is given to how the issue will be demoed and tested prior to being deployed
--->

Ensure results are being returned. 

## UX/Design

<!---
Sufficient wireframes have been presented and understood by the development team. Full mockups are not required and re-usable components are encouraged.
--->

N/A

## Personas

<!---
Who does this user impact and why (optional)
--->

N/A

## Experiments

<!---
Experiments are not required, but it should be made clear if one is expected. If experiments are required, the hypothesis should be outlined.
--->

No, but do make a feature flag

## Acceptance Criteria

<!--
Everyone should be able to understand what is expected to be delivered
--->

- [ ] Schema for MySQL
- [ ] Querying results from Vitess and removing ElasticSearch
- [ ] Spec tests

## Definition of Ready Checklist

- [x] Definition Of Done (DoD)
- [x] Acceptance criteria
- [ ] Weighted
- [x] QA
- [x] UX/Design
- [x] Personas
- [x] Experiments

Read",5
22417125,2019-07-01 17:36:58.144,(bug): Imagick fix,"https://fix-imagick-upgrade-migration-563.minds.io/newsfeed/subscriptions

Had to fix the issues I was having locally with Imagick to enable progress on other tasks that were reliant on this. With the help of @brianhatchet I have identified that the version installed is Imagick 3.4.0. Since Imagick 3.2.0 flattenImages() has been depreciated, I have replaced this with its recommended counterpart in the attached MR",5
22416205,2019-07-01 16:54:29.955,(refactor): calculate averages from the results of the graphs queries,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,7
22416194,2019-07-01 16:53:59.727,(fix): timespans in analytics charts,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
22293938,2019-06-26 19:35:21.087,Add nsfw categories to hashtag selection during onboarding,Give users the ability to add which nsfw categories they want to see on the hashtag selection portion of the onboarding process. Discussed as high priority on admin call.,1
22272382,2019-06-26 13:45:10.690,(feat): PSR-3 Logger,"# From the old MR !230 
- Cherry pick the needed implementation bits
- Change to a non-DI-required based approach (static class singleton factory?)
- Delete the outdated MR
- Create a new MR
- Implement Sentry handler",4
22194160,2019-06-24 14:18:16.626,(refactor): Old boost console should just list normal boosts,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
22145936,2019-06-21 22:26:34.851,(refactor): Added owner/admin check. Changed how updates are managed. [BC],Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
22106226,2019-06-20 20:14:00.476,(refactor): Create Raw\Repository. Network\Repository to use it.,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
22103066,2019-06-20 17:52:38.668,(feat) Add gif flag to activity entity,To properly identify when an image is a gif in the mobile app,1
22101037,2019-06-20 16:30:51.293,(feat): Calculate if campaign is viable using boosts burn stats.,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
22096326,2019-06-20 14:26:21.541,(feat): Ability to cancel (revoke) campaigns,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
22080226,2019-06-20 03:04:27.225,"(feat): Create boost delivery dispatcher, which should support both Boosts and Campaigns",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
22080210,2019-06-20 03:02:00.362,(feat): Implement double write to Cassandra's boost table on campaigns [BC],Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
22080202,2019-06-20 03:01:15.039,(feat): Calculate campaign delivery status based on ES entity timestamp fields. Handle lifecycle on manager. [BC],Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
22080194,2019-06-20 03:00:16.103,(feat): Validate start and end dates when editing campaigns [BC],https://gitlab.com/minds/engine/commit/a6f14b0f70b3544b2588842789c73f78e3d1440d,2
22080180,2019-06-20 02:58:16.053,(feat): Validate budget and payments upon creation and edition of campaigns [BC],Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
22080164,2019-06-20 02:56:30.505,(feat): Implement onchain payments [BC],Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
22080159,2019-06-20 02:56:00.392,(feat): Implement offchain payments [BC],Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
22075547,2019-06-19 21:13:18.320,(feat): onchain badge front-end changes,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
22068244,2019-06-19 15:38:02.872,(refactor): Create and implement Boost\Elastic raw repository,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
22067511,2019-06-19 15:15:36.853,(feat): Ability to enable/disable comments on your posts,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
22067299,2019-06-19 15:11:29.619,(feat): Send email to referrer on state changes,Going to do this as a notification instead.,5
22681975,2019-06-19 14:19:02.302,"(bug): publishing a blog that was saved as a draft or ""unlisted"" does not generate activity post","<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Many bloggers like to save drafts or publish blogs as unlisted before making them public so they can work on them. If you save a draft, or publish as unlisted, and eventually try to publish the blog to public, then it does not generate an activity post.

### Steps to reproduce

1. Write a blog
2. Save as draft (can try doing this twice)
3. go back to edit blog and publish as public. 
4. No activity post created

1. Write a blog
2. Publish as unlisted
3. go back and edit blog and publish as public
4. no activity post created

### Platform information 

All

### What is the expected *correct* behavior?

An activity post should be created everytime you publish a blog as ""Pubic"" no matter what the state of the blog was prior.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
22614384,2019-06-18 21:43:15.335,(bug): Block function does not extend to wire,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

A user can still be sent tokens by a user that they have blocked.

### Steps to reproduce

1. User 1 - Block user 2
2. User 2 - Wire tokens to user 1

### Platform information 

Cross-platform 

### What is the current *bug* behavior?

A user can still be sent tokens by a user that they have blocked.

### What is the expected *correct* behavior?

A user should not be able to receive any tokens by a user that they have blocked.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",3
22037211,2019-06-18 19:29:26.262,(feat): Targeting selector should be a static dropdown (vs a text input),Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
22030893,2019-06-18 15:05:24.406,(bug): Video thumbnail change only updating thumbnail in users gallery,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

It appears that when setting a thumbnail for a video, it only applies on the media page; in other peoples news-feeds, it is still how it used to be. 

Ideally we **should** also make this feature more readily available (e.g. on the edit on the newsfeed).

### Steps to reproduce

1. Go to the full screen media page for an activity.
2. Click on the options menu (⋮).
3. Hit edit.
4. Set a video thumbnail and save.
5. Refresh and compare the media page thumbnail with the newsfeed in another window/tab.	

### Platform information 

Universal Web.

### What is the current *bug* behavior?

Thumbnail does not update for media feed.

### What is the expected *correct* behavior?

Thumbnail changes should propagate across the site.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",5
21993885,2019-06-17 20:11:31.852,(proto): Edit campaign boost. Delegates. Campaign update validations.,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
21993880,2019-06-17 20:11:14.178,(proto): Create campaign boost. Delegates. Validate server-side.,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
21993871,2019-06-17 20:10:57.583,(feat): Create Boost\Campaigns\Repository,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
21985817,2019-06-17 16:00:40.627,(bug): offChain tokens not working to purchase Plus for some users,Some users are reporting trouble with purchasing a Plus subscription with offChain tokens. Unable to replicate. See this thread: https://www.minds.com/media/985320288821985280,1
21970107,2019-06-17 12:00:38.946,(chore): Test imagick,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
22354268,2019-06-16 21:04:03.090,(bug): Limited password validation on forgot password,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

When you forget your password, the password strength enforcement is different. Characters like @ are not allowed, but all lower case with no numbers and symbols is.

### Steps to reproduce

1. Log out
2. Click on forgot my password on login form
3. follow instructions
4. try an all lower case password with an @
5. try removing the @

### Platform information 

Very likely cross-platform but reproduced on S7 edge.

### What is the current *bug* behavior?

Weak passwords are allowed.

### What is the expected *correct* behavior?

Weak passwords should not be allowed.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",5
21954070,2019-06-16 21:04:03.090,(bug): Limited password validation on forgot password,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

When you forget your password, the password strength enforcement is different. Characters like @ are not allowed, but all lower case with no numbers and symbols is.

### Steps to reproduce

1. Log out
2. Click on forgot my password on login form
3. follow instructions
4. try an all lower case password with an @
5. try removing the @

### Platform information 

Very likely cross-platform but reproduced on S7 edge.

### What is the current *bug* behavior?

Weak passwords are allowed.

### What is the expected *correct* behavior?

Weak passwords should not be allowed.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",5
21931742,2019-06-14 22:19:58.754,(feat): Referrals backend architecture,Setup the backend for referrals console,10
21914743,2019-06-14 11:47:11.810,(fix): graphs queries,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,7
21879263,2019-06-13 14:25:40.074,(feat): Implement `deleted` field restraint on Elastic Feeds,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
21875771,2019-06-13 12:46:53.368,(feat): [IndexedDB] Make databases self-healing upon opening,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
21875718,2019-06-13 12:45:19.509,(chore): [Ban Snapshots] Queue should be a string; Use DI for instantiation,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
21817020,2019-06-11 22:04:40.989,"(feat): extend e-tag blur of text to be removable when clicking on area, not just the e-tagged icon","https://www.minds.com/newsfeed/985302636846891008

if you tap on john's remind status addition it will not open, so you can't see what he says. 

if you tap on mine, only mine opens. it should open it all. 

ALSO. 

The mature content optin in settings should not be separate from the nsfw optin on the newsfeed. they need to be the same. the nsfw one should be BOTH places and if you opt in to nudity, there should be NO BLUR. ",2
22162236,2019-06-09 19:06:30.433,(bug): Double upvote a blog post,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

@Grantek  reports that they can double upvote a blog post on anothers channels. See images below.

### Steps to reproduce

1. Post a blog on a test account.
2. Go to the channel.
3. Upvote the post in the feed.
3. Upvote the post in the blog sidebar on the left.

### Platform information 

Cross-platform web

### What is the current *bug* behavior?

Can register 2 upvotes

### What is the expected *correct* behavior?

(What you should see instead)

### Relevant logs and/or screenshots

See comments

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)

/label minds/minds~9207169 ~""S \- Triage:new"" 
",4
21710936,2019-06-09 16:31:23.476,Deleting post in moderated group queue does not remove post,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

If a user deletes a post in a moderated group before it is approved, the post can still be approved and does not get deleted. 

### Steps to reproduce

1. Make a group, make it moderated.
2. Login to a secondary account, create posts numbered 1, 2, 3, 4, 5.
3. Log-in to primary account, go to queue and reject the post numbered 3.
4. Observe the post is no longer in the queue, but if you go back to the group, it is still there with ""this post is awaiting moderation"" text.

### Platform information 

Cross-platform web

### Relevant logs and/or screenshots

https://www.minds.com/newsfeed/984135202688479232",2
21698857,2019-06-08 21:48:51.810,"(bug): Reminded content where the original poster is blocked, shows wrong error message.","<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

On desktop as illustrated in image 1 (below), the message displayed to the user is that the post cannot be viewed because the user is blocked - It should be matching the text shown on the front-end, where it says that its not available, because they have blocked X user - this is less confusing.
 
### Steps to reproduce

1. View remind of blocked channel on desktop
2. View the same remind on mobile

### Platform information 

v3.5.0 - Cross-platform

### What is the current *bug* behavior?

Text is a bit misleading and implies the user has the *reminder* blocked. 

### What is the expected *correct* behavior?

Text should match that of the desktop site.

### Relevant logs and/or screenshots

![Wire_2019-06-08_at_7_29_PM](/uploads/13369195e6096d8d4dddb7a71140c186/Wire_2019-06-08_at_7_29_PM.png)

![Screen_Shot_2019-06-08_at_2.54.28_PM](/uploads/d4b280c5f86676e9933032b0ed069cc6/Screen_Shot_2019-06-08_at_2.54.28_PM.png)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",2
25720789,2019-06-07 13:42:11.356,Duplicate users in messenger,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

- [ ] Backend should filter the output so only one shows
- [ ] Backend should patch

----------

### Summary

There appears to be an issue that causes in some cases users to be duplicated in the messenger window.

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information

Android, Moto G5 Android 8.1.0

### App version

v3.7.0-rc2

### What is the current *bug* behavior?

Users are shown multiple times.

### What is the expected *correct* behavior?

Users should be shown once.

### Relevant logs and/or screenshots

https://www.minds.com/newsfeed/1003379382771515392

![Screenshot_20190607-083233](/uploads/d8dc829b62af58e44e2c987a19e79f23/Screenshot_20190607-083233.png)

### Possible fixes

(If you can, link to the line of code that might be responsible for the problem)",1
21612695,2019-06-05 20:21:54.295,(prototype): Campaigns,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
21612239,2019-06-05 19:47:28.165,(chore): Move Core\Poster to Core\Feeds\Activity,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
21612228,2019-06-05 19:46:53.818,(test): Fix spec tests for Interactions MR,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
21603639,2019-06-05 15:02:11.376,Implement an elastic search provisioner,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,15
21603615,2019-06-05 15:01:14.347,Implement a cassandra provisioner,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,15
21603345,2019-06-05 14:55:56.872,Firehose - add analytics for remaining posts - backend,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,15
21603127,2019-06-05 14:51:56.679,"Firehose - Items adjudicated in ""All"" feed are showing up in ""Images"" feed.",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
21599760,2019-06-05 13:12:19.204,(feat): Add new delegate to network boost manager to issue badge on accepted boost,"User->onchain_booster = timestamp

ElasticSearch query to get count of accepted onchain boost in last 7 days.",10
21585003,2019-06-05 02:41:04.169,(feat): Sanitize and validate all client meta (fromGlobals and View),Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
21582972,2019-06-04 22:58:12.508,(refactor): Update client meta handlers to use the new keys (!160),Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
21528948,2019-06-03 13:30:36.078,(chore): Fix merge conflict on !177 (Feeds\Top -> Feeds->Elastic),Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
21498283,2019-06-01 17:19:02.951,(bug): saves do not stick after refresh for new accounts,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Edits to channel page do not stick after refresh.

### Steps to reproduce

1. Create new account;
2. Click edit button;
3. Edit bio;
4. Click save;
5. Refresh

### Platform information 

Windows 10, FireFox, Chrome, Opera. Appears to be browser independent",4
21485594,2019-05-31 18:58:41.223,(refactor): Use Save action when editing attachment paywall,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
21485081,2019-05-31 18:19:55.071,(fix): /v1/boost/fetch not sending entities URNs,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
21456490,2019-05-30 18:48:00.913,(refactor): #458 should implement an event/delegate for paywall inheritance,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
21455334,2019-05-30 17:44:15.351,(refactor): Cycle through all users to re-index Blog drafts,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
21455244,2019-05-30 17:39:58.340,(feat): Add platform field to View,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
21453082,2019-05-30 16:16:53.696,(feat): apply rate limit to offchain boosts,"10 tokens per day with linked alert to ""Please Boost on-chain for more than 10 tokens/day.""",3
21450869,2019-05-30 14:51:23.114,(test): Fix Ban Snapshot spec tests,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
21450859,2019-05-30 14:51:08.055,(refactor): Ban Snapshot optimizations,"- No need to snapshot/restore personal indexes
- No need to snapshot/restore lookup indexes
- No need to snapshot/restore entities (they can just add the 'delete' boolean to them)
- No need to download from ES (a boolean on all the owner_guids documents should suffice)
- There needs to be a distinction between hiding/deleting. Add another function called hide(), and if it is a delete operation for that delegate, it will just pass though as delete().",8
21450811,2019-05-30 14:49:02.949,(bug): Published blog not showing on sidebar or blogs feed (minds#476),Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
21403537,2019-05-29 11:11:18.499,(test): Spec tests for Core\Analytics\Views module,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
21371569,2019-05-28 14:02:18.615,(feat): ElasticRepository for Feed Impressions,"See #468 for CQL schema

```json
{
  ""properties"": {
    ""uuid"": {
      ""type"": ""keyword""
    },
    ""entity_urn"": {
      ""type"": ""keyword""
    },
    ""entity_type"": {
      ""type"": ""keyword""
    },
    ""entity_guid"": {
      ""type"": ""long""
    },
    ""source"": {
      ""type"": ""keyword""
    },
    ""campaign"": {
      ""type"": ""keyword""
    },
    ""medium"": {
      ""type"": ""keyword""
    },
    ""position"": {
      ""type"": ""integer""
    },
    ""@timestamp"": {
      ""type"": ""date""
    }
  }
}
```",2
21347776,2019-05-28 00:07:45.204,(chore): Blog drafts migration script CLI,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
21330112,2019-05-27 11:52:02.366,(feat): analytics backend refactor,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,15
21310502,2019-05-26 20:10:42.085,Re-indexing of old blog drafts,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

@authorpendragon via H&S

> This is seriously worrying. Although I doubt that devices matter in this, I'm on Chromebook and Mac Air/High Sierra/Firefox. Minds has given us a sub-channel of our published blogposts. Nice touch. However, I had a massive amount of unlisted blogposts, which have suddenly vanished...and many of my published ones, several the work of months each, are missing. The article below for example comes from my Gail McGowan Mellor channel. It was the product of months of research, writing and fielding comments, yet missing completely from the new blog gallery set-up.

> I retrieved it from way down the list in the Boost Console.

> Anything never boosted (ALL my unlisted work) is of course not retrievable that way. As worrying, although I can get this particular article from Boost, republishing it does not make it show up in the new blogpost listing.

> I've lost access to at least 4/5 of my work. Please restore the previous set-up. I cannot even inventory the amount of loss, which is not balanced by a glitzy new format.

This is critically important because some blog posters like @authorpendragon, but incredibly amounts of effort into their blogs, and the drafts can take months to finalise. 

### Steps to reproduce

(How one can reproduce the issue - this is very important)

### Platform information 

Chromebook and Mac Air/High Sierra/Firefox

### What is the current *bug* behavior?

The user cannot see the majority of their blog drafts

### What is the expected *correct* behavior?

The user should be able to see all of their previous blog drafts.

### Relevant logs and/or screenshots

(Paste any relevant logs - please use code blocks (```) to format console output,
logs, and code as it's very hard to read otherwise.)

### Possible fixes

I believe the workaround to this is to re-index the post manually. Regardless this should not be necessary.",5
21278033,2019-05-24 19:23:24.899,(fix): Add pagination to Subscriber/Subscriptions Ban Snapshot delegates,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
21276056,2019-05-24 17:43:10.592,(refactor): Ban Snapshot should use subscribe/unsubscribe methods instead of direct DB ops,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
21267273,2019-05-24 13:37:52.311,(chore): Ban Snapshot to be in sync with new features,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
21264658,2019-05-24 12:27:30.808,(feat): Add AWS CloudWatch logs for production on !179,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
21230386,2019-05-23 17:12:37.230,(bug): Comments are not resolving from urn in reports,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
21202264,2019-05-22 23:23:09.351,(chore): Rebase !177 once !175 is merged onto master,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
21188330,2019-05-22 13:55:54.604,(feat): Setup Monolog as PSR-3 implementation,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
21182630,2019-05-22 12:01:46.535,(feat): implement more graphs based on Rami's queries,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,15
21182623,2019-05-22 12:01:32.175,(feat): CLI should always update analytics cache,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
21180038,2019-05-22 10:44:16.234,(feat): Do not allow a boost to be created if the same post has still not completed,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,5
21151173,2019-05-21 14:26:01.109,(fix): Re-sync ES if expired boost was already completed,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
21113920,2019-05-20 22:26:19.984,(feat): Dev-only hardcoded cohort list should go through ElasticSearch,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
21113916,2019-05-20 22:25:42.195,(feat): Filter cohort based on involved phone hashes,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
21093827,2019-05-20 14:58:10.791,(feat): Export related entity on strikes list API,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
20997688,2019-05-17 12:37:11.572,(feat): cassandra schema for analytics,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
20997643,2019-05-17 12:35:42.947,"(feat): queries for interactions, posts, comments and subscribers",Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,10
20981418,2019-05-17 01:34:26.810,(): Moderation summons,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,30
20929761,2019-05-15 14:37:00.282,(bug): Hashtags should be converted to lowercase when querying,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
20899196,2019-05-14 18:47:53.797,(fix): Top channels showing blocked users,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
21710175,2019-05-14 16:39:04.505,(feat): strip hashtags on backend search requests,"It'd be nice to be able to search HashTags in the top bar. The simplest solution to this is to strip the hash symbol, and search the string.",1
20846412,2019-05-13 15:42:00.861,(feat)(proto): Receive meta on feed abandonment position,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
20809685,2019-05-12 15:25:08.821,(bug): cannot open moderated posts,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

Opening up moderated posts generates the ""Sorry, we couldn't load the activity"" error message.

### Steps to reproduce

1. Go to moderated section of a group
2. Click the date on a pending post
3. Does not open.

### Platform information 

Windows 10, chrome.",4
20764954,2019-05-10 16:18:51.844,(bug): subscriber feed does not load,"<!---
Please read this!

Before opening a new issue, make sure to search for keywords in the issues
filtered by the ""T - Bug"" label and verify the issue you're about to submit isn't a duplicate.
--->

### Summary

The subscriber feed does not load for many users. Clicking ""Click to load more"" does not produce more results.

### Steps to reproduce

Go to subscription page (e.g. https://www.minds.com/Talon123/subscriptions) and attempt to load them.

### Platform information 

Windows 10, chrome / firefox


### Relevant logs and/or screenshots

https://www.minds.com/newsfeed/973569609504034816

### Possible fixes

I think the error might be produced when the user has over 5,000 subscribers, or had over 5,000 and then removed a lot of them.",3
20739938,2019-05-09 19:33:19.845,(feat)(proto): Receive client meta when subscribing and save on metrics,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
20739856,2019-05-09 19:28:35.173,(feat)(proto): Receive client meta on activity view beacon and save on metrics,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,4
20739844,2019-05-09 19:27:28.099,(feat)(proto): Receive client meta when commenting and save on metrics,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,1
20703665,2019-05-08 19:17:06.703,(feat)(proto): Receive client meta and save within metrics,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,7
20701831,2019-05-08 17:31:53.373,(feat): setup kubernetes locally and test ES queries with real data,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
20701823,2019-05-08 17:31:22.392,(feat): don't allow non-admins to access admin analytics,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
20701817,2019-05-08 17:30:56.120,(feat): add caching to new analytics,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,3
20558740,2019-05-03 12:58:40.728,(feat): Don't send notifications from blocked users,Is this a bug? Make sure to use the Bug template above and be as detailed in your report as possible.,2
